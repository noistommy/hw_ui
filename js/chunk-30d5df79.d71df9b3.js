(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30d5df79"],{"62a2":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"scrollspy"},[t._m(0),e("div",[e("div",{staticClass:"hw-button primary",on:{click:t.changeMode}},[t._v(t._s(t._f("uppercase")(t.type)))])]),t._m(1)])},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-list user-nav"},[e("div",{staticClass:"type-nav"},[e("span",{staticClass:"name"},[t._v("Selction 1")])]),e("div",{staticClass:"type-nav"},[e("span",{staticClass:"name"},[t._v("Selction 2")])]),e("div",{staticClass:"type-nav"},[e("span",{staticClass:"name"},[t._v("Selction 3")])]),e("div",{staticClass:"type-nav"},[e("span",{staticClass:"name"},[t._v("Selction 4")])]),e("div",{staticClass:"type-nav"},[e("span",{staticClass:"name"},[t._v("Selction 5")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-wrapper"},[e("section",{staticClass:"s-section",attrs:{"data-title":"section 1"}},[e("div",{staticClass:"title"},[t._v("SECTION 1")])]),e("section",{staticClass:"s-section",attrs:{"data-title":"section 2"}},[e("div",{staticClass:"title"},[t._v("SECTION 2")])]),e("section",{attrs:{"data-title":"section 3"}},[e("div",{staticClass:"title"},[t._v("SECTION 3")])]),e("section",{staticClass:"s-section",attrs:{"data-title":"section 4"}},[e("div",{staticClass:"title"},[t._v("SECTION 4")])]),e("section",{attrs:{"data-title":"section 5"}},[e("div",{staticClass:"title"},[t._v("SECTION 5")])])])}];class n{constructor(t={}){let{scroller:e,section:s,title:i,type:o,offset:n}=t;this.currentTop=0,this.currentType=0,this.sectionInfo=[],this.option={scroller:e||null,section:s||"section",title:i||null,type:o||"dot",offset:n||0}}createNav(){const t=document.createElement("ul");t.classList.add("nav-list",this.option.type);const e=this.setPosition();for(let s=0;s<e.length;s++){const i=document.createElement("li");i.classList.add("type-nav");const o=document.createElement("span");o.classList.add("name"),o.innerText=e[s].title,i.append(o),t.append(i),i.addEventListener("click",()=>{this.option.scroller.scrollTop=e[s].offset,this.currentTop=e[s].offset})}this.option.scroller.append(t)}connectNav(){const t=document.querySelector(".nav-list"),e=this.setPosition(),s=t.querySelectorAll(".type-nav");for(let i=0;i<e.length;i++)s[i].addEventListener("click",()=>{this.option.scroller.scrollTop=e[i].offset,this.currentTop=e[i].offset})}init(){this.option.scroller=this.getScrollableNode(document.querySelector("section")),console.dir(this.option.scroller),this.option.scroller.style.scrollBehavior="smooth",this.currentTop=this.option.scroller.scrollTop,document.querySelector(".nav-list")?this.connectNav():this.createNav(),this.option.scroller.addEventListener("scroll",()=>{this.currentTop=this.option.scroller.scrollTop;for(let t=0;t<this.sectionInfo.length;t++){if(this.currentTop<this.sectionInfo[t].offset){this.currentType=t-1;break}this.currentType=t}this.setActive()});let t=null;window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(()=>{const t=document.querySelector(".nav-list");t.parentNode.removeChild(t),this.createNav()},300)})}setPosition(){const t=document.querySelectorAll(this.option.section),e=[];return t.forEach(t=>{const s={};s.title=t.querySelector(this.option.title).textContent,s.offset=t.offsetTop-this.option.offset,e.push(s)}),this.sectionInfo=e,e}setActive(){const t=document.querySelectorAll(".type-nav");t.forEach((t,e)=>{e==this.currentType?t.classList.add("active"):t.classList.remove("active")})}getScrollableNode(t){return null==t?null:t.scrollHeight>t.clientHeight?t:this.getScrollableNode(t.parentNode)}}var l={name:"ScrollspyView",data(){return{type:"dot",ss:null}},mounted(){this.ss=new n({title:".title",offset:140}),this.ss.init()},methods:{changeMode(){const t=document.querySelector(".nav-list");t&&t.parentNode.removeChild(t),this.ss.option.type=this.type,this.type="list"===this.type?"dot":"list",this.ss.init()},setUserMode(){const t=document.querySelector(".nav-list");t.parentNode.removeChild(t),this.ss.option.type="user-nav",this.ss.init()}}},c=l,a=(s("7944"),s("2877")),r=Object(a["a"])(c,i,o,!1,null,null,null);e["default"]=r.exports},7944:function(t,e,s){"use strict";s("7a1f")},"7a1f":function(t,e,s){}}]);
//# sourceMappingURL=chunk-30d5df79.d71df9b3.js.map