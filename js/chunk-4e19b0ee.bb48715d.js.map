{"version":3,"sources":["webpack:///./src/components/Charts/ChartsView.vue?310c","webpack:///./src/components/Charts/XYCharts.vue?256e","webpack:///./node_modules/@amcharts/amcharts5/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/List.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Children.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/States.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/Registry.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/Pattern.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/PicturePattern.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/ResizeSensor.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/InterfaceColors.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/PointedRectangle.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Tooltip.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/NumberFormatter.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Timezone.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/DateFormatter.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/DurationFormatter.js","webpack:///./node_modules/@amcharts/amcharts5/locales/en.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Language.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/Theme.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Matrix.js","webpack:///./node_modules/svg-arc-to-cubic-bezier/modules/index.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/backend/CanvasRenderer.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/Root.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Circle.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Bullet.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/ColorSet.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Time.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChartDefaultTheme.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Chart.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/SerialChart.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/RoundedRectangle.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Button.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChart.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Data.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Axis.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/ValueAxis.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/util/Draw.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Line.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Tick.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisTick.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Grid.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisLabel.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRenderer.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererY.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/DateAxis.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererX.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Series.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/XYSeries.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/BaseColumnSeries.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/ColumnSeries.js","webpack:///./node_modules/d3-path/src/path.js","webpack:///./node_modules/d3-shape/src/array.js","webpack:///./node_modules/d3-shape/src/constant.js","webpack:///./node_modules/d3-shape/src/curve/linear.js","webpack:///./node_modules/d3-shape/src/point.js","webpack:///./node_modules/d3-shape/src/line.js","webpack:///./node_modules/d3-shape/src/area.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/LineSeries.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/MonotoneXTension.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/SmoothedXLineSeries.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYCursor.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/themes/AnimatedTheme.js","webpack:///./node_modules/@amcharts/amcharts5/themes/Animated.js","webpack:///src/components/Charts/XYCharts.vue","webpack:///./src/components/Charts/XYCharts.vue?0a12","webpack:///./src/components/Charts/XYCharts.vue","webpack:///./src/components/Charts/PieCharts.vue?a64c","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Legend.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/percent/PercentDefaultTheme.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/percent/PercentChart.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/pie/PieChart.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/percent/PercentSeries.js","webpack:///./node_modules/d3-shape/src/math.js","webpack:///./node_modules/d3-shape/src/arc.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/Slice.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/RadialText.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/core/render/RadialLabel.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/pie/PieSeries.js","webpack:///src/components/Charts/PieCharts.vue","webpack:///./src/components/Charts/PieCharts.vue?40f3","webpack:///./src/components/Charts/PieCharts.vue","webpack:///./src/components/Charts/GaugeCharts.vue?6380","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/CategoryAxis.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/radar/RadarDefaultTheme.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/radar/RadarChart.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisLabelRadial.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/radar/AxisRendererCircular.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/radar/AxisRendererRadial.js","webpack:///./node_modules/@amcharts/amcharts5/.internal/charts/radar/RadarColumnSeries.js","webpack:///src/components/Charts/GaugeCharts.vue","webpack:///./src/components/Charts/GaugeCharts.vue?6c68","webpack:///./src/components/Charts/GaugeCharts.vue","webpack:///src/components/Charts/ChartsView.vue","webpack:///./src/components/Charts/ChartsView.vue?aa72","webpack:///./src/components/Charts/ChartsView.vue","webpack:///./src/components/Charts/ChartsView.vue?7943"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","container","container_s","staticRenderFns","ref","style","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","pop","push","__read","o","m","r","ar","error","__spreadArray","to","from","pack","l","slice","concat","Number","getType","toString","toNumber","isNumber","converted","isString","replace","toDate","isDate","Date","num","numberToString","Infinity","negative","Math","abs","res","parsed","exec","digits","decimals","undefined","exponent","zeros","repeat","string","amount","join","isObject","PLACEHOLDER","PLACEHOLDER2","indexOf","array","any","test","map","fn","output","each","eachReverse","eachContinue","element","found","index","splice","removeFirst","pushOne","copy","insertIndex","removeIndex","findIndex","matches","findIndexReverse","find","findReverse","getSortedIndex","ordering","start","end","pivot","order","getFirstSortedIndex","keepIf","keep","DisposerClass","defineProperty","enumerable","configurable","writable","_disposed","_dispose","Disposer","dispose","_super","ArrayDisposer","_this","_disposers","x","MultiDisposer","disposers","MutableValueDisposer","_disposer","_value","disposer","set","CounterDisposer","_counter","EventDispatcher","_listeners","_killed","_disabled","_iterating","_enabled","a","type","killed","listener","Error","once","callback","context","_eachListener","info","hasListenersByType","count","_removeListener","event","_shouldDispatch","dispatch","shouldClone","_removeExistingListener","_on","_type","source","onAll","on","TargetedEventDispatcher","target","checkBounds","len","List","initial","_values","get","newValue","events","isEnabled","oldValue","oldIndex","newIndex","oldValues","_onSetIndex","_onInsertIndex","value_a","value_b","_onRemoveIndex","toIndex","toIndex_1","_onMoveIndex","_onPush","values","pushAll","newArray","old","_onClear","setAll","_a","ListAutoDispose","autoDispose","ListTemplate","template","make","Children","_container","_events","change","_onRemoved","_onInserted","child","_setParent","childrenDisplay","_childrenDisplay","addChild","_display","addChildAt","removeChild","markDirtyBounds","markDirty","Percent","percent","min","max","rootStylesheet","p100","p50","keys","object","keysOrdered","sort","forEach","key","hasKey","removeElement","el","parentNode","addEventListener","dom","options","removeEventListener","onZoom","window","_ev","supports","cap","getPointerId","id","pointerId","document","activeElement","blur","input","createElement","position","top","left","appendChild","focus","getRendererEvent","isTouchEvent","ev","Touch","PointerEvent","pointerType","MouseEvent","match","setStyle","property","getStyle","contains","cursor","host","isLocalEvent","root","setInteractive","interactive","pointerEvents","createStylesheet","text","nonce","setAttribute","textContent","head","getStylesheet","sheet","appendStylesheet","selector","cssRules","insertRule","StyleRule","styles","_root","_rule","selectorText","deleteRule","name","setProperty","_setVendorPrefixName","StyleSheet","_element","iOS","navigator","vendor","getSafeResolution","relativeToValue","full","decimalPlaces","number","padString","char","trimLeft","trimRight","trim","getFormat","format","toLowerCase","hints","cleanFormat","stripTags","escapeForRgex","getYearDay","date","utc","getFullYear","diff","getTime","getTimezoneOffset","oneDay","floor","getWeek","_utc","UTC","getMonth","getDate","day","getUTCDay","setUTCDate","getUTCDate","firstDay","getUTCFullYear","ceil","getMonthWeek","firstWeek","currentWeek","getDayFromWeek","week","year","weekday","setUTCFullYear","getDay","get12Hours","hours","base","getTimeZone","long","savings","wotz","toLocaleString","wtz","timeZoneName","substr","timezone","utcDate","timeZone","tzDate","capitalizeFirst","charAt","toUpperCase","hslToRgb","color","h","hue2rgb","q","round","rgbToHsl","lighten","rgb","getLightnessStep","brighten","isLight","saturate","saturation","hsl","alternativeColor","lightAlternative","darkAlternative","light","dark","mergeTags","tags1","tags2","filter","self","sameBounds","right","bottom","string2hex","parseInt","rgba2hex","hex","val","fromAny","Color","_hex","alpha","fromRGB","toCSSHex","fromString","fromCSS","fromHex","mode","fromHSL","toHSL","range","waitForAnimations","animations","promises_1","animation","waitForStop","all","defaultInterpolate","percentInterpolate","colorInterpolate","interpolate","getInterpolate","AnimationTime","entity","duration","_entity","_duration","currentTime","_playingDuration","_startingTime","_from","_to","_current","_stopEvent","progress","_addAnimation","jumpTo","_play","easing","PI","RADIANS","DEGREES","precision","rounded","pow","fitToRange","angle","sin","cos","normalizeAngle","getArcBounds","cx","cy","startAngle","endAngle","radius","minX","MAX_VALUE","minY","maxX","maxY","bpoints","getArcPoint","fromAngle","toAngle","pt","arc","mergeBounds","bounds","bound","top_1","linear","cubic","out","ease","tau","amplitude","period","asin","State","settings","_settings","fallback","_userSettings","setRaw","seen","defaultState","states","lookup","_eachSetting","stateAnimationDuration","stateAnimationEasing","animate","States","_states","state","state_1","newState","_applyState","applyAnimate","_applyStateAnimated","Registry","registry","compare","compareArray","leftLength","rightLength","compareNumber","BlendMode","Adapters","callbacks","_callbacks","_markDirtyKey","Animation","loops","startingTime","_animation","_easing","_loops","_interpolate","_oldTime","_playing","_stopped","_startAnimation","_time","_reject","stopped_1","counter","Settings","_userProperties","isDisposed","playing_1","_animatingSettings","_stopAnimation","_run","percentage","_checkEnded","_reset","_set","_animatingPrivateSettings","_stopAnimationPrivate","setPrivate","_setPrivate","_key","_settingEvents","_privateSettingEvents","getRaw","_prevSettings","_sendKeyEvent","_setRaw","stop","remove","_privateSettings","_prevPrivateSettings","_sendPrivateKeyEvent","_setPrivateRaw","_markDirtyPrivateKey","animation_1","_animationTime","getPrivate","animation_2","Entity","isReal","templates","_createEvents","_internalTemplates","_registerId","_template","_afterNew","_checkDirty","shouldApply","_setObjectTemplate","_applyTemplates","_setDefaults","_applyThemes","classNames","className","_dirty","_dirtyPrivate","_disposerProperties","_removeObjectTemplate","_addDirtyEntity","animationTime","_name","adapters","fold","_removeTemplateProperty","_userPrivateProperties","setPrivateRaw","_removeTemplatePrivateProperty","_findTemplateByKey","_findTemplateByPrivateKey","removePrivate","_rootContainer","other","_eachTemplate","_apply","_templateDisposers","privateSettings","_runSetup","setup","_findStaticTemplate","_templates","_disposeTemplates","_applyTemplate","value_1","_findTemplate","isConnected","defaults","themes","themeTags","Set","tags","tag","add","_walkParents","_defaultThemes","theme","_removeTemplates","allRules","rules","_lookupRules","rule","every","has","isDirty","prevId","entitiesById","delay","setTimeout","removeDispose","clearTimeout","hasTag","locale","rest","_i","language","translate","TemplateState","_stateChanged","TemplateStates","TemplateAdapters","Template","_entities","_setTemplateProperty","_setTemplatePrivateProperty","onPrivate","copyFrom","_applyStateByKey","SpriteEventDispatcher","sprite","_sprite","originalEvent","point","simulated","native","_rendererDisposers","disposer_1","increment","rendererEvent","RENDERER_EVENTS","_onRenderer","_dispatchParents","parent","dispatchParents","isDragging","_hasDown","_hasMoved","_makePointerEvent","Sprite","_addPercentagePositionChildren","markDirtyPosition","_templateField","field","dataItem","dataContext","new","_removeTemplateField","oldDataItem","_dataItem","_processTemplateField","eventType","newDataItem","parent_1","_parent","_setDataItem","_percentageSizeChildren","_percentagePositionChildren","_addDirtyPosition","_localBounds","centerX","centerY","_beforeChanged","_handleStates","previous","tooltip","setLayer","markDirtyLayer","tooltipMoveDp","_tooltipMoveDp","tooltipPointerDp","_tooltipPointerDp","showTooltip","_statesHandled","isHidden","markDirtyAccessibility","_changed","display","draggable","_dragDp","dragStart","dragMove","dragStop","cancelTouch","tooltipText","tooltipHTML","_tooltipDp","hideTooltip","toggleKey_1","_toggleDp","_isDragging","scale","updatePivotPoint","isPrivateDirty","visible","_addPercentageSizeChildren","parent_2","_prevWidth","_sizeDirty","_updateSize","wheelable","_registerTabindexOrder","_unregisterTabindexOrder","cursorOverStyle","_focusDp","exportable","events_1","_hoverDp","_handleOver","_handleOut","_isDown","_handleUp","_handleDown","inactive","_dragEvent","stopParentDispatch","_dragPoint","isHover","_downPoint","_downPoints","downPoint","dragEvent","parent_3","dragPoint","hypot","getLocalBounds","depth","_addDirtyBounds","isMeasured","invalidateBounds","parent_4","isFocus","_invalidateAccessibility","newBounds","oldBounds","_adjustedLocalBounds","_getBounds","_fixMinBounds","getAdjustedBounds","minWidth","minHeight","privateWidth","privateHeight","children","removeValue","_clearDirty","getTooltip","tooltipPosition","tooltipTarget","_setMatrix","toGlobal","_getTooltipPoint","width","height","markDirtyText","promise","show","timeout","hide","parent_5","dx","dy","_x","xx","yy","innerWidth","_y","innerHeight","_removeParent","_removeFocusElement","localBounds","p0","p1","p2","p3","success","_error","_isShowing","_isHidden","_isHiding","_onShow","_onHide","hovering","focused","isVisibleDeep","isVisible","opacity","compositeOpacity","maxWidth","w","parent_6","maxHeight","parent_7","_walkParent","updateChildren","prevParent","numberFormatter","dateFormatter","durationFormatter","toLocal","_getDownPointId","moveValue","Pattern","_renderer","makeGraphics","_afterNewApplyThemes","_pattern","_clear","repetition","fill","fillOpacity","clear","_backgroundDisplay","beginFill","drawRect","endFill","_draw","createPattern","PicturePattern","_load","image","_image","patternWidth","patternHeight","fit","centered","src","image_1","Image","decode","catch","Graphics","gradient","gradientTarget","strokeDasharray","setLineDash","strokeDashoffset","setLineDashOffset","blendMode","NORMAL","draw","svgPath","_afterChanged","fill_1","fillGradient","fillPattern","fillOpacity_1","stroke_1","strokeGradient","strokePattern","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","shadow","changed","pattern","stops","colorInherited","opacityInherited","getFill","strokeOpacity_1","strokeWidth","lineJoin","lineStyle","endStroke","Rectangle","eachChildren","Layout","HorizontalLayout","paddingLeft","availableWidth","totalPercent","childWidth","prevX","adjustedLocalBounds","marginLeft","marginRight","VerticalLayout","paddingTop","availableHeight","childHeight","prevY","marginTop","marginBottom","GridLayout","_setRawDefault","paddingRight","minCellWidth","maxCellWidth","columnCount","columnWidths","getColumnWidths","column","maxColumnHeight","totalWidth","TextFormatter","prefix","RegExp","quotedBlocks","noFormatting","escape","chunks","split","chunk","chunks2","i2","chunk2","cleanUp","unescape","isImage","fontWeight","textDecoration","populateString","getTagValue","tagName","parts","reg","prop","dateFields","getDateFormatter","numericFields","getNumberFormatter","durationFields","getDurationFormatter","method","params","reg2","matches2","getTagValueFromObject","component","getCustomDataValue","customData","current","formatApplied","part","tmp","numberValue","dateValue","durationValue","encodeURIComponent","formatParts","formatterType","Container","makeContainer","allChildren","_removeHTMLContent","interactiveChildren","_prevHeight","layout","contentMask","_contentMask","mask","updateBackground","background","verticalScrollbar","_contentHeight","bg","pWidth","pHeight","horizontal","vertical","l_1","r_1","t_1","b_1","paddingBottom","childBounds","childX","childY","cl","cr","ct","cb","_contentWidth","updateContainer","_updateBounds","_addDirtyParent","horizontal_1","vertical_1","html","_setHTMLContent","_positionHTMLElement","verticalScrollbar_1","startGrip","endGrip","interfaceColors","_vsbd0","wheelEvent","preventDefault","shiftY","deltaY","_vsbd1","walkChildren","updated","Text","makeTextStyle","makeText","textStyle","_getText","updateTooltip","wordWrapWidth","oversizedBehavior","breakWords","ellipsis","ignoreFormatting","minScale","_textStyles","styleName","Native","_observer","ResizeObserver","entries","entry","_targets","observe","box","unobserve","Raf","_timer","lastTime_1","loop_1","now","newSize","getBoundingClientRect","size","requestAnimationFrame","cancelAnimationFrame","observer","makeSensor","ResizeSensor","_sensor","_listener","addTarget","removeTarget","InterfaceColors","Label","_text","_makeText","_textKeys","propValue","_setMaxDimentions","_updateChildren","textAlign","rotation","PointedRectangle","bwh","xtl","ytl","xtr","ytr","xbr","ybr","xbl","ybl","d1","d2","moveTo","stemX","lineTo","arcTo","stemY","Tooltip","tooltipRoot","_label","_updateBackground","_updateTextColor","tooltipContainer","_tooltips","labelText","labelHTML","updateBackgroundColor","keephover","_keepHoverDp","hover","unhover","stroke","_fillDp","_strokeDp","_labelDp","alternative","cw","ch","parentW","parentH","_w","pointTo","pointerOrientation","pointerLength","bgStrokeSizeY","bgStrokeSizeX","pointerX","pointerY","boundsW","boundsH","_fx","_fy","animationDuration","animationEasing","NumberFormatter","_setDefault","bns","sns","bs","_t","suffix","formatted","Intl","NumberFormat","parseFormat","details","positive","zero","mod","active","applyFormat","thousandSeparator","translateEmpty","decimalSeparator","_part","item","partFormat","mods","modSpacing","thousands","passive","interval","a_1","applyPrefix","a_2","ol","parseFloat","toPrecision","exp","toExponential","ints","ip","intsr","reverse","c","unshift","separator","decs","prefixes","force","newvalue","applied","k","parseDate","month","hour","minute","second","millisecond","formatToParts","toUTCDate","Timezone","DateTimeFormat","hour12","fractionalSecondDigits","_dtf","offset","offsetUTC","userOffset","setUTCMinutes","getUTCMinutes","newUserOffset","dtf","DateFormatter","locales","convertLocal","fullYear","minutes","seconds","milliseconds","timestamp","getUTCMonth","getUTCHours","getUTCSeconds","getUTCMilliseconds","getHours","getMinutes","getSeconds","getMilliseconds","_getMonth","_getShortMonth","translateFunc","_getShortWeekday","_getWeekday","firstDayOfWeek","tz","tzh","tzm","toISOString","toUTCString","dateFormat","_months","_shortMonths","_weekdays","_shortWeekdays","parsedIndexes","resValues","indexAdjust","year3","year2","year1","getStringList","monthLong","monthShort","yearDay","weekdayLong","weekdayShort","am","hour12Base1","hourBase0","hour12Base0","hourBase1","millisecondDigits","zone","iso","regex","resolveMonth","resolveShortMonth","isAm","ts","resolveTimezoneOffset","dir","originalOffset","isDefault","translateAll","list","DurationFormatter","dmillisecond","dsecond","dminute","dhour","dday","dweek","dmonth","dyear","asecond","aminute","ahour","aday","aweek","amonth","ayear","baseUnit","dirs","absolute","_unitAliases","tstamp","toTimeStamp","unit","_toTimeUnit","_getUnitValue","code","maxValue","maxUnit","getValueUnit","currentUnit","ms","_getUnitValues","timeUnit","Language","en","prompt","translation","localeTarget","Theme","setupDefaultRules","themeClass","_rules","ruleRaw","setColor","ic","DefaultTheme","horizontalLayout","verticalLayout","bind","primaryButton","primaryButtonHover","primaryButtonDown","primaryButtonActive","primaryButtonText","primaryButtonStroke","secondaryButton","secondaryButtonHover","secondaryButtonDown","secondaryButtonActive","secondaryButtonText","secondaryButtonStroke","grid","alternativeBackground","alternativeText","disabled","passOptions","hue","lightness","colors","reuse","startIndex","interpolationDuration","interpolationEasing","tooltipX","tooltipY","setStateOnChildren","gap","colorOpacity","checkered","fillField","strokeField","nameField","layer","clickTarget","ariaChecked","focusable","ariaLabel","cornerRadiusBL","cornerRadiusTL","cornerRadiusBR","cornerRadiusTR","populateText","stepCount","fontFamily","fontSize","textType","inside","baseRadius","orientation","pointerBaseWidth","cornerRadius","shiftRadius","dRadius","dInnerRadius","strokeOpacity","locationX","locationY","getFillFromSprite","getStrokeFromSprite","autoTextColor","role","ariaValueMin","ariaValueMax","toggleKey","ariaLive","spikes","innerRadius","rotationStep","Matrix","tx","ty","pivotX","pivotY","origin","matrix","a1","b1","c1","tx1","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","err","isArray","TAU","mapToEllipse","_ref","rx","ry","cosphi","sinphi","centerx","centery","xp","yp","approxUnitArc","ang1","ang2","tan","x1","y1","x2","y2","vectorAngle","ux","uy","vx","vy","sign","dot","acos","getArcCenter","px","py","largeArcFlag","sweepFlag","pxp","pyp","rxsq","rysq","pxpsq","pypsq","radicant","sqrt","centerxp","centeryp","vx1","vy1","vx2","vy2","arcToBezier","_ref2","_ref2$xAxisRotation","xAxisRotation","_ref2$largeArcFlag","_ref2$sweepFlag","curves","lambda","_getArcCenter","_getArcCenter2","ratio","segments","curve","_mapToEllipse","_mapToEllipse2","_mapToEllipse3","checkArgs","actual","expected","checkMinArgs","checkEvenArgs","assertBinary","distributeId","eachTargets","hitTarget","onPointerEvent","touches","changedTouches","isTainted","canvas","getContext","drawImage","getImageData","console","warn","clearCanvas","view","CanvasPivot","CanvasDisplayObject","renderer","_removeObject","getLayer","_layer","defaultLayer","registerChildLayer","dirty","_bounds","_colorId","paintId","_forceInteractive","_isInteractive","_matrix","applyInverse","_uMatrix","setTransform","bn","_addBounds","getLocalMatrix","_addEvent","_localMatrix","prepend","resolution","parentLayer","_omitTainted","resolution_1","layers","ghostContext","_ghostContext","mask_1","save","_transform","_runPath","clip","globalAlpha","compoundAlpha","_isInteractiveMask","_render","restore","tainted","_hovering","_dragging","some","tapToActivate","_touchActive","shouldCancelTouch","CanvasContainer","_children","_childLayers","deep","setPoint","Op","_context","_forceColor","BeginFill","forceColor","fillStyle","EndFill","clearShadow","EndStroke","LineStyle","strokeStyle","lineWidth","LineDash","dash","LineDashOffset","dashOffset","lineDashOffset","DrawRect","rect","DrawCircle","DrawEllipse","radiusX","radiusY","ellipse","Arc","anticlockwise","arcBounds","ArcTo","LineTo","MoveTo","ClosePath","closePath","BezierCurveTo","cpX","cpY","cpX2","cpY2","toX","toY","bezierCurveTo","QuadraticCurveTo","quadraticCurveTo","Shadow","offsetX","offsetY","GraphicsImage","CanvasGraphics","_operations","_fillAlpha","_pushOp","toCSS","_hasShadows","_strokeAlpha","path","cpx","cpy","qcpx","qcpy","SEGMENTS_REGEXP","ARGS_REGEXP","name_1","args","relative","beginPath","layerDirty","color_1","context_1","ghostContext_1","globalCompositeOperation","_getColorId","colorize","addBounds","CanvasText","_textInfo","direction","textBaseline","ignoreGhost","ignoreFontWeight","fontStyle","_getFontStyle","font","_shared","style2","fontVariant","_measure","_textVisible","interactive_1","context_2","layerDirty_1","ghostContext_2","_prerender","line","_index","textChunks","fillText","thickness","getTextStyle","rtl","truncate","wrap","currentStyle","refText","lines","styleRestored","_loop_1","currentFormat","lineInfo","ascent","metrics","_measureText","actualBoundingBoxAscent","actualBoundingBoxDescent","currentFill","currentChunkWidth","currentVerticalAlign","currentDecoration","skipFurtherText","firstTextChunk","leftoverChunks","verticalAlign","metrics_1","height_1","metrics_2","chunkWidth","actualBoundingBoxLeft","actualBoundingBoxRight","ellipsisMetrics","ellipsisWidth","excessWidth","_truncateText","tmpText","leftBoundMod","rightBoundMod","boundsMod","chunkHeight","lineHeight","currentChunkOffset","baselineRatio","_fitRatio","_originalScale","maxW","maxH","fallbackBreakWords","measureText","fakeMetrics","div","innerText","visibility","bbox","w_1","fontBoundingBoxAscent","fontBoundingBoxDescent","CanvasTextStyle","CanvasRadialText","_renderCircular","deltaAngle","inward","align","kerning","clockwise","shouldReverse","_textReversed","maxAngle_1","midAngle","textHeight","lineStartAngle","rotate","angleShift","charWidth","_measureCircular","chars","CanvasImage","_imageMask","naturalWidth","naturalHeight","_getMask","imageSmoothingEnabled","fillRect","CanvasRendererEvent","identifier","CanvasRenderer","_patternCanvas","devicePixelRatio","_layerDom","exportableView","_ghostView","getEvent","_getHitTarget","debug","_touchActiveTimeout","_delayTouchDeactivate","prevent","obj","tapToActivateTimeout","createLinearGradient","radius1","radius2","createRadialGradient","graphics","_patternContext","clearRect","renderDetached","_clientWidth","_clientHeight","_width","_height","existingLayer","getLayerByOrder","createDetachedLayer","layerIndex","insertBefore","_dirtyLayers","_lastPointerMoveEvent","native_1","_dispatchGlobalMousemove","_colorMap","adjustPoint","DOMRect","clientX","clientY","pixel","data","colorId","hit","dispatching","cleanup","disposed","interactionsEnabled","_withEvents","dispatched","button","id_1","dragged_1","_mousedown","_dispatchEvent","delete","_replacedCursorStyle","_dispatchEventAll","event_1","id_2","clickevent","target_1","listener_1","timer","_makeSharedEvent","_onPointerEvent","mouseup","_dispatchGlobalMouseup","pointercancel","mousedown","_dispatchMousedown","mousemove","_dispatchDragMove","_dispatchDragEnd","_dispatchDoubleClick","_dispatchWheel","_initEvent","maxScale","maintainPixelRatio","canvases","forceRender","canvasWidth","canvasHeight","needRerender","exportableContext","clientWidth","clientHeight","rAF","fps","Root","useSafeResolution","HTMLElement","getElementById","rootElements","inner","tooltipContainerBounds","tooltipDiv","tooltipDivStyle","zIndex","_init","_inner","_updateComputedStyles","childNodes","_initResizeSensor","resize","_logo","offsetWidth","offsetHeight","logo","open","_handleLogo","rootContainer","_htmlElementContainer","overflow","readerAlertElement","_readerAlertElement","focusElementContainer","_focusElementContainer","_tooltipElementContainer","keyCode","_isShift","focusedSprite","_focusedSprite","dragOffsetX","dragOffsetY","downEvent","_keyboardDragPoint","moveEvent","upEvent","group_1","items","_tabindexes","lastIndex","_startTicker","setThemes","_addTooltip","_hasLicense","_showBranding","_resizeSensorDisposer","autoResize","htmlElementContainer","_focusElementDirty","_updateCurrentFocus","_tickers","_animations","_runAnimation","allParents","_isDirtyParents","_dirtyParents","uid","_prepareChildren","objects","_isDirty","depths","_dirtyBounds","dirtyPositions","_dirtyPositions","_updatePosition","_checkComputedStyles","_runTickers","_runAnimations","_runDirties","_positionHTMLElements","_renderFrame","_ticker","performance","_runTicker","log","markDirtyGlobal","_isDisposed","innerHTML","_tooltip","_invalidateTabindexes","aindex","bindex","groups","_moveFocusElement","_makeFocusElement","group","_decorateFocusElement","_positionFocusElement","focusElement","getAttribute","tabindex","removeAttribute","ariaOrientation","ariaValueNow","ariaValueText","ariaControls","tabIndex","_handleFocus","_handleBlur","append","globalBounds","_focusNext","focusableElements","querySelectorAll","tooltipElement","_makeTooltipElement","getComputedStyle","fontHash","_fontHash","_invalidateLabelBounds","licenses","debugGhostView","htmlElement","boxSizing","_htmlEnabledContainers","visualSettings","setting","opacity_1","_makeHTMLElement","Circle","drawCircle","Bullet","series","_positionBullet","ColorSet","reset","pass","generateColors","getIndex","currentStep","sleep","timeUnitDurations","getNextUnit","getDuration","getIntervalDuration","getDateIntervalDuration","firstDateOfWeek","firstTime","lastTime","checkChange","timeOne","timeTwo","dateOne","dateTwo","timeZoneOffset1","timeZoneOffset2","nextUnit","firstDate","timeZoneOffset","difference","unitCount","setTime","setUTCHours","setUTCSeconds","setUTCMilliseconds","setUTCMonth","wday","weekDay","newTimeZoneOffset","isNaN","tzoffset","parsedDate","newOffset","chooseInterval","gridCount","intervals","gridInterval","intervalDuration","XYChartDefaultTheme","panX","panY","wheelStep","arrangeTooltips","pinchZoomX","pinchZoomY","legendLabelText","minGridDistance","minPosition","maxPosition","behavior","snapToSeriesBy","moveThreshold","minZoomCount","maxZoomCount","maxZoomFactor","maxDeviation","snapTooltip","tooltipLocation","zoomX","zoomY","fixAxisSize","location","multiLocation","opposite","inversed","cellStartLocation","cellEndLocation","startLocation","endLocation","fillRule","axisFill","gridIntervals","dateFormats","periodChangeDateFormats","tooltipDateFormats","markUnitChange","strictMinMax","groupData","groupCount","groupIntervals","axis","endValue","baseInterval","baseValue","logarithmic","autoZoom","maskBullets","stackToNegative","openValueXGrouped","openValueYGrouped","valueXGrouped","valueYGrouped","seriesTooltipTarget","adjustBulletPosition","clustered","connect","autoGapCount","tension","lowValueXGrouped","lowValueYGrouped","highValueXGrouped","highValueYGrouped","Chart","SerialChart","seriesContainer","_removeSeries","_processSeries","setIndex","chart","_placeBulletsContainer","_removeBulletsContainer","RoundedRectangle","wSign","hSign","minSide","crtl","crtr","crbr","crbl","maxcr","Button","icon","_disposeProperty","XYChart","chartContainer","yAxesAndPlotContainer","maskContent","plotsContainer","plotContainer","topPlotContainer","xAxes","yAxes","zoomOutButton","zoomOut","_processAxis","bottomAxesContainer","leftAxesContainer","topGridContainer","bulletsContainer","_handlePlotDown","_handlePlotUp","_handlePlotMove","_maskGrid","_setUpTouch","gridContainer","xAxis","markDirtyExtremes","yAxis","snapToSeries","wheelX","wheelY","plotPoint","documentPointToRoot","shiftX","deltaX","wheelZoomPositionX","wheelZoomPositionY","fixPosition","newStart","newEnd","_handleWheelAnimation","zoom","delta","_getWheelSign","se","_fixWheel","_wheelDp","handleWheel","local","touchEvent","_downStartX","_downEndX","_downStartY","_downEndY","_panStart","_panEnd","_dispatchWheelAnimation","eventType_1","_isPanning","_movePoints","_handlePinch","local_1","scrollbarX","disableType","panStart","panEnd","enableType","scrollbarY","_b","downPoints","movePoints","movePoint","downPoint0","downPoint1","movePoint0","movePoint1","downStartX","downEndX","downPos0","downPos1","movePos0","movePos1","initialDistance","currentDistance","s_1","e_1","sa","ea","downStartY","downEndY","s_2","e_2","cursorPoint_1","snapToSeriesBy_1","dataItems_1","isHiding","endIndex","dataItems","tooltipDataItem","closestItem_1","minDistance_1","distance","showDataItemTooltip","handleMove","_colorize","_handleSetWheel","_setChart","_addCursor","_pushPropertyDisposer","_handleCursorSelectEnd","topAxesContainer","_handleScrollbar","grip","getTooltipText","rightAxesContainer","_handleZoomOut","colorSet","_setSoft","downPositionX","downPositionY","positionX","positionY","position0","toAxisPosition","position1","axes","priority","axisStart","axisEnd","zoomAnimation","updateScrollbar","_removeAxis","processChart","axisParent","gridParent","topGridParent","_axis","updateGrips","visible_1","otherCharts","_otherCharts","global","chartPlotContainer","documentPoint","rootPointToDocument","chartRoot","closest","closestPoint","plotT","plotB","tooltips","sum","minDistance","_movePoint","maxTooltipDistance","maxTooltipDistanceBy","tooltipSeries","hidden","point_1","inPlot","_tooltipToLocal","tooltipContainer_1","average","prevY_1","prevY_2","ListData","processor","processRow","JsonData","DataItem","markDirtyValues","disposeDataItem","showDataItem","hideDataItem","Component","_dataItems","_data","incrementRef","decrementRef","_updateFields","_mainDataItems","_markDirtyGroup","_dataChanged","_onDataClear","_makeDataItem","processDataItem","dataItem_1","properties_1","_afterDataChange","valueFields","_valueFields","_valueFieldsF","fieldKey","workingKey","fields","_fields","_fieldsF","makeDataItem","_valuesDirty","inited","_dataGrouped","Axis","labelsContainer","axisHeader","axisRanges","_processAxisRange","processAxis","ghostLabel","makeLabel","disable","sAnimation","_sAnimation","eAnimation","_eAnimation","maxZoomFactorReal","minZoomFactor","_handleAxisSelection","playing","sAnimation_1","eAnimation_1","_markDirty","_series","_createAssets","_rangesDirty","_prepareDataItem","above","axisRange","_seriesAxisRanges","_updateCursor","_start","_end","_inversed","_axisLength","axisLength","_updateLC","rendererTags","addTag","updateTooltipBounds","_updateTooltipBounds","axisHeadersContainer","markDirtySize","_toggleDataItem","tick","bullet","makeGrid","makeTick","makeAxisFill","_processBullet","axisBullet","_updateChartLayout","_updatePositions","labels","ticks","axisFills","gWidth_1","text_1","bounds_1","updateLabel","_cursorPosition","_snapToSeries","getSeriesItem","updateLegendMarker","updateLegendValue","roundAxisPosition","_updateTooltipText","positionTooltip","_location","coordinate","_nextItem","_autoGapCount","_fieldName","axisDataItem","ValueAxis","_dirtyExtremes","_dirtySelectionExtremes","previousValue","syncWithAxis","_syncDp","_getMinMax","_getSelectionMinMax","_groupData","_handleRangeChange","_prepareAxisItems","_updateAxisRanges","_baseValue","numberFormat","formatter","_bullets","selectionMin","selectionMax","differencePower","minLog","_minLogAdjusted","LOG10E","_formatText","stepPower","decCount","j","_markDirtyAxes","_updateGhost","valueToPosition","endPosition","fillEndPosition","updateGrid","removeTag","updateTick","updateFill","updateBullet","positionToValue","minMaxStep","_adjustMinMax","stepDecimalPlaces","E","treatZeroAs","positionToCoordinate","_cellLocation","axisLocation","getDataItemPositionX","stackToItem","getStackedXValueWorking","getDataItemPositionY","getStackedYValueWorking","fixSmallStep","field_1","vc_1","fieldWorking_1","total","this_1","minDefined","maxDefined","extraMin","extraMax","selectionStrictMinMax","selectionMin_1","selectionMax_1","seriesMin","seriesMax","outOfSelection","isShowing","_minReal","_maxReal","_deltaMinMax","minMaxStep2","selectionMinReal","selectionMaxReal","_syncAxes","valueToFinalPosition","minDiff","initialMin","initialMax","minAdapted","maxAdapted","_fixMin","_fixMax","_getDelta","strictMinMaxSelection","strict","_saveMinMax","animatePrivate","power","_min","_max","strictMode","extra","stepDivisor","maxPrecision","ceiledStep","maxCount","minCount","extraDecimals","oldDiff","fieldName","syncMin","syncMax","syncStep","currentCount","synced","omin","omax","ostep","_checkSync","segmentedLine","firstGroup","firstPoint","len_1","points","Line","Tick","AxisTick","Grid","AxisLabel","AxisRenderer","_new","thumb","_handleThumbDown","_handleThumbUp","_handleThumbMove","pan","_thumbDownPoint","_downStart","_downEnd","_event","downStart","downEnd","_getPan","_point1","_point2","updatedStart","updatedEnd","AxisRendererY","gridTemplate","point1","point2","axisChildren","_markDirtyRedraw","location_1","toggleVisibility","location_2","location_3","length_1","location_4","bulletPosition","previousBullet","previousSprite","y0","fillDrawMethod","_positionTooltip","_lc","_ls","DateAxis","_setBaseInterval","_baseDuration","baseMainDuration","_fixZoomFactor","groupInterval","groupInterval_1","_groupSeriesData","mainDataSetId_1","setDataSet","_seriesDataGrouped","intervals_1","baseDuration_1","_dataSets","fields_1","key_1","baseAxis","_valueYFields","_valueXFields","mainDataSetId","groupCallback_1","groupOriginals_1","previousTime","dataSetId","groupFieldValues","workingFields","prevNewDataItem","firstItem","time","roundedTime","groupKey","currentValue","dataContext_1","_dataSetId","_groupingCalculated","_intervalMax","_intervalMin","modifiedDifference","baseDuration","getGroupInterval","newId_1","fieldName_1","endIndex2","firstDataItem","lastDataItem","lastDate","_strictMode","_intervalDuration","nextGridUnit","formats","startTime","endTime","_date","close","_updateDates","cellLocation","openValue","closeValue","NaN","diValue","first","open_1","close_1","open_2","close_2","nextItem","value1","value2","zoomToValues","AxisRendererX","x0","Series","bullets","_handleBullets","_shouldMakeBullet","bulletFunction","_makeBullet","_aggregatesCalculated","_selectionAggregatesCalculated","baseValueSeries","calculateAggregates","_dataProcessed","_calculateAggregates","_psi","_pei","markerRectangle","legendDataItem","startIndex_1","endIndex_1","_makeBullets","absSum","low","high","changePercent","changePrevious","changePreviousPercent","changeSelection","changeSelectionPercent","openKey","_getBase","minValue","dataField","propertyValue","customFunction","_hideBullets","_positionBullets","_bullet","promises","startIndex_2","endIndex_2","realDuration","valueLabel","txt","XYSeries","_removeAxisRange","isType","_makeFieldNames","_valueXShowFields","_valueYShowFields","__valueXShowFields","__valueYShowFields","valueXFields","valueYFields","field_2","_xField","_yField","xName","xCapName","yName","yCapName","xLetter","yLetter","_xOpenField","_xLowField","_xHighField","_yOpenField","_yLowField","_yHighField","hiddenState","sequencedInterpolation","_handleMaskBullets","tooltipFieldX","tooltipPositionX","_tooltipFieldX","tooltipFieldY","tooltipPositionY","_tooltipFieldY","_fixVC","stacked","_stack","_unstack","getStackedXValue","getStackedYValue","processSeriesDataItem","_seriesValuesDirty","_markStakedDirtyStack","_stackDirty","minBulletDistance","_showBullets","_selectionProcessed","vcx","vcy","stacked_1","_calculateTotals","markDirtySelectionExtremes","processYSelectionDataItem","processXSelectionDataItem","selectionMinY","selectionMaxY","selectionMinX","selectionMaxX","mainContainerMask_1","_mainContainerMask","mainContainer","_makeRangeMask","seriesIndex","_couldStackTo","_stackDataItems","_reallyStackedTo","_stackedSeries","stackToItemKey","stackToSeries","stackValue","stackedToSeries","_axesDirty","getPoint","_shouldShowBullet","_positionX","_positionY","_handleDataSetChange","_markDataSetDirty","_sequencedShowHide","min_1","baseValue_1","stackedSeries","_markDirtyStack","_skipped","itemLocationX","itemLocationY","xPos","_aLocationX0","_aLocationX1","yPos","_aLocationY0","_aLocationY1","show_1","_getTooltipTarget","_emptyDataItem","_position","resetExtremes","BaseColumnSeries","listTemplate","makeColumn","categoryAxis","valueAxis","_createGraphics","_ph","_pw","columnsTemplate","columns","clusterCount","xRenderer","yRenderer","cellLocationX0","cellLocationX1","cellLocationY0","cellLocationY1","i_1","_toggleColumn","i_2","i_3","_updateGraphics","i_4","_makeGraphics","graphicsArray","rangeGraphics","previousDataItem","xField","yField","valueX","valueY","xOpenField","yOpenField","openLocationX","openLocationY","xStart","xEnd","yStart","yEnd","fitW_1","fitH_1","stackToItemY","basePosition","stackToItemX","_updateSeriesGraphics","_applyGraphicsStates","fitW","fitH","ptl","pbr","tooltipPoint","dropFromOpen","riseFromOpen","dropFromPrevious","riseFromPrevious","previousClose","graphics_1","markerRectangle_1","ColumnSeries","pi","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","a0","ccw","da","Linear","areaStart","_line","areaEnd","lineStart","_point","lineEnd","defined","constant","buffer","defined0","area","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","LineSeries","strokes","fills","_fillGenerator","_strokeTemplate","_fillTemplate","legendStroke","_legendStroke","legendFill","_legendFill","curveFactory","_strokeGenerator","strokeTemplateField","fillTemplateField","strokeTemplateFound","fillTemplateFound","hasValues","_loop_2","this_2","state_2","_endIndex","_clearGraphics","_sindex","_dindex","_startSegment","dataItemIndex","currentEndIndex","makeFill","fillTemplate","originalTemplate","makeStroke","strokeTemplate","xOpenFieldValue","yOpenFieldValue","baseField","basePosX","basePosY","fillVisible","getOpen","_getPoints","strokeTemplate_1","fillTemplate_1","shouldGap","_endLine","_drawStroke","_drawFill","_shouldInclude","iPoint","xPos0","yPos0","itemLocationX_1","itemLocationY_1","closeIPoint","prev","_previousPoint","pp0","pp1","pp2","pp3","_points","_firstPoint","segment","marker","disabledColor","MonotoneXTension","_tension","_t0","slope2","t1","slope3","curveMonotoneXTension","monotoneXTension","that","h0","h1","s0","s1","t0","SmoothedXLineSeries","XYCursor","_drawLines","lineX","_handleXLine","lineY","_handleYLine","_tooltipX","tooltip_1","_updateXLine","_tooltipY","tooltip_2","_updateYLine","syncWith","otherCharts_1","_handleSyncWith","_getPoint","_toX","_toY","_handleMove","_handleCursorDown","_handleCursorUp","selection","rootPoint","_inPlot","_getPosition","lastPoint","_lastPoint","skipEvent","alwaysShow","xyPos","snapToSeries_1","userPositionX","positionX_1","userPositionY","positionY_1","xy","_handleCursorPosition","handleCursorShow","_updateLines","_updateSelection","handleCursorHide","AnimatedTheme","Animated","props","containerSize","required","mounted","am5xy","category","valueYField","valueXField","categoryXField","series1","series2","beforeDestroy","Legend","itemContainers","themeTagsSelf","markers","valueLabels","markerRectangles","itemContainer","makeItemContainer","item_1","makeMarker","useDefaultMarker","makeMarkerRectangle","createLegendMarker","label_1","makeValueLabel","clickContainer","_addClickEvents","targetA","targetB","indexA","indexB","hoverDataItem","unhoverDataItem","readerAlert","di","PercentDefaultTheme","legendValueText","alignLabels","expandDistance","valueIs","PercentChart","PieChart","wr","hr","innerBounds","mr","prevRadius","_maxRadius","seriesRadius","length_2","seriesInnerRadius","PercentSeries","_makeSlices","_makeLabels","_makeTicks","slicesContainer","slices","ticksContainer","_lLabels","_rLabels","_hLabels","sum_1","absSum_1","valueHigh_1","valueLow_1","count_1","valueWorking","percentTotal","_arrange","_arrangeDown","_arrangeUp","_arrangeLeft","_arrangeRight","_updateTick","next_1","_getNextDown","labelTop","next_2","_getNextUp","labelBottom","next_3","labelLeft","next_4","labelRight","atan2","halfPi","arcInnerRadius","arcOuterRadius","outerRadius","arcStartAngle","arcEndAngle","arcPadAngle","padAngle","intersect","x3","y3","x10","y10","x32","y32","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x00","y00","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","padRadius","r0","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","oc","ax","ay","bx","by","kc","lc","centroid","Slice","ix","iy","arc_1","_generator","middleAngle","RadialText","makeRadialText","RadialLabel","radiusPrivate","innerRadiusPrivate","orientation_1","labelAngle","_flipped","PieSeries","makeSlice","labelsTemplate","currentAngle_1","radius_1","innerRadius_1","currentArc","labelRadius","pl","pr","labelAngle_1","am5percent","categoryField","valueField","company","legend","CategoryAxis","_itemMap","startCategory","endCategory","otherAxis","startDataItem","endDataItem","hasValue_1","MAX_SAFE_INTEGER","frequency","_frequency","fillIndex","categoryLocation","endCategoryLocation","categoryToIndex","indexToPosition","fillEndIndex","_axisLocation","axisPositionToIndex","seriesDataItem","zoomToIndexes","RadarDefaultTheme","connectEnds","axisAngle","topWidth","bottomWidth","pinRadius","RadarChart","radarContainer","_updateRadius","updateLayout","_updateMask","_arcGenerator","inArc","AxisLabelRadial","AxisRendererCircular","ir","startAngle_1","endAngle_1","positionToPoint","angle_1","positionToAngle","radius_2","angle_2","fitAngle","minAngle","maxAngle","AxisRendererRadial","ir_1","axisAngle_1","axisAngle_2","RadarColumnSeries","rendererY","rendererX","axisInnerRadius","axisStartAngle","axisEndAngle","am5radar","columnSettings","forceHidden","templateField","categoryYField","components","XYCharts","PieCharts","GaugeCharts"],"mappings":"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C,QAXF,WAYI,IAAJ,8BAEIhmF,EAAKA,UAAUA,CAACA,GAAmBA,IAAIA,KAOvC,IAAJ,4BACAimF,UACMp7B,MAANA,EACMC,MAANA,EACM6G,OAANA,OACMC,OAANA,QACM3G,YAANA,EACMuO,mBAANA,KAKA,GACA,CACMx2D,KAANA,iCACMkjF,SAANA,QACMrX,OAANA,KACMC,OAANA,MAEA,CACM9rE,KAANA,iCACMkjF,SAANA,QACMrX,OAANA,KACMC,OAANA,MAEA,CACM9rE,KAANA,iCACMkjF,SAANA,UACMrX,OAANA,KACMC,OAANA,MAEA,CACM9rE,KAANA,iCACMkjF,SAANA,QACMrX,OAANA,KACMC,OAANA,MAEA,CACM9rE,KAANA,iCACMkjF,SAANA,OACMrX,OAANA,IACMC,OAANA,MAEA,CACM9rE,KAANA,iCACMkjF,SAANA,UACMrX,OAANA,KACMC,OAANA,MAEA,CACM9rE,KAANA,iCACMkjF,SAANA,OACMrX,OAANA,KACMC,OAANA,OAIA,eACAmX,UACMj6C,SAANA,aACMvxB,QAANA,gBAYA,eACAwrE,UAEMz4B,aAANA,CAAQxtB,SAARA,MAAQtnC,MAARA,GACMszC,SAANA,aACMvxB,QAANA,gBAGI82C,EAAMA,KAAKA,OAAOA,GAElB,IAAJ,gBACA00B,UACM3kF,KAANA,SACMiwD,MAANA,EACME,MAANA,EACM00B,YAANA,SACMC,YAANA,OACMC,eAANA,cAGIC,EAAQA,KAAKA,OAAOA,GAEpB,IAAJ,gBACAL,UACMzR,kBAANA,GACMlzE,KAANA,SACMiwD,MAANA,EACME,MAANA,EACM00B,YAANA,SACMC,YAANA,OACMC,eAANA,WACM5rE,QAANA,UACQua,mBAARA,WACQlB,UAARA,mCAIIyyD,EAAQA,KAAKA,OAAOA,GAOxBr3B,6BAIIq3B,EAAQA,QAAQA,MAAKA,WACnB,IAAN,YACQ96E,OAAQA,EACRgY,KAAMA,EAAQA,IAAIA,QAClB4Q,OAAQA,EAAKA,gBAAgBA,IAAIA,cACjCtN,YAAaA,EACbb,YAAaA,EAAQA,IAAIA,QACzBC,WAAYA,GACZC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","file":"js/chunk-4e19b0ee.bb48715d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contents-view\"},[_c('div',{staticClass:\"chart-view\"},[_c('XYCharts',{attrs:{\"container-size\":_vm.container}})],1),_c('div',{staticClass:\"chart-view\"},[_c('PieCharts',{attrs:{\"container-size\":_vm.container_s}})],1),_c('div',{staticClass:\"chart-view\"},[_c('GaugeCharts',{attrs:{\"container-size\":_vm.container_s}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"chartdiv\",staticClass:\"myChart\",style:(_vm.containerSize)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/**\r\n * A collection of utility functions for various type checks and conversion\r\n * @hidden\r\n */\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns `true` if value is not a number (NaN).\r\n *\r\n * @param value Input value\r\n * @return Is NaN?\r\n */\r\nexport function isNaN(value) {\r\n    return Number(value) !== value;\r\n}\r\n/**\r\n * Returns a type of the value.\r\n *\r\n * @param value  Input value\r\n * @return Type of the value\r\n * @ignore\r\n */\r\nexport function getType(value) {\r\n    return ({}).toString.call(value);\r\n}\r\n/**\r\n * ============================================================================\r\n * QUICK CONVERSION\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Converts any value into a `number`.\r\n *\r\n * @param value  Source value\r\n * @return Number representation of value\r\n */\r\nexport function toNumber(value) {\r\n    if (value != null && !isNumber(value)) {\r\n        var converted = Number(value);\r\n        if (isNaN(converted) && isString(value) && value != \"\") {\r\n            return toNumber(value.replace(/[^0-9.\\-]+/g, ''));\r\n        }\r\n        return converted;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Converts anything to Date object.\r\n *\r\n * @param value  A value of any type\r\n * @return Date object representing a value\r\n */\r\nexport function toDate(value) {\r\n    if (isDate(value)) {\r\n        // TODO maybe don't create a new Date ?\r\n        return new Date(value);\r\n    }\r\n    else if (isNumber(value)) {\r\n        return new Date(value);\r\n    }\r\n    else {\r\n        // Try converting to number (assuming timestamp)\r\n        var num = Number(value);\r\n        if (!isNumber(num)) {\r\n            return new Date(value);\r\n        }\r\n        else {\r\n            return new Date(num);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Converts numeric value into string. Deals with large or small numbers that\r\n * would otherwise use exponents.\r\n *\r\n * @param value  Numeric value\r\n * @return Numeric value as string\r\n */\r\nexport function numberToString(value) {\r\n    // TODO handle Infinity and -Infinity\r\n    if (isNaN(value)) {\r\n        return \"NaN\";\r\n    }\r\n    if (value === Infinity) {\r\n        return \"Infinity\";\r\n    }\r\n    if (value === -Infinity) {\r\n        return \"-Infinity\";\r\n    }\r\n    // Negative 0\r\n    if ((value === 0) && (1 / value === -Infinity)) {\r\n        return \"-0\";\r\n    }\r\n    // Preserve negative and deal with absoute values\r\n    var negative = value < 0;\r\n    value = Math.abs(value);\r\n    // TODO test this\r\n    var parsed = /^([0-9]+)(?:\\.([0-9]+))?(?:e[\\+\\-]([0-9]+))?$/.exec(\"\" + value);\r\n    var digits = parsed[1];\r\n    var decimals = parsed[2] || \"\";\r\n    var res;\r\n    // Leave the nummber as it is if it does not use exponents\r\n    if (parsed[3] === undefined) {\r\n        res = (decimals === \"\" ? digits : digits + \".\" + decimals);\r\n    }\r\n    else {\r\n        var exponent = +parsed[3];\r\n        // Deal with decimals\r\n        if (value < 1) {\r\n            var zeros = exponent - 1;\r\n            res = \"0.\" + repeat(\"0\", zeros) + digits + decimals;\r\n            // Deal with integers\r\n        }\r\n        else {\r\n            var zeros = exponent - decimals.length;\r\n            if (zeros === 0) {\r\n                res = digits + decimals;\r\n            }\r\n            else if (zeros < 0) {\r\n                res = digits + decimals.slice(0, zeros) + \".\" + decimals.slice(zeros);\r\n            }\r\n            else {\r\n                res = digits + decimals + repeat(\"0\", zeros);\r\n            }\r\n        }\r\n    }\r\n    return negative ? \"-\" + res : res;\r\n}\r\n/**\r\n * Repeats a `string` number of times as set in `amount`.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Make this faster\r\n * @param string  Source string\r\n * @param amount  Number of times to repeat string\r\n * @return New string\r\n */\r\nexport function repeat(string, amount) {\r\n    return new Array(amount + 1).join(string);\r\n}\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Checks if parameter is `Date`.\r\n *\r\n * @param value  Input value\r\n * @return Is Date?\r\n */\r\nexport function isDate(value) {\r\n    return getType(value) === \"[object Date]\";\r\n}\r\n/**\r\n * Checks if parameter is `string`.\r\n *\r\n * @param value  Input value\r\n * @return Is string?\r\n */\r\nexport function isString(value) {\r\n    return typeof value === \"string\";\r\n}\r\n/**\r\n * Checks if parameter is `number`.\r\n *\r\n * @param value  Input value\r\n * @return Is number?\r\n */\r\nexport function isNumber(value) {\r\n    return typeof value === \"number\" && Number(value) == value;\r\n}\r\n/**\r\n * Checks if parameter is `object`.\r\n *\r\n * @param value  Input value\r\n * @return Is object?\r\n */\r\nexport function isObject(value) {\r\n    return typeof value === \"object\" && value !== null;\r\n}\r\n/**\r\n * Checks if parameter is `Array`.\r\n *\r\n * @param value  Input value\r\n * @return Is Array?\r\n */\r\nexport function isArray(value) {\r\n    return Array.isArray(value);\r\n}\r\n/**\r\n * ============================================================================\r\n * STATIC CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport var PLACEHOLDER = \"____\";\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport var PLACEHOLDER2 = \"____\";\r\n//# sourceMappingURL=Type.js.map","import * as $type from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * UTILITY FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Searches `array` for `value`.\r\n *\r\n * Returns -1 if not found.\r\n *\r\n * @param array  Source array\r\n * @param value  Value to search\r\n * @returns Index\r\n */\r\nexport function indexOf(array, value) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        // TODO handle NaN\r\n        if (array[i] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Calls `test` for each element in `array`.\r\n *\r\n * If `test` returns `true` then it immediately returns `true`.\r\n *\r\n * If `test` returns `false` for all of the elements in `array` then it returns `false`.\r\n *\r\n * @param array  Source array\r\n * @param test   Function which is called on each element\r\n * @returns Whether `test` returned true or not\r\n */\r\nexport function any(array, test) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        if (test(array[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Calls `fn` function for every member of array and returns a new array out\r\n * of all outputs.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n * @returns New array\r\n */\r\nexport function map(array, fn) {\r\n    var length = array.length;\r\n    var output = new Array(length);\r\n    for (var i = 0; i < length; ++i) {\r\n        output[i] = fn(array[i], i);\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function each(array, fn) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array in reverse order and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function eachReverse(array, fn) {\r\n    var i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * If `fn` call evaluates to `false`, further iteration is cancelled.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function eachContinue(array, fn) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        if (!fn(array[i], i)) {\r\n            break;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Shifts an item at `index` towards beginning of the array.\r\n *\r\n * @param array  Source array\r\n * @param index  Target element index\r\n */\r\nexport function shiftLeft(array, index) {\r\n    var length = array.length;\r\n    for (var i = index; i < length; ++i) {\r\n        array[i - index] = array[i];\r\n    }\r\n    array.length = length - index;\r\n}\r\n/**\r\n * Returns the last item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nexport function last(array) {\r\n    var length = array.length;\r\n    return length ? array[length - 1] : undefined;\r\n}\r\n/**\r\n * Returns the first item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nexport function first(array) {\r\n    return array[0];\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * Caps `index` to be between `0` and `array.length`\r\n *\r\n * @param array    Source array\r\n * @param element  Item to insert\r\n * @param array    Index to insert item at\r\n */\r\nexport function insert(array, element, index) {\r\n    //if (array) {\r\n    index = Math.max(0, Math.min(index, array.length));\r\n    array.splice(index, 0, element);\r\n    //}\r\n}\r\n/**\r\n * Removes all copies of `element` from `array` (if they exist) and then\r\n * inserts `element` at `index`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item\r\n * @param array    Index to move item to\r\n */\r\nexport function setIndex(array, element, index) {\r\n    remove(array, element);\r\n    insert(array, element, index);\r\n}\r\n/**\r\n * Pushes all of the elements from `input` into `array`.\r\n *\r\n * @param array  Output array\r\n * @param input  Input array\r\n */\r\nexport function pushAll(array, input) {\r\n    var length = input.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        array.push(input[i]);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array`.\r\n *\r\n * If there are multiple copies of `element`, they are all removed.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n */\r\nexport function remove(array, element) {\r\n    var found = false;\r\n    var index = 0;\r\n    for (;;) {\r\n        index = array.indexOf(element, index);\r\n        if (index === -1) {\r\n            return found;\r\n        }\r\n        else {\r\n            found = true;\r\n            array.splice(index, 1);\r\n        }\r\n    }\r\n}\r\nexport function removeFirst(array, element) {\r\n    var index = array.indexOf(element);\r\n    if (index !== -1) {\r\n        array.splice(index, 1);\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds an `element` to `array`.\r\n *\r\n * If array already contains and item like this, it is removed before adding\r\n * it again.\r\n *\r\n * Optionally `toIndex` can be specified to add element at specific index.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to move item to\r\n */\r\nexport function move(array, element, toIndex) {\r\n    // @todo this implementation must be the same as the List.moveValue method\r\n    // @todo don't do anything if the desired index is the same as the current index\r\n    var index = indexOf(array, element);\r\n    // @todo remove all old values rather than only the first ?\r\n    if (index !== -1) {\r\n        removeIndex(array, index);\r\n    }\r\n    if (toIndex == null) {\r\n        array.push(element);\r\n    }\r\n    else {\r\n        insertIndex(array, toIndex, element);\r\n    }\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to add item at\r\n */\r\nexport function add(array, element, index) {\r\n    // Append to the end if index is not set\r\n    if (!$type.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // Add to the beginning of array if index is 0\r\n    else if (index === 0) {\r\n        array.unshift(element);\r\n    }\r\n    // Add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Pushes `element` into `array` if it doesn't already exist.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n */\r\nexport function pushOne(array, element) {\r\n    if (array.indexOf(element) === -1) {\r\n        array.push(element);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array` (if it exists) and then inserts `element` at\r\n * `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n * @param array    Index to move item to\r\n */\r\nexport function replace(array, element, index) {\r\n    // check if exists\r\n    var ind = array.indexOf(element);\r\n    // remove if exists\r\n    if (ind !== -1) {\r\n        array.splice(ind, 1);\r\n    }\r\n    // add to end if index is not set\r\n    if (!$type.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Wraps `input` in an array, if it isn't already an array.\r\n *\r\n * @param input  Source value\r\n * @return An array\r\n */\r\nexport function toArray(input) {\r\n    if (Array.isArray(input)) {\r\n        return input;\r\n    }\r\n    else {\r\n        return [input];\r\n    }\r\n}\r\n/**\r\n * Returns `true` if `element` exists in `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to search for\r\n * @returns Item in array?\r\n */\r\nexport function has(array, element) {\r\n    return indexOf(array, element) !== -1;\r\n}\r\n/**\r\n * Returns a shallow copy of `array`.\r\n *\r\n * @param array  Source array\r\n * @returns Copy of the array\r\n */\r\nexport function copy(array) {\r\n    var length = array.length;\r\n    // It's faster to create the array with a pre-defined length\r\n    var output = new Array(length);\r\n    for (var i = 0; i < length; ++i) {\r\n        // Because the array has a pre-defined length, we have to assign rather than push\r\n        // This is also faster than pushing\r\n        output[i] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Returns a copy of `array` which contains all the elements between `start`\r\n * and `end`. (including `start` and excluding `end`)\r\n *\r\n * If `end` is not provided, it defaults to `array.length`.\r\n *\r\n * @param array  Source array\r\n * @param start  Start index\r\n * @param end    End index\r\n * @returns Part of the array\r\n */\r\nexport function slice(array, start, end) {\r\n    if (end === void 0) { end = array.length; }\r\n    var output = new Array(end - start);\r\n    for (var i = start; i < end; ++i) {\r\n        output[i - start] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Inserts a value into array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n * @param value  Value to insert\r\n */\r\nexport function insertIndex(array, index, value) {\r\n    array.splice(index, 0, value);\r\n}\r\n/**\r\n * Removes a value from array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n */\r\nexport function removeIndex(array, index) {\r\n    array.splice(index, 1);\r\n}\r\n/**\r\n * Searches the array using custom function and returns index of the item if\r\n * found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns -1.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nexport function findIndex(array, matches) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * This is the same as `findIndex` except it searches from right to left.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nexport function findIndexReverse(array, matches) {\r\n    var i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function find(array, matches) {\r\n    var index = findIndex(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * This is the same as `find` except it searches from right to left.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function findReverse(array, matches) {\r\n    var index = findIndexReverse(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If value\r\n * is not `undefined`, it returns it.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function findMap(array, matches) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        var value = matches(array[i], i);\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function shuffle(array) {\r\n    // https://stackoverflow.com/a/2450976/449477\r\n    var currentIndex = array.length, temporaryValue, randomIndex;\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n    }\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns right-most index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @returns Result of the search\r\n */\r\nexport function getSortedIndex(array, ordering) {\r\n    var start = 0;\r\n    var end = array.length;\r\n    var found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        var pivot = (start + end) >> 1;\r\n        var order = ordering(array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            start = pivot + 1;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            start = pivot + 1;\r\n            // more\r\n        }\r\n        else {\r\n            end = pivot;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: (found ? start - 1 : start)\r\n    };\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns left-most index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @returns Result of the search\r\n */\r\nexport function getFirstSortedIndex(array, ordering) {\r\n    var start = 0;\r\n    var end = array.length;\r\n    var found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        var pivot = (start + end) >> 1;\r\n        var order = ordering(array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            start = pivot + 1;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            end = pivot;\r\n            // more\r\n        }\r\n        else {\r\n            end = pivot;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: start\r\n    };\r\n}\r\nexport function keepIf(array, keep) {\r\n    var i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        if (!keep(array[i])) {\r\n            array.splice(i, 1);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Array.js.map","import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $array from \"./Array\";\r\n/**\r\n * A base class for disposable objects.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar DisposerClass = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     */\r\n    function DisposerClass() {\r\n        /**\r\n         * Is object disposed?\r\n         */\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    Object.defineProperty(DisposerClass.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    Object.defineProperty(DisposerClass.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                this._dispose();\r\n            }\r\n        }\r\n    });\r\n    return DisposerClass;\r\n}());\r\nexport { DisposerClass };\r\n/**\r\n * A class for creating an IDisposer.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar Disposer = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param dispose  Function that disposes object\r\n     */\r\n    function Disposer(dispose) {\r\n        /**\r\n         * Is object disposed?\r\n         */\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Method that disposes the object.\r\n         */\r\n        Object.defineProperty(this, \"_dispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposed = false;\r\n        this._dispose = dispose;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    Object.defineProperty(Disposer.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    Object.defineProperty(Disposer.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                this._dispose();\r\n            }\r\n        }\r\n    });\r\n    return Disposer;\r\n}());\r\nexport { Disposer };\r\n/**\r\n * This can be extended by other classes to add a `_disposers` property.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar ArrayDisposer = /** @class */ (function (_super) {\r\n    __extends(ArrayDisposer, _super);\r\n    function ArrayDisposer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ArrayDisposer.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            $array.each(this._disposers, function (x) {\r\n                x.dispose();\r\n            });\r\n        }\r\n    });\r\n    return ArrayDisposer;\r\n}(DisposerClass));\r\nexport { ArrayDisposer };\r\n/**\r\n * A collection of related disposers that can be disposed in one go.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar MultiDisposer = /** @class */ (function (_super) {\r\n    __extends(MultiDisposer, _super);\r\n    function MultiDisposer(disposers) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this._disposers = disposers;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MultiDisposer.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            $array.each(this._disposers, function (x) {\r\n                x.dispose();\r\n            });\r\n        }\r\n    });\r\n    return MultiDisposer;\r\n}(DisposerClass));\r\nexport { MultiDisposer };\r\n/**\r\n * A special kind of Disposer that has attached value set.\r\n *\r\n * If a new value is set using `set()` method, the old disposer value is\r\n * disposed.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar MutableValueDisposer = /** @class */ (function (_super) {\r\n    __extends(MutableValueDisposer, _super);\r\n    function MutableValueDisposer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * Current disposer.\r\n         */\r\n        Object.defineProperty(_this, \"_disposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Current value.\r\n         */\r\n        Object.defineProperty(_this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MutableValueDisposer.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._disposer != null) {\r\n                this._disposer.dispose();\r\n                this._disposer = undefined;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns current value.\r\n     *\r\n     * @return Value\r\n     */\r\n    Object.defineProperty(MutableValueDisposer.prototype, \"get\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._value;\r\n        }\r\n    });\r\n    /**\r\n     * Sets value and disposes previous disposer if it was set.\r\n     *\r\n     * @param value     New value\r\n     * @param disposer  Disposer\r\n     */\r\n    Object.defineProperty(MutableValueDisposer.prototype, \"set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, disposer) {\r\n            if (this._disposer != null) {\r\n                this._disposer.dispose();\r\n            }\r\n            this._disposer = disposer;\r\n            this._value = value;\r\n        }\r\n    });\r\n    /**\r\n     * Resets the disposer value.\r\n     */\r\n    Object.defineProperty(MutableValueDisposer.prototype, \"reset\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.set(undefined, undefined);\r\n        }\r\n    });\r\n    return MutableValueDisposer;\r\n}(DisposerClass));\r\nexport { MutableValueDisposer };\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar CounterDisposer = /** @class */ (function (_super) {\r\n    __extends(CounterDisposer, _super);\r\n    function CounterDisposer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * [_counter description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        Object.defineProperty(_this, \"_counter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * [increment description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    Object.defineProperty(CounterDisposer.prototype, \"increment\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            // TODO throw an error if it is disposed\r\n            ++this._counter;\r\n            // TODO make this more efficient\r\n            return new Disposer(function () {\r\n                --_this._counter;\r\n                if (_this._counter === 0) {\r\n                    _this.dispose();\r\n                }\r\n            });\r\n        }\r\n    });\r\n    return CounterDisposer;\r\n}(Disposer));\r\nexport { CounterDisposer };\r\n//# sourceMappingURL=Disposer.js.map","/**\r\n * Event Dispatcher module is used for registering listeners and dispatching\r\n * events across amCharts system.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Disposer, MultiDisposer } from \"./Disposer\";\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Universal Event Dispatcher.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nvar EventDispatcher = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     */\r\n    function EventDispatcher() {\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_killed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_iterating\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_enabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._listeners = [];\r\n        this._killed = [];\r\n        this._disabled = {};\r\n        this._iterating = 0;\r\n        this._enabled = true;\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Returns if this object has been already disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    /**\r\n     * Dispose (destroy) this object.\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                var a = this._listeners;\r\n                this._iterating = 1;\r\n                this._listeners = null;\r\n                this._disabled = null;\r\n                try {\r\n                    $array.each(a, function (x) {\r\n                        x.disposer.dispose();\r\n                    });\r\n                }\r\n                finally {\r\n                    this._killed = null;\r\n                    this._iterating = null;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Checks if this particular event dispatcher has any listeners set.\r\n     *\r\n     * @return Has listeners?\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"hasListeners\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._listeners.length !== 0;\r\n        }\r\n    });\r\n    /**\r\n     * Checks if this particular event dispatcher has any particular listeners set.\r\n     *\r\n     * @return Has particular event listeners?\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"hasListenersByType\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type) {\r\n            return $array.any(this._listeners, function (x) { return (x.type === null || x.type === type) && !x.killed; });\r\n        }\r\n    });\r\n    /**\r\n     * Enable dispatching of events if they were previously disabled by\r\n     * `disable()`.\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"enable\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._enabled = true;\r\n        }\r\n    });\r\n    /**\r\n     * Disable dispatching of events until re-enabled by `enable()`.\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"disable\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._enabled = false;\r\n        }\r\n    });\r\n    /**\r\n     * Enable dispatching particular event, if it was disabled before by\r\n     * `disableType()`.\r\n     *\r\n     * @param type Event type\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"enableType\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type) {\r\n            delete this._disabled[type];\r\n        }\r\n    });\r\n    /**\r\n     * Disable dispatching of events for a certain event type.\r\n     *\r\n     * Optionally, can set how many dispatches to skip before automatically\r\n     * re-enabling the dispatching.\r\n     *\r\n     * @param type    Event type\r\n     * @param amount  Number of event dispatches to skip\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"disableType\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, amount) {\r\n            if (amount === void 0) { amount = Infinity; }\r\n            this._disabled[type] = amount;\r\n        }\r\n    });\r\n    /**\r\n     * Removes listener from dispatcher.\r\n     *\r\n     * Will throw an exception if such listener does not exists.\r\n     *\r\n     * @param listener Listener to remove\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"_removeListener\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (listener) {\r\n            if (this._iterating === 0) {\r\n                var index = this._listeners.indexOf(listener);\r\n                if (index === -1) {\r\n                    throw new Error(\"Invalid state: could not remove listener\");\r\n                }\r\n                this._listeners.splice(index, 1);\r\n            }\r\n            else {\r\n                this._killed.push(listener);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Removes existing listener by certain parameters.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"_removeExistingListener\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (once, type, callback, context) {\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            this._eachListener(function (info) {\r\n                if (info.once === once && // TODO is this correct ?\r\n                    info.type === type &&\r\n                    (callback === undefined || info.callback === callback) &&\r\n                    info.context === context) {\r\n                    info.disposer.dispose();\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Checks if dispatching for particular event type is enabled.\r\n     *\r\n     * @param type  Event type\r\n     * @return Enabled?\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"isEnabled\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type) {\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            // TODO is this check correct ?\r\n            return this._enabled && this._listeners.length > 0 && this.hasListenersByType(type) && this._disabled[type] === undefined;\r\n        }\r\n    });\r\n    /**\r\n     * Removes all listeners of a particular event type\r\n     *\r\n     * @param type  Listener's type\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"removeType\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type) {\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            this._eachListener(function (info) {\r\n                if (info.type === type) {\r\n                    info.disposer.dispose();\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Checks if there's already a listener with specific parameters.\r\n     *\r\n     * @param type      Listener's type\r\n     * @param callback  Callback function\r\n     * @param context   Callback context\r\n     * @return Has listener?\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"has\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, callback, context) {\r\n            var index = $array.findIndex(this._listeners, function (info) {\r\n                return info.once !== true && // Ignoring \"once\" listeners\r\n                    info.type === type &&\r\n                    (callback === undefined || info.callback === callback) &&\r\n                    info.context === context;\r\n            });\r\n            return index !== -1;\r\n        }\r\n    });\r\n    /**\r\n     * Checks whether event of the particular type should be dispatched.\r\n     *\r\n     * @param type  Event type\r\n     * @return Dispatch?\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"_shouldDispatch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type) {\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            var count = this._disabled[type];\r\n            if (!$type.isNumber(count)) {\r\n                return this._enabled;\r\n            }\r\n            else {\r\n                if (count <= 1) {\r\n                    delete this._disabled[type];\r\n                }\r\n                else {\r\n                    --this._disabled[type];\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * [_eachListener description]\r\n     *\r\n     * All of this extra code is needed when a listener is removed while iterating\r\n     *\r\n     * @todo Description\r\n     * @param fn [description]\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"_eachListener\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fn) {\r\n            var _this = this;\r\n            ++this._iterating;\r\n            try {\r\n                $array.each(this._listeners, fn);\r\n            }\r\n            finally {\r\n                --this._iterating;\r\n                // TODO should this be inside or outside the finally ?\r\n                if (this._iterating === 0 && this._killed.length !== 0) {\r\n                    // Remove killed listeners\r\n                    $array.each(this._killed, function (killed) {\r\n                        _this._removeListener(killed);\r\n                    });\r\n                    this._killed.length = 0;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Dispatches an event immediately without waiting for next cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"dispatch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, event) {\r\n            if (this._shouldDispatch(type)) {\r\n                // TODO check if it's faster to use an object of listeners rather than a single big array\r\n                // TODO if the function throws, maybe it should keep going ?\r\n                this._eachListener(function (listener) {\r\n                    if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                        listener.dispatch(type, event);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Shelves the event to be dispatched within next update cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    /*public dispatchLater<Key extends keyof T>(type: Key, event: T[Key]): void {\r\n        if (this._shouldDispatch(type)) {\r\n            this._eachListener((listener) => {\r\n                // TODO check if it's faster to use an object of listeners rather than a single big array\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    // TODO if the function throws, maybe it should keep going ?\r\n                    // TODO dispatch during the update cycle, rather than using whenIdle\r\n                    $async.whenIdle(() => {\r\n                        if (!listener.killed) {\r\n                            listener.dispatch(type, event);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }*/\r\n    /**\r\n     * Creates, catalogs and returns an [[EventListener]].\r\n     *\r\n     * Event listener can be disposed.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @param dispatch\r\n     * @returns An event listener\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"_on\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (once, type, callback, context, shouldClone, dispatch) {\r\n            var _this = this;\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            this._removeExistingListener(once, type, callback, context);\r\n            var info = {\r\n                type: type,\r\n                callback: callback,\r\n                context: context,\r\n                shouldClone: shouldClone,\r\n                dispatch: dispatch,\r\n                killed: false,\r\n                once: once,\r\n                disposer: new Disposer(function () {\r\n                    info.killed = true;\r\n                    _this._removeListener(info);\r\n                })\r\n            };\r\n            this._listeners.push(info);\r\n            return info;\r\n        }\r\n    });\r\n    /**\r\n     * Creates an event listener to be invoked on **any** event.\r\n     *\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"onAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (callback, context, shouldClone) {\r\n            if (shouldClone === void 0) { shouldClone = true; }\r\n            return this._on(false, null, callback, context, shouldClone, function (_type, event) { return callback.call(context, event); }).disposer;\r\n        }\r\n    });\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler whenever series we put\r\n     * event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"on\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, callback, context, shouldClone) {\r\n            if (shouldClone === void 0) { shouldClone = true; }\r\n            return this._on(false, type, callback, context, shouldClone, function (_type, event) { return callback.call(context, event); }).disposer;\r\n        }\r\n    });\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type once.\r\n     *\r\n     * Once the event listener is invoked, it is automatically disposed.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler the first time series we\r\n     * put event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"once\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, callback, context, shouldClone) {\r\n            if (shouldClone === void 0) { shouldClone = true; }\r\n            var x = this._on(true, type, callback, context, shouldClone, function (_type, event) {\r\n                x.disposer.dispose();\r\n                callback.call(context, event);\r\n            });\r\n            // TODO maybe this should return a different Disposer ?\r\n            return x.disposer;\r\n        }\r\n    });\r\n    /**\r\n     * Removes the event listener with specific parameters.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"off\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, callback, context) {\r\n            this._removeExistingListener(false, type, callback, context);\r\n        }\r\n    });\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"copyFrom\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (source) {\r\n            var _this = this;\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            if (source === this) {\r\n                throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n            }\r\n            var disposers = [];\r\n            $array.each(source._listeners, function (x) {\r\n                // TODO is this correct ?\r\n                if (!x.killed && x.shouldClone) {\r\n                    if (x.type === null) {\r\n                        disposers.push(_this.onAll(x.callback, x.context));\r\n                    }\r\n                    else if (x.once) {\r\n                        disposers.push(_this.once(x.type, x.callback, x.context));\r\n                    }\r\n                    else {\r\n                        disposers.push(_this.on(x.type, x.callback, x.context));\r\n                    }\r\n                }\r\n            });\r\n            return new MultiDisposer(disposers);\r\n        }\r\n    });\r\n    return EventDispatcher;\r\n}());\r\nexport { EventDispatcher };\r\n/**\r\n * A version of the [[EventDispatcher]] that dispatches events for a specific\r\n * target object.\r\n *\r\n * @ignore\r\n */\r\nvar TargetedEventDispatcher = /** @class */ (function (_super) {\r\n    __extends(TargetedEventDispatcher, _super);\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param target Event dispatcher target\r\n     */\r\n    function TargetedEventDispatcher(target) {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * A target object which is originating events using this dispatcher.\r\n         */\r\n        Object.defineProperty(_this, \"target\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this.target = target;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(TargetedEventDispatcher.prototype, \"copyFrom\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (source) {\r\n            var _this = this;\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            if (source === this) {\r\n                throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n            }\r\n            var disposers = [];\r\n            $array.each(source._listeners, function (x) {\r\n                // TODO very hacky\r\n                if (x.context === source.target) {\r\n                    return;\r\n                }\r\n                // TODO is this correct ?\r\n                if (!x.killed && x.shouldClone) {\r\n                    if (x.type === null) {\r\n                        disposers.push(_this.onAll(x.callback, x.context));\r\n                    }\r\n                    else if (x.once) {\r\n                        disposers.push(_this.once(x.type, x.callback, x.context));\r\n                    }\r\n                    else {\r\n                        disposers.push(_this.on(x.type, x.callback, x.context));\r\n                    }\r\n                }\r\n            });\r\n            return new MultiDisposer(disposers);\r\n        }\r\n    });\r\n    return TargetedEventDispatcher;\r\n}(EventDispatcher));\r\nexport { TargetedEventDispatcher };\r\n//# sourceMappingURL=EventDispatcher.js.map","import { __extends, __generator } from \"tslib\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $array from \"./Array\";\r\n/**\r\n * Checks if specific index fits into length.\r\n *\r\n * @param index  Index\r\n * @param len    Length\r\n * @ignore\r\n */\r\nfunction checkBounds(index, len) {\r\n    if (!(index >= 0 && index < len)) {\r\n        throw new Error(\"Index out of bounds: \" + index);\r\n    }\r\n}\r\n/**\r\n * A List class is used to hold a number of indexed items of the same type.\r\n */\r\nvar List = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param initial  Inital list of values to add to list\r\n     */\r\n    function List(initial) {\r\n        if (initial === void 0) { initial = []; }\r\n        /**\r\n         * List values.\r\n         */\r\n        Object.defineProperty(this, \"_values\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        this._values = initial;\r\n    }\r\n    Object.defineProperty(List.prototype, \"values\", {\r\n        /**\r\n         * An array of values in the list.\r\n         *\r\n         * Do not use this property to add values. Rather use dedicated methods, like\r\n         * `push()`, `removeIndex()`, etc.\r\n         *\r\n         * @readonly\r\n         * @return List values\r\n         */\r\n        get: function () {\r\n            return this._values;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks if list contains specific item reference.\r\n     *\r\n     * @param item  Item to search for\r\n     * @return `true` if found, `false` if not found\r\n     */\r\n    Object.defineProperty(List.prototype, \"contains\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            return this._values.indexOf(value) !== -1;\r\n        }\r\n    });\r\n    /**\r\n     * Removes specific item from the list.\r\n     *\r\n     * @param item An item to remove\r\n     */\r\n    Object.defineProperty(List.prototype, \"removeValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var i = 0;\r\n            var length = this._values.length;\r\n            while (i < length) {\r\n                // TODO handle NaN\r\n                if (this._values[i] === value) {\r\n                    this.removeIndex(i);\r\n                    --length;\r\n                }\r\n                else {\r\n                    ++i;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Searches the list for specific item and returns its index.\r\n     *\r\n     * @param item  An item to search for\r\n     * @return Index or -1 if not found\r\n     */\r\n    Object.defineProperty(List.prototype, \"indexOf\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            return $array.indexOf(this._values, value);\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"length\", {\r\n        /**\r\n         * Number of items in list.\r\n         *\r\n         * @readonly\r\n         * @return Number of items\r\n         */\r\n        get: function () {\r\n            return this._values.length;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks if there's a value at specific index.\r\n     *\r\n     * @param index  Index\r\n     * @return Value exists?\r\n     */\r\n    Object.defineProperty(List.prototype, \"hasIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            return index >= 0 && index < this._values.length;\r\n        }\r\n    });\r\n    /**\r\n     * Returns an item at specified index.\r\n     *\r\n     * @param index  Index\r\n     * @return List item\r\n     */\r\n    Object.defineProperty(List.prototype, \"getIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            return this._values[index];\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"_onPush\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (newValue) {\r\n            if (this.events.isEnabled(\"push\")) {\r\n                this.events.dispatch(\"push\", {\r\n                    type: \"push\",\r\n                    target: this,\r\n                    newValue: newValue\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"_onInsertIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, newValue) {\r\n            if (this.events.isEnabled(\"insertIndex\")) {\r\n                this.events.dispatch(\"insertIndex\", {\r\n                    type: \"insertIndex\",\r\n                    target: this,\r\n                    index: index,\r\n                    newValue: newValue\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"_onSetIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, oldValue, newValue) {\r\n            if (this.events.isEnabled(\"setIndex\")) {\r\n                this.events.dispatch(\"setIndex\", {\r\n                    type: \"setIndex\",\r\n                    target: this,\r\n                    index: index,\r\n                    oldValue: oldValue,\r\n                    newValue: newValue\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"_onRemoveIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, oldValue) {\r\n            if (this.events.isEnabled(\"removeIndex\")) {\r\n                this.events.dispatch(\"removeIndex\", {\r\n                    type: \"removeIndex\",\r\n                    target: this,\r\n                    index: index,\r\n                    oldValue: oldValue\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"_onMoveIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (oldIndex, newIndex, value) {\r\n            if (this.events.isEnabled(\"moveIndex\")) {\r\n                this.events.dispatch(\"moveIndex\", {\r\n                    type: \"moveIndex\",\r\n                    target: this,\r\n                    oldIndex: oldIndex,\r\n                    newIndex: newIndex,\r\n                    value: value,\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"_onClear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (oldValues) {\r\n            if (this.events.isEnabled(\"clear\")) {\r\n                this.events.dispatch(\"clear\", {\r\n                    type: \"clear\",\r\n                    target: this,\r\n                    oldValues: oldValues\r\n                });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Sets value at specific index.\r\n     *\r\n     * If there's already a value at the index, it is overwritten.\r\n     *\r\n     * @param index  Index\r\n     * @param value  New value\r\n     * @return New value\r\n     */\r\n    Object.defineProperty(List.prototype, \"setIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, value) {\r\n            checkBounds(index, this._values.length);\r\n            var oldValue = this._values[index];\r\n            // Do nothing if the old value and the new value are the same\r\n            if (oldValue !== value) {\r\n                this._values[index] = value;\r\n                this._onSetIndex(index, oldValue, value);\r\n            }\r\n            return oldValue;\r\n        }\r\n    });\r\n    /**\r\n     * Adds an item to the list at a specific index, which pushes all the other\r\n     * items further down the list.\r\n     *\r\n     * @param index Index\r\n     * @param item  An item to add\r\n     */\r\n    Object.defineProperty(List.prototype, \"insertIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, value) {\r\n            checkBounds(index, this._values.length + 1);\r\n            $array.insertIndex(this._values, index, value);\r\n            this._onInsertIndex(index, value);\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * Swaps indexes of two items in the list.\r\n     *\r\n     * @param a  Item 1\r\n     * @param b  Item 2\r\n     */\r\n    Object.defineProperty(List.prototype, \"swap\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (a, b) {\r\n            var len = this._values.length;\r\n            checkBounds(a, len);\r\n            checkBounds(b, len);\r\n            if (a !== b) {\r\n                var value_a = this._values[a];\r\n                var value_b = this._values[b];\r\n                this._values[a] = value_b;\r\n                this._onSetIndex(a, value_a, value_b);\r\n                this._values[b] = value_a;\r\n                this._onSetIndex(b, value_b, value_a);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Removes a value at specific index.\r\n     *\r\n     * @param index  Index of value to remove\r\n     * @return Removed value\r\n     */\r\n    Object.defineProperty(List.prototype, \"removeIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            checkBounds(index, this._values.length);\r\n            var oldValue = this._values[index];\r\n            $array.removeIndex(this._values, index);\r\n            this._onRemoveIndex(index, oldValue);\r\n            return oldValue;\r\n        }\r\n    });\r\n    /**\r\n     * Moves an item to a specific index within the list.\r\n     *\r\n     * If the index is not specified it will move the item to the end of the\r\n     * list.\r\n     *\r\n     * @param value  Item to move\r\n     * @param index  Index to place item at\r\n     */\r\n    Object.defineProperty(List.prototype, \"moveValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, toIndex) {\r\n            // TODO don't do anything if the desired index is the same as the current index\r\n            var index = this.indexOf(value);\r\n            // TODO remove all old values rather than only the first ?\r\n            if (index !== -1) {\r\n                $array.removeIndex(this._values, index);\r\n                if (toIndex == null) {\r\n                    var toIndex_1 = this._values.length;\r\n                    this._values.push(value);\r\n                    this._onMoveIndex(index, toIndex_1, value);\r\n                }\r\n                else {\r\n                    $array.insertIndex(this._values, toIndex, value);\r\n                    this._onMoveIndex(index, toIndex, value);\r\n                }\r\n            }\r\n            else if (toIndex == null) {\r\n                this._values.push(value);\r\n                this._onPush(value);\r\n            }\r\n            else {\r\n                $array.insertIndex(this._values, toIndex, value);\r\n                this._onInsertIndex(toIndex, value);\r\n            }\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * Adds an item to the end of the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    Object.defineProperty(List.prototype, \"push\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            this._values.push(value);\r\n            this._onPush(value);\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * Adds an item as a first item in the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    Object.defineProperty(List.prototype, \"unshift\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            this.insertIndex(0, value);\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * Adds multiple items to the list.\r\n     *\r\n     * @param items  An Array of items to add\r\n     */\r\n    Object.defineProperty(List.prototype, \"pushAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (values) {\r\n            var _this = this;\r\n            $array.each(values, function (value) {\r\n                _this.push(value);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Copies and adds items from abother list.\r\n     *\r\n     * @param source  A list top copy items from\r\n     */\r\n    Object.defineProperty(List.prototype, \"copyFrom\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (source) {\r\n            this.pushAll(source._values);\r\n        }\r\n    });\r\n    /**\r\n     * Returns the last item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    Object.defineProperty(List.prototype, \"pop\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var index = this._values.length - 1;\r\n            return index < 0 ? undefined : this.removeIndex(this._values.length - 1);\r\n        }\r\n    });\r\n    /**\r\n     * Returns the first item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    Object.defineProperty(List.prototype, \"shift\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._values.length ? this.removeIndex(0) : undefined;\r\n        }\r\n    });\r\n    /**\r\n     * Sets multiple items to the list.\r\n     *\r\n     * All current items are removed.\r\n     *\r\n     * @param newArray  New items\r\n     */\r\n    Object.defineProperty(List.prototype, \"setAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (newArray) {\r\n            var _this = this;\r\n            var old = this._values;\r\n            this._values = [];\r\n            this._onClear(old);\r\n            $array.each(newArray, function (value) {\r\n                _this._values.push(value);\r\n                _this._onPush(value);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Removes all items from the list.\r\n     */\r\n    Object.defineProperty(List.prototype, \"clear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setAll([]);\r\n        }\r\n    });\r\n    /**\r\n     * Returns an ES6 iterator for the list.\r\n     */\r\n    Object.defineProperty(List.prototype, Symbol.iterator, {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var length, i;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        length = this._values.length;\r\n                        i = 0;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(i < length)) return [3 /*break*/, 4];\r\n                        return [4 /*yield*/, this._values[i]];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        ++i;\r\n                        return [3 /*break*/, 1];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Calls `f` for each element in the list.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    Object.defineProperty(List.prototype, \"each\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            $array.each(this._values, f);\r\n        }\r\n    });\r\n    /**\r\n     * Calls `f` for each element in the list, from right to left.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    Object.defineProperty(List.prototype, \"eachReverse\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            $array.eachReverse(this._values, f);\r\n        }\r\n    });\r\n    return List;\r\n}());\r\nexport { List };\r\n/**\r\n * A version of a [[List]] where the elements are disposed automatically when\r\n * removed from the list, unless `autoDispose` is set to `false`.\r\n */\r\nvar ListAutoDispose = /** @class */ (function (_super) {\r\n    __extends(ListAutoDispose, _super);\r\n    function ListAutoDispose() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * Automatically disposes elements that are removed from the list.\r\n         *\r\n         * @default true\r\n         */\r\n        Object.defineProperty(_this, \"autoDispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ListAutoDispose.prototype, \"_onSetIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, oldValue, newValue) {\r\n            if (this.autoDispose) {\r\n                oldValue.dispose();\r\n            }\r\n            _super.prototype._onSetIndex.call(this, index, oldValue, newValue);\r\n        }\r\n    });\r\n    Object.defineProperty(ListAutoDispose.prototype, \"_onRemoveIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, oldValue) {\r\n            if (this.autoDispose) {\r\n                oldValue.dispose();\r\n            }\r\n            _super.prototype._onRemoveIndex.call(this, index, oldValue);\r\n        }\r\n    });\r\n    Object.defineProperty(ListAutoDispose.prototype, \"_onClear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (oldValues) {\r\n            if (this.autoDispose) {\r\n                $array.each(oldValues, function (x) {\r\n                    x.dispose();\r\n                });\r\n            }\r\n            _super.prototype._onClear.call(this, oldValues);\r\n        }\r\n    });\r\n    Object.defineProperty(ListAutoDispose.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    Object.defineProperty(ListAutoDispose.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                if (this.autoDispose) {\r\n                    $array.each(this._values, function (x) {\r\n                        x.dispose();\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    return ListAutoDispose;\r\n}(List));\r\nexport { ListAutoDispose };\r\n/**\r\n * A version of a [[List]] that is able to create new elements as well as\r\n * apply additional settings to newly created items.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/list-templates/} for more info\r\n */\r\nvar ListTemplate = /** @class */ (function (_super) {\r\n    __extends(ListTemplate, _super);\r\n    function ListTemplate(template, make) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"make\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this.template = template;\r\n        _this.make = make;\r\n        return _this;\r\n    }\r\n    return ListTemplate;\r\n}(ListAutoDispose));\r\nexport { ListTemplate };\r\n//# sourceMappingURL=List.js.map","import { __extends } from \"tslib\";\r\nimport { List } from \"./List\";\r\nimport * as $array from \"./Array\";\r\n/**\r\n * A version of [[List]] to hold children of the [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\r\n */\r\nvar Children = /** @class */ (function (_super) {\r\n    __extends(Children, _super);\r\n    function Children(container) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this._container = container;\r\n        _this._events = _this.events.onAll(function (change) {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, function (x) {\r\n                    _this._onRemoved(x);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                _this._onInserted(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                _this._onRemoved(change.oldValue);\r\n                _this._onInserted(change.newValue, change.index);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                _this._onInserted(change.newValue, change.index);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                _this._onRemoved(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                _this._onRemoved(change.value);\r\n                _this._onInserted(change.value, change.newIndex);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Children.prototype, \"_onInserted\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (child, index) {\r\n            child._setParent(this._container, true);\r\n            var childrenDisplay = this._container._childrenDisplay;\r\n            if (index === undefined) {\r\n                childrenDisplay.addChild(child._display);\r\n            }\r\n            else {\r\n                childrenDisplay.addChildAt(child._display, index);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Children.prototype, \"_onRemoved\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (child) {\r\n            this._container._childrenDisplay.removeChild(child._display);\r\n            this._container.markDirtyBounds();\r\n            this._container.markDirty();\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if obejct is disposed.\r\n     */\r\n    Object.defineProperty(Children.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    /**\r\n     * Permanently dispose this object.\r\n     */\r\n    Object.defineProperty(Children.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                this._events.dispose();\r\n                $array.each(this.values, function (child) {\r\n                    child.dispose();\r\n                });\r\n            }\r\n        }\r\n    });\r\n    return Children;\r\n}(List));\r\nexport { Children };\r\n//# sourceMappingURL=Children.js.map","/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents a relative value (percent).\r\n *\r\n * The Percent object, can be instantiated using two ways:\r\n *\r\n * * Via `new Percent(X)`.\r\n * * Via `am5.percent(X)`.\r\n *\r\n * You can also use shortcut functions for `0%`, `50%`, and `100%`:\r\n * * `am5.p0`\r\n * * `am5.p50`\r\n * * `am5.p1000`\r\n */\r\nvar Percent = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param percent  Percent value\r\n     */\r\n    function Percent(percent) {\r\n        /**\r\n         * Value in percent.\r\n         */\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = percent;\r\n    }\r\n    Object.defineProperty(Percent.prototype, \"value\", {\r\n        /**\r\n         * Relative value.\r\n         *\r\n         * E.g. 100% is 1, 50% is 0.5, etc.\r\n         *\r\n         * This is useful to apply transformations to other values. E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * let value = 256;\r\n         * let percent = new am5.p50;\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         * ```JavaScript\r\n         * var value = 256;\r\n         * var percent = new am5.p50;\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         *\r\n         * Alternatively, you can use `am5.percent()` helper function:\r\n         *\r\n         * ```TypeScript\r\n         * let value = 256;\r\n         * let percent = am5.p50;\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         * ```JavaScript\r\n         * var value = 256;\r\n         * var percent = am5.p50;\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         *\r\n         * @readonly\r\n         * @return Relative value\r\n         */\r\n        get: function () {\r\n            return this._value / 100;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Percent.prototype, \"percent\", {\r\n        /**\r\n         * Value in percent.\r\n         *\r\n         * @return Percent\r\n         */\r\n        get: function () {\r\n            return this._value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Percent.prototype, \"toString\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return \"\" + this._value + \"%\";\r\n        }\r\n    });\r\n    Object.defineProperty(Percent.prototype, \"interpolate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min, max) {\r\n            return min + (this.value * (max - min));\r\n        }\r\n    });\r\n    Object.defineProperty(Percent, \"normalize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (percent, min, max) {\r\n            if (percent instanceof Percent) {\r\n                return percent;\r\n            }\r\n            else {\r\n                if (min === max) {\r\n                    return new Percent(0);\r\n                }\r\n                else {\r\n                    return new Percent(Math.min(Math.max((percent - min) * (1 / (max - min)), 0), 1) * 100);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    return Percent;\r\n}());\r\nexport { Percent };\r\n/**\r\n * Converts numeric percent value to a proper [[Percent]] object.\r\n *\r\n * ```TypeScript\r\n * pieSeries.set(\"radius\", am5.percent(80));\r\n * ```\r\n * ```JavaScript\r\n * pieSeries.set(\"radius\", am5.percent(80));\r\n * ```\r\n *\r\n * @param value  Percent\r\n * @return Percent object\r\n */\r\nexport function percent(value) {\r\n    return new Percent(value);\r\n}\r\n/**\r\n * A shortcut function to `am5.percent(0)`.\r\n */\r\nexport var p0 = percent(0);\r\n/**\r\n * A shortcut function to `am5.percent(100)`.\r\n */\r\nexport var p100 = percent(100);\r\n/**\r\n * A shortcut function to `am5.percent(50)`.\r\n */\r\nexport var p50 = percent(50);\r\n/**\r\n * Checks if value is a [[Percent]] object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value  Input value\r\n * @return Is percent?\r\n */\r\nexport function isPercent(value) {\r\n    return value instanceof Percent;\r\n}\r\n//# sourceMappingURL=Percent.js.map","import { __extends, __read, __spreadArray } from \"tslib\";\r\nimport * as $type from \"./Type\";\r\nimport * as $array from \"./Array\";\r\nimport * as $object from \"./Object\";\r\nimport { Disposer, DisposerClass } from \"./Disposer\";\r\n/**\r\n * ============================================================================\r\n * DOM FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Execute a function when DOM is ready.\r\n *\r\n * @since 5.0.2\r\n * @param  f  Callback\r\n */\r\nexport function ready(f) {\r\n    if (document.readyState !== \"loading\") {\r\n        f();\r\n    }\r\n    else {\r\n        var listener_1 = function () {\r\n            if (document.readyState !== \"loading\") {\r\n                document.removeEventListener(\"readystatechange\", listener_1);\r\n                f();\r\n            }\r\n        };\r\n        document.addEventListener(\"readystatechange\", listener_1);\r\n    }\r\n}\r\n/**\r\n * Removes a DOM element.\r\n * @param  el  Target element\r\n */\r\nexport function removeElement(el) {\r\n    if (el.parentNode) {\r\n        el.parentNode.removeChild(el);\r\n    }\r\n}\r\n/**\r\n * Function that adds a disposable event listener directly to a DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param dom       A DOM element to add event to\r\n * @param type      Event type\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nexport function addEventListener(dom, type, listener, options) {\r\n    //@todo proper type check for options: EventListenerOptions | boolean (TS for some reason gives error on passive parameter)\r\n    //console.log(type, dom);\r\n    dom.addEventListener(type, listener, options || false);\r\n    return new Disposer(function () {\r\n        dom.removeEventListener(type, listener, options || false);\r\n    });\r\n}\r\n/**\r\n * Function that adds an event listener which is triggered when the browser's zoom changes.\r\n *\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nexport function onZoom(listener) {\r\n    // TODO use matchMedia instead ?\r\n    return addEventListener(window, \"resize\", function (_ev) {\r\n        listener();\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function supports(cap) {\r\n    switch (cap) {\r\n        case \"touchevents\":\r\n            //return \"ontouchstart\" in document.documentElement;\r\n            return window.hasOwnProperty(\"TouchEvent\");\r\n        case \"pointerevents\":\r\n            return window.hasOwnProperty(\"PointerEvent\");\r\n        case \"mouseevents\":\r\n            return window.hasOwnProperty(\"MouseEvent\");\r\n        case \"wheelevents\":\r\n            return window.hasOwnProperty(\"WheelEvent\");\r\n        case \"keyboardevents\":\r\n            return window.hasOwnProperty(\"KeyboardEvent\");\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getPointerId(event) {\r\n    var id = event.pointerId || 0;\r\n    //console.log(event);\r\n    return id;\r\n}\r\n/**\r\n * Removes focus from any element by shifting focus to body.\r\n *\r\n * @ignore\r\n */\r\nexport function blur() {\r\n    if (document.activeElement && document.activeElement != document.body) {\r\n        if (document.activeElement.blur) {\r\n            document.activeElement.blur();\r\n        }\r\n        else {\r\n            var input = document.createElement(\"button\");\r\n            input.style.position = \"fixed\";\r\n            input.style.top = \"0px\";\r\n            input.style.left = \"-10000px\";\r\n            document.body.appendChild(input);\r\n            input.focus();\r\n            input.blur();\r\n            document.body.removeChild(input);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Focuses element.\r\n *\r\n * @ignore\r\n */\r\nexport function focus(el) {\r\n    if (el) {\r\n        el.focus();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getRendererEvent(key) {\r\n    if (supports(\"pointerevents\")) {\r\n        return key;\r\n    }\r\n    else if (supports(\"touchevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"touchstart\";\r\n            case \"pointerout\": return \"touchend\";\r\n            case \"pointerdown\": return \"touchstart\";\r\n            case \"pointermove\": return \"touchmove\";\r\n            case \"pointerup\": return \"touchend\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    else if (supports(\"mouseevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"mouseover\";\r\n            case \"pointerout\": return \"mouseout\";\r\n            case \"pointerdown\": return \"mousedown\";\r\n            case \"pointermove\": return \"mousemove\";\r\n            case \"pointerup\": return \"mouseup\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    return key;\r\n}\r\n/**\r\n * Determines if pointer event originated from a touch pointer or mouse.\r\n *\r\n * @param ev  Original event\r\n * @return Touch pointer?\r\n */\r\nexport function isTouchEvent(ev) {\r\n    if (typeof Touch !== \"undefined\" && ev instanceof Touch) {\r\n        return true;\r\n    }\r\n    else if (typeof PointerEvent !== \"undefined\" && ev instanceof PointerEvent && ev.pointerType != null) {\r\n        switch (ev.pointerType) {\r\n            case \"touch\":\r\n            case \"pen\":\r\n            case 2:\r\n                return true;\r\n            case \"mouse\":\r\n            case 4:\r\n                return false;\r\n            default:\r\n                return !(ev instanceof MouseEvent);\r\n        }\r\n    }\r\n    else if (ev.type != null) {\r\n        if (ev.type.match(/^mouse/)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Sets style property on DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport function setStyle(dom, property, value) {\r\n    dom.style[property] = value;\r\n}\r\nexport function getStyle(dom, property) {\r\n    return dom.style[property];\r\n}\r\n/**\r\n * Checks of element `a` contains element `b`.\r\n *\r\n * @param a  Aleged ascendant\r\n * @param b  Aleged descendant\r\n * @return Contains?\r\n */\r\nexport function contains(a, b) {\r\n    var cursor = b;\r\n    while (true) {\r\n        if (a === cursor) {\r\n            return true;\r\n        }\r\n        else if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host == null) {\r\n                return false;\r\n            }\r\n            else {\r\n                cursor = cursor.host;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Returns `true` if pointer event originated on an element within Root.\r\n *\r\n * @since 5.2.8\r\n * @param  event   Event\r\n * @param  target  Target element\r\n */\r\nexport function isLocalEvent(event, target) {\r\n    return event.target && contains(target.root.dom, event.target);\r\n}\r\n/**\r\n * Disables or enables interactivity of a DOM element.\r\n *\r\n * @param  target       Target element\r\n * @param  interactive  Interactive?\r\n */\r\nexport function setInteractive(target, interactive) {\r\n    if (interactive) {\r\n        target.style.pointerEvents = \"\";\r\n    }\r\n    else {\r\n        target.style.pointerEvents = \"none\";\r\n    }\r\n}\r\n/**\r\n * Returns the shadow root of the element or null\r\n *\r\n * @param a  Node\r\n * @return Root\r\n */\r\nexport function getShadowRoot(a) {\r\n    var cursor = a;\r\n    while (true) {\r\n        if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host != null) {\r\n                return cursor;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * [rootStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar rootStylesheet;\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nfunction createStylesheet(element, text, nonce) {\r\n    if (nonce === void 0) { nonce = \"\"; }\r\n    // TODO use createElementNS ?\r\n    var e = document.createElement(\"style\");\r\n    e.type = \"text/css\";\r\n    if (nonce != \"\") {\r\n        e.setAttribute(\"nonce\", nonce);\r\n    }\r\n    e.textContent = text;\r\n    if (element === null) {\r\n        document.head.appendChild(e);\r\n    }\r\n    else {\r\n        element.appendChild(e);\r\n    }\r\n    return e;\r\n}\r\n/**\r\n * [getStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @return [description]\r\n */\r\nfunction getStylesheet(element, nonce) {\r\n    if (nonce === void 0) { nonce = \"\"; }\r\n    if (element === null) {\r\n        if (rootStylesheet == null) {\r\n            // TODO use createElementNS ?\r\n            var e = document.createElement(\"style\");\r\n            e.type = \"text/css\";\r\n            if (nonce != \"\") {\r\n                e.setAttribute(\"nonce\", nonce);\r\n            }\r\n            document.head.appendChild(e);\r\n            rootStylesheet = e.sheet;\r\n        }\r\n        return rootStylesheet;\r\n    }\r\n    else {\r\n        // TODO use createElementNS ?\r\n        var e = document.createElement(\"style\");\r\n        e.type = \"text/css\";\r\n        if (nonce != \"\") {\r\n            e.setAttribute(\"nonce\", nonce);\r\n        }\r\n        element.appendChild(e);\r\n        return e.sheet;\r\n    }\r\n}\r\n/**\r\n * [makeStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param selector  [description]\r\n * @return [description]\r\n */\r\nfunction appendStylesheet(root, selector) {\r\n    var index = root.cssRules.length;\r\n    root.insertRule(selector + \"{}\", index);\r\n    return root.cssRules[index];\r\n}\r\n/**\r\n * Defines a class for a CSS rule.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nvar StyleRule = /** @class */ (function (_super) {\r\n    __extends(StyleRule, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param selector  CSS selector\r\n     * @param styles    An object of style attribute - value pairs\r\n     */\r\n    function StyleRule(element, selector, styles, nonce) {\r\n        if (nonce === void 0) { nonce = \"\"; }\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * CSS rule.\r\n         */\r\n        Object.defineProperty(_this, \"_rule\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this._root = getStylesheet(element, nonce);\r\n        _this._rule = appendStylesheet(_this._root, selector);\r\n        $object.each(styles, function (key, value) {\r\n            _this.setStyle(key, value);\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(StyleRule.prototype, \"selector\", {\r\n        /**\r\n         * @return CSS selector\r\n         */\r\n        get: function () {\r\n            return this._rule.selectorText;\r\n        },\r\n        /**\r\n         * A CSS selector text.\r\n         *\r\n         * E.g.: `.myClass p`\r\n         *\r\n         * @param selector  CSS selector\r\n         */\r\n        set: function (selector) {\r\n            this._rule.selectorText = selector;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    // TODO test this\r\n    Object.defineProperty(StyleRule.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // TODO a bit hacky\r\n            var index = $array.indexOf(this._root.cssRules, this._rule);\r\n            if (index === -1) {\r\n                throw new Error(\"Could not dispose StyleRule\");\r\n            }\r\n            else {\r\n                // TODO if it's empty remove it from the DOM ?\r\n                this._root.deleteRule(index);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Sets the same style properties with browser-specific prefixes.\r\n     *\r\n     * @param name   Attribute name\r\n     * @param value  Attribute value\r\n     */\r\n    Object.defineProperty(StyleRule.prototype, \"_setVendorPrefixName\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name, value) {\r\n            var style = this._rule.style;\r\n            style.setProperty(\"-webkit-\" + name, value, \"\");\r\n            style.setProperty(\"-moz-\" + name, value, \"\");\r\n            style.setProperty(\"-ms-\" + name, value, \"\");\r\n            style.setProperty(\"-o-\" + name, value, \"\");\r\n            style.setProperty(name, value, \"\");\r\n        }\r\n    });\r\n    /**\r\n     * Sets a value for specific style attribute.\r\n     *\r\n     * @param name   Attribute\r\n     * @param value  Value\r\n     */\r\n    Object.defineProperty(StyleRule.prototype, \"setStyle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name, value) {\r\n            if (name === \"transition\") {\r\n                this._setVendorPrefixName(name, value);\r\n            }\r\n            else {\r\n                this._rule.style.setProperty(name, value, \"\");\r\n            }\r\n        }\r\n    });\r\n    return StyleRule;\r\n}(DisposerClass));\r\nexport { StyleRule };\r\n/**\r\n * Defines a class for an entire CSS style sheet.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nvar StyleSheet = /** @class */ (function (_super) {\r\n    __extends(StyleSheet, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param text  CSS stylesheet\r\n     */\r\n    function StyleSheet(element, text, nonce) {\r\n        if (nonce === void 0) { nonce = \"\"; }\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this._element = createStylesheet(element, text, nonce);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(StyleSheet.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._element.parentNode) {\r\n                this._element.parentNode.removeChild(this._element);\r\n            }\r\n        }\r\n    });\r\n    return StyleSheet;\r\n}(DisposerClass));\r\nexport { StyleSheet };\r\n/**\r\n * Adds a class name to an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nexport function addClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        var classes = className.split(\" \");\r\n        $array.each(classes, function (name) {\r\n            element.classList.add(name);\r\n        });\r\n    }\r\n    else {\r\n        var currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter(function (item) {\r\n                return item !== className;\r\n            }).join(\" \") + \" \" + className);\r\n        }\r\n        else {\r\n            element.setAttribute(\"class\", className);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Removes a class name from an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nexport function removeClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        element.classList.remove(className);\r\n    }\r\n    else {\r\n        var currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter(function (item) {\r\n                return item !== className;\r\n            }).join(\" \"));\r\n        }\r\n    }\r\n}\r\n// /**\r\n//  * Applies a set of styles to an element. Stores the original styles so they\r\n//  * can be restored later.\r\n//  *\r\n//  * @ignore\r\n//  * @param io      Element\r\n//   */\r\n// export function prepElementForDrag(dom: HTMLElement): void {\r\n// \t// @todo: save current values\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"none\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"rgba(0, 0, 0, 0)\");\r\n// }\r\n// /**\r\n//  * Restores replaced styles\r\n//  *\r\n//  * @ignore\r\n//  * @param  io  Element\r\n//  */\r\n// export function unprepElementForDrag(dom: HTMLElement): void {\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"\");\r\n// }\r\nexport function iOS() {\r\n    return /apple/i.test(navigator.vendor) && \"ontouchend\" in document;\r\n}\r\nexport function getSafeResolution() {\r\n    return iOS() ? 1 : undefined;\r\n}\r\nexport function relativeToValue(percent, full) {\r\n    if ($type.isNumber(percent)) {\r\n        return percent;\r\n    }\r\n    else if (percent != null && $type.isNumber(percent.value) && $type.isNumber(full)) {\r\n        return full * percent.value;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * Returns number of decimals\r\n *\r\n * @ignore Exclude from docs\r\n * @param number  Input number\r\n * @return Number of decimals\r\n */\r\nexport function decimalPlaces(number) {\r\n    var match = ('' + number).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\r\n    if (!match) {\r\n        return 0;\r\n    }\r\n    return Math.max(0, (match[1] ? match[1].length : 0) - (match[2] ? +match[2] : 0));\r\n}\r\n/**\r\n * ============================================================================\r\n * STRING FORMATTING FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Pads a string with additional characters to certain length.\r\n *\r\n * @param value  A numeric value\r\n * @param len    Result string length in characters\r\n * @param char   A character to use for padding\r\n * @return Padded value as string\r\n */\r\nexport function padString(value, len, char) {\r\n    if (len === void 0) { len = 0; }\r\n    if (char === void 0) { char = \"0\"; }\r\n    if (typeof value !== \"string\") {\r\n        value = value.toString();\r\n    }\r\n    return len > value.length ? Array(len - value.length + 1).join(char) + value : value;\r\n}\r\nexport function trimLeft(text) {\r\n    return text.replace(/^[\\s]*/, \"\");\r\n}\r\nexport function trimRight(text) {\r\n    return text.replace(/[\\s]*$/, \"\");\r\n}\r\nexport function trim(text) {\r\n    return trimLeft(trimRight(text));\r\n}\r\n/**\r\n * Tries to determine format type.\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format string\r\n * @return Format type (\"string\" | \"number\" | \"date\" | \"duration\")\r\n */\r\nexport function getFormat(format) {\r\n    // Undefined?\r\n    if (typeof format === \"undefined\") {\r\n        return \"string\";\r\n    }\r\n    // Cleanup and lowercase format\r\n    format = format.toLowerCase().replace(/^\\[[^\\]]*\\]/, \"\");\r\n    // Remove style tags\r\n    format = format.replace(/\\[[^\\]]+\\]/, \"\");\r\n    // Trim\r\n    format = format.trim();\r\n    // Check for any explicit format hints (i.e. /Date)\r\n    var hints = format.match(/\\/(date|number|duration)$/);\r\n    if (hints) {\r\n        return hints[1];\r\n    }\r\n    // Check for explicit hints\r\n    if (format === \"number\") {\r\n        return \"number\";\r\n    }\r\n    if (format === \"date\") {\r\n        return \"date\";\r\n    }\r\n    if (format === \"duration\") {\r\n        return \"duration\";\r\n    }\r\n    // Detect number formatting symbols\r\n    if (format.match(/[#0]/)) {\r\n        return \"number\";\r\n    }\r\n    // Detect date formatting symbols\r\n    if (format.match(/[ymwdhnsqaxkzgtei]/)) {\r\n        return \"date\";\r\n    }\r\n    // Nothing? Let's display as string\r\n    return \"string\";\r\n}\r\n/**\r\n * Cleans up format:\r\n * * Strips out formatter hints\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format\r\n * @return Cleaned format\r\n */\r\nexport function cleanFormat(format) {\r\n    return format.replace(/\\/(date|number|duration)$/i, \"\");\r\n}\r\n/**\r\n * Strips all tags from the string.\r\n *\r\n * @param text  Source string\r\n * @return String without tags\r\n */\r\nexport function stripTags(text) {\r\n    return text ? text.replace(/<[^>]*>/g, \"\") : text;\r\n}\r\n/**\r\n * Removes new lines and tags from a string.\r\n *\r\n * @param text  String to conver\r\n * @return Converted string\r\n */\r\nexport function plainText(text) {\r\n    return text ? stripTags((\"\" + text).replace(/[\\n\\r]+/g, \". \")) : text;\r\n}\r\n/**\r\n * Escapes string so it can safely be used in a Regex.\r\n *\r\n * @param value  Unsescaped string\r\n * @return Escaped string\r\n */\r\nexport function escapeForRgex(value) {\r\n    return value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n}\r\n/**\r\n * ============================================================================\r\n * DATE-RELATED FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns a year day.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year day\r\n * @todo Account for UTC\r\n */\r\nexport function getYearDay(date, utc) {\r\n    if (utc === void 0) { utc = false; }\r\n    // TODO: utc needed?\r\n    utc;\r\n    var start = new Date(date.getFullYear(), 0, 0);\r\n    var diff = (date.getTime() - start.getTime()) + ((start.getTimezoneOffset() - date.getTimezoneOffset()) * 60 * 1000);\r\n    var oneDay = 1000 * 60 * 60 * 24;\r\n    return Math.floor(diff / oneDay);\r\n}\r\n/**\r\n * Returns week number for a given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number\r\n * @todo Account for UTC\r\n */\r\nexport function getWeek(date, _utc) {\r\n    if (_utc === void 0) { _utc = false; }\r\n    var d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n    var day = d.getUTCDay() || 7;\r\n    d.setUTCDate(d.getUTCDate() + 4 - day);\r\n    var firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    return Math.ceil((((d.getTime() - firstDay.getTime()) / 86400000) + 1) / 7);\r\n}\r\n/**\r\n * Returns a week number in the month.\r\n *\r\n * @param date  Source Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number in month\r\n */\r\nexport function getMonthWeek(date, utc) {\r\n    if (utc === void 0) { utc = false; }\r\n    var firstWeek = getWeek(new Date(date.getFullYear(), date.getMonth(), 1), utc);\r\n    var currentWeek = getWeek(date, utc);\r\n    if (currentWeek == 1) {\r\n        currentWeek = 53;\r\n    }\r\n    return currentWeek - firstWeek + 1;\r\n}\r\n/**\r\n * Returns a year day out of the given week number.\r\n *\r\n * @param week     Week\r\n * @param year     Year\r\n * @param weekday  Weekday\r\n * @param utc      Assume UTC dates\r\n * @return Day in a year\r\n */\r\nexport function getDayFromWeek(week, year, weekday, utc) {\r\n    if (weekday === void 0) { weekday = 1; }\r\n    if (utc === void 0) { utc = false; }\r\n    var date = new Date(year, 0, 4, 0, 0, 0, 0);\r\n    if (utc) {\r\n        date.setUTCFullYear(year);\r\n    }\r\n    var day = week * 7 + weekday - ((date.getDay() || 7) + 3);\r\n    return day;\r\n}\r\n/**\r\n * Returns 12-hour representation out of the 24-hour hours.\r\n *\r\n * @param hours  24-hour number\r\n * @return 12-hour number\r\n */\r\nexport function get12Hours(hours, base) {\r\n    if (hours > 12) {\r\n        hours -= 12;\r\n    }\r\n    else if (hours === 0) {\r\n        hours = 12;\r\n    }\r\n    return base != null ? hours + (base - 1) : hours;\r\n}\r\n/**\r\n * Returns a string name of the time zone.\r\n *\r\n * @param date     Date object\r\n * @param long     Should return long (\"Pacific Standard Time\") or short abbreviation (\"PST\")\r\n * @param savings  Include information if it's in daylight savings mode\r\n * @param utc      Assume UTC dates\r\n * @return Time zone name\r\n */\r\nexport function getTimeZone(date, long, savings, utc) {\r\n    if (long === void 0) { long = false; }\r\n    if (savings === void 0) { savings = false; }\r\n    if (utc === void 0) { utc = false; }\r\n    if (utc) {\r\n        return long ? \"Coordinated Universal Time\" : \"UTC\";\r\n    }\r\n    var wotz = date.toLocaleString(\"UTC\");\r\n    var wtz = date.toLocaleString(\"UTC\", { timeZoneName: long ? \"long\" : \"short\" }).substr(wotz.length);\r\n    //wtz = wtz.replace(/[+-]+[0-9]+$/, \"\");\r\n    if (savings === false) {\r\n        wtz = wtz.replace(/ (standard|daylight|summer|winter) /i, \" \");\r\n    }\r\n    return wtz;\r\n}\r\nexport function getTimezoneOffset(timezone) {\r\n    var date = new Date(Date.UTC(2012, 0, 1, 0, 0, 0, 0));\r\n    var utcDate = new Date(date.toLocaleString('en-US', { timeZone: 'UTC' }));\r\n    var tzDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\r\n    return (tzDate.getTime() - utcDate.getTime()) / 6e4 * -1;\r\n}\r\nexport function capitalizeFirst(text) {\r\n    return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n/**\r\n * The functions below are taken and adapted from Garry Tan's blog post:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * The further attributions go mjijackson.com, which now seems to be defunct.\r\n */\r\n/**\r\n * Converts an HSL color value to RGB. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes h, s, and l are contained in the set [0, 1] and\r\n * returns r, g, and b in the set [0, 255].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @ignore Exclude from docs\r\n * @param h       The hue\r\n * @param s       The saturation\r\n * @param l       The lightness\r\n * @return The RGB representation\r\n */\r\nexport function hslToRgb(color) {\r\n    var r, g, b;\r\n    var h = color.h;\r\n    var s = color.s;\r\n    var l = color.l;\r\n    if (s == 0) {\r\n        r = g = b = l; // achromatic\r\n    }\r\n    else {\r\n        var hue2rgb = function hue2rgb(p, q, t) {\r\n            if (t < 0) {\r\n                t += 1;\r\n            }\r\n            if (t > 1) {\r\n                t -= 1;\r\n            }\r\n            if (t < 1 / 6) {\r\n                return p + (q - p) * 6 * t;\r\n            }\r\n            if (t < 1 / 2) {\r\n                return q;\r\n            }\r\n            if (t < 2 / 3) {\r\n                return p + (q - p) * (2 / 3 - t) * 6;\r\n            }\r\n            return p;\r\n        };\r\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        var p = 2 * l - q;\r\n        r = hue2rgb(p, q, h + 1 / 3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255)\r\n    };\r\n}\r\n/**\r\n * Converts an RGB color value to HSL. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and l in the set [0, 1].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @ignore Exclude from docs\r\n * @param r       The red color value\r\n * @param g       The green color value\r\n * @param b       The blue color value\r\n * @return The HSL representation\r\n */\r\nexport function rgbToHsl(color) {\r\n    var r = color.r / 255;\r\n    var g = color.g / 255;\r\n    var b = color.b / 255;\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var h = 0;\r\n    var s = 0;\r\n    var l = (max + min) / 2;\r\n    if (max === min) {\r\n        h = s = 0; // achromatic\r\n    }\r\n    else {\r\n        var d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n        switch (max) {\r\n            case r:\r\n                h = (g - b) / d + (g < b ? 6 : 0);\r\n                break;\r\n            case g:\r\n                h = (b - r) / d + 2;\r\n                break;\r\n            case b:\r\n                h = (r - g) / d + 4;\r\n                break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return {\r\n        h: h,\r\n        s: s,\r\n        l: l\r\n    };\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the reference color.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color    Reference color\r\n * @param percent  Brightness percent\r\n * @return Hex code of the new color\r\n */\r\nexport function lighten(rgb, percent) {\r\n    if (rgb) {\r\n        return {\r\n            r: Math.max(0, Math.min(255, rgb.r + getLightnessStep(rgb.r, percent))),\r\n            g: Math.max(0, Math.min(255, rgb.g + getLightnessStep(rgb.g, percent))),\r\n            b: Math.max(0, Math.min(255, rgb.b + getLightnessStep(rgb.b, percent))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Gets lightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nexport function getLightnessStep(value, percent) {\r\n    var base = percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the source `color`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color    Source color\r\n * @param percent  Brightness percent\r\n * @return New color\r\n */\r\nexport function brighten(rgb, percent) {\r\n    if (rgb) {\r\n        var base = Math.min(Math.max(rgb.r, rgb.g, rgb.b), 230);\r\n        //let base = Math.max(rgb.r, rgb.g, rgb.b);\r\n        var step = getLightnessStep(base, percent);\r\n        return {\r\n            r: Math.max(0, Math.min(255, Math.round(rgb.r + step))),\r\n            g: Math.max(0, Math.min(255, Math.round(rgb.g + step))),\r\n            b: Math.max(0, Math.min(255, Math.round(rgb.b + step))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Returns brightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nexport function getBrightnessStep(_value, percent) {\r\n    var base = 255; //percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns `true` if color is \"light\". Useful indetermining which contrasting\r\n * color to use for elements over this color. E.g.: you would want to use\r\n * black text over light background, and vice versa.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color  Source color\r\n * @return Light?\r\n */\r\nexport function isLight(color) {\r\n    return ((color.r * 299) + (color.g * 587) + (color.b * 114)) / 1000 >= 128;\r\n}\r\n/**\r\n * Returns a new [[iRGB]] object based on `rgb` parameter with specific\r\n * saturation applied.\r\n *\r\n * `saturation` can be in the range of 0 (fully desaturated) to 1 (fully\r\n * saturated).\r\n *\r\n * @ignore Exclude from docs\r\n * @param color       Base color\r\n * @param saturation  Saturation (0-1)\r\n * @return New color\r\n */\r\nexport function saturate(rgb, saturation) {\r\n    if (rgb === undefined || saturation == 1) {\r\n        return rgb;\r\n    }\r\n    var hsl = rgbToHsl(rgb);\r\n    hsl.s = saturation;\r\n    return hslToRgb(hsl);\r\n}\r\nexport function alternativeColor(color, lightAlternative, darkAlternative) {\r\n    if (lightAlternative === void 0) { lightAlternative = { r: 255, g: 255, b: 255 }; }\r\n    if (darkAlternative === void 0) { darkAlternative = { r: 255, g: 255, b: 255 }; }\r\n    var light = lightAlternative;\r\n    var dark = darkAlternative;\r\n    if (isLight(darkAlternative)) {\r\n        light = darkAlternative;\r\n        dark = lightAlternative;\r\n    }\r\n    return isLight(color) ? dark : light;\r\n}\r\n/**\r\n * @ignore\r\n * @deprecated\r\n */\r\n// export function unshiftThemeClass(settings: any, themeClass: string) {\r\n// \tlet themeClasses = settings.themeClasses;\r\n// \tif (!themeClasses) {\r\n// \t\tthemeClasses = [];\r\n// \t}\r\n// \tthemeClasses.unshift(themeClass);\r\n// \tsettings.themeClasses = themeClasses;\r\n// }\r\n/**\r\n * @ignore\r\n * @deprecated\r\n */\r\n// export function pushThemeClass(settings: any, themeClass: string) {\r\n// \tlet themeClasses = settings.themeClasses;\r\n// \tif (!themeClasses) {\r\n// \t\tthemeClasses = [];\r\n// \t}\r\n// \tthemeClasses.push(themeClass);\r\n// \tsettings.themeClasses = themeClasses;\r\n// }\r\n/**\r\n * @ignore\r\n */\r\nexport function mergeTags(tags1, tags2) {\r\n    if (!tags1) {\r\n        tags1 = [];\r\n    }\r\n    return __spreadArray(__spreadArray([], __read(tags1), false), __read(tags2), false).filter(function (value, index, self) {\r\n        return self.indexOf(value) === index;\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function sameBounds(a, b) {\r\n    if (!b) {\r\n        return false;\r\n    }\r\n    if (a.left != b.left) {\r\n        return false;\r\n    }\r\n    if (a.right != b.right) {\r\n        return false;\r\n    }\r\n    if (a.top != b.top) {\r\n        return false;\r\n    }\r\n    if (a.bottom != b.bottom) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n//# sourceMappingURL=Utils.js.map","import * as $array from \"./Array\";\r\nexport function keys(object) {\r\n    return Object.keys(object);\r\n}\r\n/**\r\n * Returns an array of object's property names ordered using specific ordering\r\n * function.\r\n *\r\n * @param object  Source object\r\n * @param order   Ordering function\r\n * @returns Object property names\r\n */\r\nexport function keysOrdered(object, order) {\r\n    return keys(object).sort(order);\r\n}\r\nexport function copy(object) {\r\n    return Object.assign({}, object);\r\n}\r\nexport function each(object, f) {\r\n    keys(object).forEach(function (key) {\r\n        f(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * If return value of the function evaluates to `false` further iteration is\r\n * cancelled.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\r\nexport function eachContinue(object, fn) {\r\n    for (var key in object) {\r\n        if (hasKey(object, key)) {\r\n            if (!fn(key, object[key])) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Orders object properties using custom `ord` function and iterates through\r\n * them calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n * @param order   Ordering function\r\n */\r\nexport function eachOrdered(object, fn, ord) {\r\n    $array.each(keysOrdered(object, ord), function (key) {\r\n        fn(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Checks if `object` has a specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Has key?\r\n */\r\nexport function hasKey(object, key) {\r\n    return {}.hasOwnProperty.call(object, key);\r\n}\r\n/**\r\n * Copies all properties of one object to the other, omitting undefined, but only if property in target object doesn't have a value set.\r\n *\r\n * @param fromObject  Source object\r\n * @param toObject    Target object\r\n * @return Updated target object\r\n * @todo Maybe consolidate with utils.copy?\r\n */\r\nexport function softCopyProperties(source, target) {\r\n    each(source, function (key, value) {\r\n        // only if value is set\r\n        //if ($type.hasValue(value) && !($type.hasValue((<any>target)[key]))) {\r\n        if (value != null && target[key] == null) {\r\n            target[key] = value;\r\n        }\r\n    });\r\n    return target;\r\n}\r\n//# sourceMappingURL=Object.js.map","import { range } from \"./Animation\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * @ignore\r\n */\r\nfunction string2hex(string) {\r\n    //string = cssColorNames[string.toLowerCase()] || string;\r\n    if (string[0] === \"#\") {\r\n        string = string.substr(1);\r\n    }\r\n    if (string.length == 3) {\r\n        string = string[0].repeat(2) + string[1].repeat(2) + string[2].repeat(2);\r\n    }\r\n    return parseInt(string, 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function rgba2hex(color) {\r\n    color = color.replace(/[ ]/g, \"\");\r\n    // Init\r\n    var matches = color.match(/^rgb\\(([0-9]*),([0-9]*),([0-9]*)\\)/i);\r\n    // Try rgb() format\r\n    if (matches) {\r\n        matches.push(\"1\");\r\n    }\r\n    else {\r\n        matches = color.match(/^rgba\\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\\)/i);\r\n        if (!matches) {\r\n            return 0x000000;\r\n        }\r\n    }\r\n    var hex = \"\";\r\n    for (var i = 1; i <= 3; i++) {\r\n        var val = parseInt(matches[i]).toString(16);\r\n        if (val.length == 1) {\r\n            val = \"0\" + val;\r\n        }\r\n        hex += val;\r\n    }\r\n    return string2hex(hex);\r\n}\r\n/**\r\n * Returns a new [[Color]] object base on input.\r\n *\r\n * Accepts parameters in CSS hex or rgb/rtba strings, or hex numbers.\r\n *\r\n * * `\"#f00\"`\r\n * * `\"#ff0000\"`\r\n * * `\"rgb(255, 0, 0)\"`\r\n * * `\"rgba(255, 0, 0, 1)\"`\r\n * * `0xff0000`\r\n *\r\n * @param   input  Input color\r\n * @return         Color\r\n */\r\nexport function color(input) {\r\n    return Color.fromAny(input);\r\n}\r\n/**\r\n * Wherever color needs to be specified in amCharts 5, `Color` object needs to\r\n * be used.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/} for more info\r\n * @important\r\n */\r\nvar Color = /** @class */ (function () {\r\n    function Color(hex) {\r\n        Object.defineProperty(this, \"_hex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._hex = hex | 0;\r\n    }\r\n    Object.defineProperty(Color.prototype, \"hex\", {\r\n        /**\r\n         * Color numeric value.\r\n         */\r\n        get: function () {\r\n            return this._hex;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"r\", {\r\n        /**\r\n         * Value of color's R channel.\r\n         * @return R value\r\n         */\r\n        get: function () {\r\n            return this._hex >>> 16;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"g\", {\r\n        /**\r\n         * Value of color's G channel.\r\n         * @return G value\r\n         */\r\n        get: function () {\r\n            return (this._hex >> 8) & 0xFF;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"b\", {\r\n        /**\r\n         * Value of color's B channel.\r\n         * @return B value\r\n         */\r\n        get: function () {\r\n            return this._hex & 0xFF;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns color CSS representation in form of `rgba(r, g, b, a)` string.\r\n     *\r\n     * @param   alpha  Opacity\r\n     * @return         CSS string\r\n     */\r\n    Object.defineProperty(Color.prototype, \"toCSS\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (alpha) {\r\n            if (alpha === void 0) { alpha = 1; }\r\n            return \"rgba(\" + this.r + \", \" + this.g + \", \" + this.b + \", \" + alpha + \")\";\r\n        }\r\n    });\r\n    /**\r\n     * Returns color CSS representation in form of `#rgb` string.\r\n     *\r\n     * @return         CSS string\r\n     */\r\n    Object.defineProperty(Color.prototype, \"toCSSHex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return \"#\" + $utils.padString(this.r.toString(16), 2) + $utils.padString(this.g.toString(16), 2) + $utils.padString(this.b.toString(16), 2);\r\n        }\r\n    });\r\n    /**\r\n     * Returns color's HSL info.\r\n     * @param   alpha Opacity\r\n     * @return        HSL info\r\n     */\r\n    Object.defineProperty(Color.prototype, \"toHSL\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (alpha) {\r\n            if (alpha === void 0) { alpha = 1; }\r\n            return $utils.rgbToHsl({\r\n                r: this.r,\r\n                g: this.g,\r\n                b: this.b,\r\n                a: alpha\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Converts HSL values into a new [[Color]] object.\r\n     *\r\n     * @param   h H value\r\n     * @param   s S value\r\n     * @param   l L value\r\n     * @return    Color object\r\n     */\r\n    Object.defineProperty(Color, \"fromHSL\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (h, s, l) {\r\n            var rgb = $utils.hslToRgb({\r\n                h: h,\r\n                s: s,\r\n                l: l\r\n            });\r\n            return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n        }\r\n    });\r\n    Object.defineProperty(Color.prototype, \"toString\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.toCSSHex();\r\n        }\r\n    });\r\n    /**\r\n     * Converts hex number into a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     *\r\n     * @param   hex  Hex color\r\n     * @return       Color\r\n     */\r\n    Object.defineProperty(Color, \"fromHex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (hex) {\r\n            return new Color(hex);\r\n        }\r\n    });\r\n    /**\r\n     * Converts RGB values to a new [[Color]] object.\r\n     *\r\n     * @param   r  R value\r\n     * @param   g  G value\r\n     * @param   b  B value\r\n     * @return     Color\r\n     */\r\n    Object.defineProperty(Color, \"fromRGB\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (r, g, b) {\r\n            return new Color((b | 0) + (g << 8) + (r << 16));\r\n        }\r\n    });\r\n    /**\r\n     * Converts RGB string to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     *\r\n     * @param   s  RGB string\r\n     * @return     Color\r\n     */\r\n    Object.defineProperty(Color, \"fromString\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (s) {\r\n            return new Color(string2hex(s));\r\n        }\r\n    });\r\n    /**\r\n     * Converts CSS rgba() syntax to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     *\r\n     * @param  {string} s [description]\r\n     * @return {Color}    [description]\r\n     */\r\n    Object.defineProperty(Color, \"fromCSS\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (s) {\r\n            return new Color(rgba2hex(s));\r\n        }\r\n    });\r\n    /**\r\n     * Convert to color from virtually anything.\r\n     *\r\n     * Will throw an exception if unable to resolve the color.\r\n     *\r\n     * @param   s  Source\r\n     * @return     Color\r\n     */\r\n    Object.defineProperty(Color, \"fromAny\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (s) {\r\n            if ($type.isString(s)) {\r\n                if (s[0] == \"#\") {\r\n                    return Color.fromString(s);\r\n                }\r\n                else if (s.substr(0, 3) == \"rgb\") {\r\n                    return Color.fromCSS(s);\r\n                }\r\n            }\r\n            else if ($type.isNumber(s)) {\r\n                return Color.fromHex(s);\r\n            }\r\n            else if (s instanceof Color) {\r\n                return Color.fromHex(s.hex);\r\n            }\r\n            throw new Error(\"Unknown color syntax: \" + s);\r\n        }\r\n    });\r\n    /**\r\n     * Returns a new [[Color]] object based on either `lightAlternative` or\r\n     * `darkAlternative` depending on which one is more contrasting with\r\n     * the `color`.\r\n     *\r\n     * @param   color             Reference color\r\n     * @param   lightAlternative  Light color\r\n     * @param   darkAlternative   Dark color\r\n     * @return                    Alternative color\r\n     */\r\n    Object.defineProperty(Color, \"alternative\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (color, lightAlternative, darkAlternative) {\r\n            var rgb = $utils.alternativeColor({ r: color.r, g: color.g, b: color.b }, lightAlternative ? { r: lightAlternative.r, g: lightAlternative.g, b: lightAlternative.b } : undefined, darkAlternative ? { r: darkAlternative.r, g: darkAlternative.g, b: darkAlternative.b } : undefined);\r\n            return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n        }\r\n    });\r\n    /**\r\n     * Returns an intermediate Color between two reference colors depending on\r\n     * the progress (`diff`) between the two.\r\n     *\r\n     * @param   diff  Progress\r\n     * @param   from  Source color\r\n     * @param   to    Target color\r\n     * @param   mode  Interpolation mode\r\n     * @return        Color\r\n     */\r\n    Object.defineProperty(Color, \"interpolate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (diff, from, to, mode) {\r\n            if (mode === void 0) { mode = \"rgb\"; }\r\n            if (mode == \"hsl\") {\r\n                var fromHSL = from.toHSL();\r\n                var toHSL = to.toHSL();\r\n                return Color.fromHSL(range(diff, fromHSL.h, toHSL.h), range(diff, fromHSL.s, toHSL.s), range(diff, fromHSL.l, toHSL.l));\r\n            }\r\n            else {\r\n                return Color.fromRGB(range(diff, from.r, to.r), range(diff, from.g, to.g), range(diff, from.b, to.b));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns a new [[Color]] lightened by `percent` value.\r\n     *\r\n     * Use negative value to darken the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    Object.defineProperty(Color, \"lighten\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (color, percent) {\r\n            var rgb = $utils.lighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n            return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n        }\r\n    });\r\n    /**\r\n     * Returns a new [[Color]] brightened by `percent` value.\r\n     *\r\n     * Use negative value to dim the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    Object.defineProperty(Color, \"brighten\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (color, percent) {\r\n            var rgb = $utils.brighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n            return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n        }\r\n    });\r\n    /**\r\n     * Returns a new [[Color]] saturated by `percent` value.\r\n     *\r\n     * Value range is between `0` (fully desaturated), to `1` (full color).\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    Object.defineProperty(Color, \"saturate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (color, percent) {\r\n            var rgb = $utils.saturate({ r: color.r, g: color.g, b: color.b }, percent);\r\n            return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n        }\r\n    });\r\n    return Color;\r\n}());\r\nexport { Color };\r\n//# sourceMappingURL=Color.js.map","import { __awaiter, __generator } from \"tslib\";\r\nimport { Percent } from \"./Percent\";\r\nimport { Color } from \"./Color\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $object from \"./Object\";\r\n/**\r\n * @ignore\r\n */\r\nexport function waitForAnimations(animations) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var promises_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!(animations !== undefined)) return [3 /*break*/, 2];\r\n                    promises_1 = [];\r\n                    $object.each(animations, function (_, animation) {\r\n                        promises_1.push(animation.waitForStop());\r\n                    });\r\n                    return [4 /*yield*/, Promise.all(promises_1)];\r\n                case 1:\r\n                    _a.sent();\r\n                    _a.label = 2;\r\n                case 2: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function normalize(value, min, max) {\r\n    if (min === max) {\r\n        return 0;\r\n    }\r\n    else {\r\n        return Math.min(Math.max((value - min) * (1 / (max - min)), 0), 1);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function range(diff, from, to) {\r\n    return from + (diff * (to - from));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function defaultInterpolate(diff, from, to) {\r\n    if (diff >= 1) {\r\n        return to;\r\n    }\r\n    else {\r\n        return from;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function percentInterpolate(diff, from, to) {\r\n    return new Percent(range(diff, from.percent, to.percent));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function colorInterpolate(diff, from, to) {\r\n    return Color.interpolate(diff, from, to);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getInterpolate(from, to) {\r\n    if (typeof from === \"number\" && typeof to === \"number\") {\r\n        return range;\r\n    }\r\n    if (from instanceof Percent && to instanceof Percent) {\r\n        return percentInterpolate;\r\n    }\r\n    if (from instanceof Color && to instanceof Color) {\r\n        return colorInterpolate;\r\n    }\r\n    return defaultInterpolate;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nvar AnimationTime = /** @class */ (function () {\r\n    function AnimationTime(entity, duration) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_playingDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_startingTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_current\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n        this._duration = duration;\r\n    }\r\n    Object.defineProperty(AnimationTime.prototype, \"_stopEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var type = \"stopped\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"_runAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            if (this._playingDuration !== null) {\r\n                if (this._startingTime === null) {\r\n                    this._startingTime = currentTime;\r\n                    return true;\r\n                }\r\n                else {\r\n                    var diff = (currentTime - this._startingTime) / this._playingDuration;\r\n                    if (diff >= 1) {\r\n                        this._playingDuration = null;\r\n                        this._startingTime = null;\r\n                        this._from = this._to;\r\n                        this._current = this._to;\r\n                        this._entity.markDirty();\r\n                        this._stopEvent();\r\n                        var type = \"ended\";\r\n                        if (this.events.isEnabled(type)) {\r\n                            this.events.dispatch(type, { type: type, target: this });\r\n                        }\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        this._current = range(diff, this._from, this._to);\r\n                        this._entity.markDirty();\r\n                        var type = \"progress\";\r\n                        if (this.events.isEnabled(type)) {\r\n                            this.events.dispatch(type, { type: type, target: this, progress: diff });\r\n                        }\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"_play\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._from = this._current;\r\n            if (this._playingDuration === null) {\r\n                this._entity._root._addAnimation(this);\r\n                var type = \"started\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, { type: type, target: this });\r\n                }\r\n            }\r\n            else {\r\n                this._startingTime = null;\r\n            }\r\n            this._playingDuration = Math.abs(this._to - this._from) * this._duration;\r\n        }\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"duration\", {\r\n        get: function () {\r\n            return this._duration;\r\n        },\r\n        set: function (value) {\r\n            if (this._duration !== value) {\r\n                this._duration = value;\r\n                if (value === 0) {\r\n                    this.jumpTo(this._to);\r\n                }\r\n                else if (this._current !== this._to) {\r\n                    this._play();\r\n                }\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"current\", {\r\n        get: function () {\r\n            if (this.easing) {\r\n                return this.easing(this._current);\r\n            }\r\n            else {\r\n                return this._current;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"stop\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.jumpTo(this._current);\r\n        }\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"jumpTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            if (this._current !== value) {\r\n                this._entity.markDirty();\r\n            }\r\n            if (this._playingDuration !== null) {\r\n                this._stopEvent();\r\n            }\r\n            this._playingDuration = null;\r\n            this._startingTime = null;\r\n            this._current = value;\r\n            this._from = value;\r\n            this._to = value;\r\n        }\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"tweenTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            if (this._current === value || this._duration === 0) {\r\n                this.jumpTo(value);\r\n            }\r\n            else {\r\n                if (this._to !== value) {\r\n                    this._to = value;\r\n                    this._play();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    return AnimationTime;\r\n}());\r\nexport { AnimationTime };\r\n/*export class AnimationValue extends AnimationTime {\r\n    public _min: number;\r\n    public _max: number;\r\n\r\n    constructor(entity: Entity, duration: number, min: number, max: number) {\r\n        super(entity, duration);\r\n        this._min = min;\r\n        this._max = max;\r\n    }\r\n\r\n    public get min(): number {\r\n        return this._min;\r\n    }\r\n\r\n    public set min(value: number) {\r\n        if (this._min !== value) {\r\n            this._min = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public get max(): number {\r\n        return this._max;\r\n    }\r\n\r\n    public set max(value: number) {\r\n        if (this._max !== value) {\r\n            this._max = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public currentValue(): number {\r\n        return range(super.currentTime(), this._min, this._max);\r\n    }\r\n\r\n    public jumpToValue(value: number) {\r\n        super.jumpToTime(normalize(value, this._min, this._max));\r\n    }\r\n\r\n    public tweenToValue(value: number) {\r\n        super.tweenToTime(normalize(value, this._min, this._max));\r\n    }\r\n}\r\n*/\r\n//# sourceMappingURL=Animation.js.map","import { isNumber } from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nexport var PI = Math.PI;\r\nexport var HALFPI = PI / 2;\r\nexport var RADIANS = PI / 180;\r\nexport var DEGREES = 180 / PI;\r\n/**\r\n * Rounds the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @param floor  In case value ends with 0.5 and precision is 0, we might need to floor the value instead of ceiling it.\r\n * @return Rounded value\r\n */\r\nexport function round(value, precision, floor) {\r\n    if (!isNumber(precision) || precision <= 0) {\r\n        var rounded = Math.round(value);\r\n        if (floor) {\r\n            if (rounded - value == 0.5) {\r\n                rounded--;\r\n            }\r\n        }\r\n        return rounded;\r\n    }\r\n    else {\r\n        var d = Math.pow(10, precision);\r\n        return Math.round(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * Ceils the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @return Rounded value\r\n */\r\nexport function ceil(value, precision) {\r\n    if (!isNumber(precision) || precision <= 0) {\r\n        return Math.ceil(value);\r\n    }\r\n    else {\r\n        var d = Math.pow(10, precision);\r\n        return Math.ceil(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * [getCubicControlPointA description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nexport function getCubicControlPointA(p0, p1, p2, tensionX, tensionY) {\r\n    return { x: ((-p0.x + p1.x / tensionX + p2.x) * tensionX), y: ((-p0.y + p1.y / tensionY + p2.y) * tensionY) };\r\n}\r\n/**\r\n * [getCubicControlPointB description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nexport function getCubicControlPointB(p1, p2, p3, tensionX, tensionY) {\r\n    return { x: ((p1.x + p2.x / tensionX - p3.x) * tensionX), y: ((p1.y + p2.y / tensionY - p3.y) * tensionY) };\r\n}\r\nexport function fitToRange(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\n/**\r\n * Returns sine of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nexport function sin(angle) {\r\n    return Math.sin(RADIANS * angle);\r\n}\r\n/**\r\n * Returns tan of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nexport function tan(angle) {\r\n    return Math.tan(RADIANS * angle);\r\n}\r\n/**\r\n * Returns cosine of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Cosine\r\n */\r\nexport function cos(angle) {\r\n    return Math.cos(RADIANS * angle);\r\n}\r\n// 0 to 360\r\nexport function normalizeAngle(value) {\r\n    value = value % 360;\r\n    if (value < 0) {\r\n        value += 360;\r\n    }\r\n    return value;\r\n}\r\n// TODO this doesn't work properly for skewing, and it's probably broken for rotation too\r\nexport function getArcBounds(cx, cy, startAngle, endAngle, radius) {\r\n    var minX = Number.MAX_VALUE;\r\n    var minY = Number.MAX_VALUE;\r\n    var maxX = -Number.MAX_VALUE;\r\n    var maxY = -Number.MAX_VALUE;\r\n    var bpoints = [];\r\n    bpoints.push(getArcPoint(radius, startAngle));\r\n    bpoints.push(getArcPoint(radius, endAngle));\r\n    var fromAngle = Math.min(Math.floor(startAngle / 90) * 90, Math.floor(endAngle / 90) * 90);\r\n    var toAngle = Math.max(Math.ceil(startAngle / 90) * 90, Math.ceil(endAngle / 90) * 90);\r\n    for (var angle = fromAngle; angle <= toAngle; angle += 90) {\r\n        if (angle >= startAngle && angle <= endAngle) {\r\n            bpoints.push(getArcPoint(radius, angle));\r\n        }\r\n    }\r\n    for (var i = 0; i < bpoints.length; i++) {\r\n        var pt = bpoints[i];\r\n        if (pt.x < minX) {\r\n            minX = pt.x;\r\n        }\r\n        if (pt.y < minY) {\r\n            minY = pt.y;\r\n        }\r\n        if (pt.x > maxX) {\r\n            maxX = pt.x;\r\n        }\r\n        if (pt.y > maxY) {\r\n            maxY = pt.y;\r\n        }\r\n    }\r\n    return ({ left: cx + minX, top: cy + minY, right: cx + maxX, bottom: cy + maxY });\r\n}\r\n/**\r\n * Returns point on arc\r\n *\r\n * @param center point\r\n * @param radius\r\n * @param arc\r\n * @return {boolean}\r\n */\r\nexport function getArcPoint(radius, arc) {\r\n    return ({ x: radius * cos(arc), y: radius * sin(arc) });\r\n}\r\nexport function mergeBounds(bounds) {\r\n    var len = bounds.length;\r\n    if (len > 0) {\r\n        var bound = bounds[0];\r\n        var left = bound.left;\r\n        var top_1 = bound.top;\r\n        var right = bound.right;\r\n        var bottom = bound.bottom;\r\n        if (len > 1) {\r\n            for (var i = 1; i < len; i++) {\r\n                bound = bounds[i];\r\n                left = Math.min(bound.left, left);\r\n                right = Math.max(bound.right, right);\r\n                top_1 = Math.min(bound.top, top_1);\r\n                bottom = Math.max(bound.bottom, bottom);\r\n            }\r\n        }\r\n        return { left: left, right: right, top: top_1, bottom: bottom };\r\n    }\r\n    return { left: 0, right: 0, top: 0, bottom: 0 };\r\n}\r\nexport function fitAngleToRange(value, startAngle, endAngle) {\r\n    if (startAngle > endAngle) {\r\n        var temp = startAngle;\r\n        startAngle = endAngle;\r\n        endAngle = temp;\r\n    }\r\n    value = normalizeAngle(value);\r\n    var count = (startAngle - normalizeAngle(startAngle)) / 360;\r\n    if (value < startAngle) {\r\n        value += 360 * (count + 1);\r\n    }\r\n    var maxEnd = startAngle + (endAngle - startAngle) / 2 + 180;\r\n    var maxStart = startAngle + (endAngle - startAngle) / 2 - 180;\r\n    if (value > endAngle) {\r\n        if (value - 360 > startAngle) {\r\n            value -= 360;\r\n        }\r\n        else {\r\n            if (value < maxEnd) {\r\n                value = endAngle;\r\n            }\r\n            else {\r\n                value = startAngle;\r\n            }\r\n        }\r\n    }\r\n    if (value < startAngle) {\r\n        if (value > maxStart) {\r\n            value = startAngle;\r\n        }\r\n        else {\r\n            value = endAngle;\r\n        }\r\n    }\r\n    return value;\r\n}\r\nexport function inBounds(point, bounds) {\r\n    if (point.x >= bounds.left && point.y >= bounds.top && point.x <= bounds.right && point.y <= bounds.bottom) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexport function getAngle(point1, point2) {\r\n    if (!point2) {\r\n        point2 = { x: point1.x * 2, y: point1.y * 2 };\r\n    }\r\n    var diffX = point2.x - point1.x;\r\n    var diffY = point2.y - point1.y;\r\n    var angle = Math.atan2(diffY, diffX) * DEGREES;\r\n    if (angle < 0) {\r\n        angle += 360;\r\n    }\r\n    return normalizeAngle(angle);\r\n}\r\n/**\r\n * [getPointOnQuadraticCurve description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param pointA        [description]\r\n * @param pointB        [description]\r\n * @param controlPoint  [description]\r\n * @param position      [description]\r\n * @return [description]\r\n */\r\nexport function getPointOnQuadraticCurve(pointA, pointB, controlPoint, position) {\r\n    var x = (1 - position) * (1 - position) * pointA.x + 2 * (1 - position) * position * controlPoint.x + position * position * pointB.x;\r\n    var y = (1 - position) * (1 - position) * pointA.y + 2 * (1 - position) * position * controlPoint.y + position * position * pointB.y;\r\n    return { x: x, y: y };\r\n}\r\nexport function getPointOnLine(pointA, pointB, position) {\r\n    return { x: pointA.x + (pointB.x - pointA.x) * position, y: pointA.y + (pointB.y - pointA.y) * position };\r\n}\r\n/**\r\n * Returns the closest value from the array of values to the reference value.\r\n *\r\n * @param values  Array of values\r\n * @param value   Reference value\r\n * @return Closes value from the array\r\n */\r\nexport function closest(values, referenceValue) {\r\n    return values.reduce(function (prev, curr) {\r\n        return (Math.abs(curr - referenceValue) < Math.abs(prev - referenceValue) ? curr : prev);\r\n    });\r\n}\r\nexport function boundsOverlap(bounds1, bounds2) {\r\n    return !(bounds1.bottom < bounds2.top || bounds2.bottom < bounds1.top || bounds1.right < bounds2.left || bounds2.right < bounds1.left);\r\n}\r\n//# sourceMappingURL=Math.js.map","/**\r\n * A collection of easing functions\r\n *\r\n * Parts of this collection are taken from D3.js library (https://d3js.org/)\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $math from \"./Math\";\r\n/**\r\n * The functions below are from D3.js library (https://d3js.org/)\r\n *\r\n * ----------------------------------------------------------------------------\r\n * Copyright 2017 Mike Bostock\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *\tthis list of conditions and the following disclaimer.\r\n *\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *\tthis list of conditions and the following disclaimer in the documentation\r\n *\tand/or other materials provided with the distribution.\r\n *\r\n * 3. Neither the name of the copyright holder nor the names of its\r\n *\tcontributors may be used to endorse or promote products derived from this\r\n *\tsoftware without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n * ----------------------------------------------------------------------------\r\n * @hidden\r\n */\r\n/**\r\n */\r\nexport function linear(t) {\r\n    return t;\r\n}\r\nexport function quad(t) {\r\n    return t * t;\r\n}\r\nexport function cubic(t) {\r\n    return t * t * t;\r\n}\r\nexport function pow(t, e) {\r\n    return Math.pow(t, e);\r\n}\r\nexport function exp(t) {\r\n    return Math.pow(2, 10 * t - 10);\r\n}\r\nexport function sine(t) {\r\n    return 1 - Math.cos(t * $math.HALFPI);\r\n}\r\nexport function circle(t) {\r\n    return 1 - Math.sqrt(1 - t * t);\r\n}\r\n/**\r\n * ============================================================================\r\n * TRANSFORMERS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n */\r\nexport function yoyo(ease) {\r\n    return function (t) {\r\n        if (t < 0.5) {\r\n            return ease(t * 2.0);\r\n        }\r\n        else {\r\n            return ease((1.0 - t) * 2.0);\r\n        }\r\n    };\r\n}\r\nexport function out(ease) {\r\n    return function (t) {\r\n        return 1.0 - ease(1.0 - t);\r\n    };\r\n}\r\nexport function inOut(ease) {\r\n    return function (t) {\r\n        if (t <= 0.5) {\r\n            return ease(t * 2.0) / 2.0;\r\n        }\r\n        else {\r\n            return 1.0 - (ease((1.0 - t) * 2.0) / 2.0);\r\n        }\r\n    };\r\n}\r\n/**\r\n * ============================================================================\r\n * BOUNCE\r\n * ============================================================================\r\n * @hidden\r\n */\r\nvar b1 = 4 / 11, b2 = 6 / 11, b3 = 8 / 11, b4 = 3 / 4, b5 = 9 / 11, b6 = 10 / 11, b7 = 15 / 16, b8 = 21 / 22, b9 = 63 / 64, b0 = 1 / b1 / b1;\r\nexport function bounce(t) {\r\n    return 1 - bounceOut(1 - t);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction bounceOut(t) {\r\n    t = t;\r\n    if (t < b1) {\r\n        return b0 * t * t;\r\n    }\r\n    else if (t < b3) {\r\n        return b0 * (t -= b2) * t + b4;\r\n    }\r\n    else if (t < b6) {\r\n        return b0 * (t -= b5) * t + b7;\r\n    }\r\n    else {\r\n        return b0 * (t -= b8) * t + b9;\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * ELASTIC\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar tau = 2 * Math.PI;\r\n/**\r\n * @ignore\r\n */\r\nvar amplitude = 1;\r\n/**\r\n * @ignore\r\n */\r\nvar period = 0.3 / tau;\r\n/**\r\n * @ignore\r\n */\r\nvar s = Math.asin(1 / amplitude) * period;\r\nexport function elastic(t) {\r\n    var v = t;\r\n    return amplitude * Math.pow(2, 10 * --v) * Math.sin((s - v) / period);\r\n}\r\n//# sourceMappingURL=Ease.js.map","import * as $object from \"./Object\";\r\nimport * as $ease from \"./Ease\";\r\n/**\r\n * An object representing a collection of setting values to apply as required.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/states/} for more info\r\n */\r\nvar State = /** @class */ (function () {\r\n    function State(entity, settings) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_userSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._entity = entity;\r\n        this._settings = settings;\r\n    }\r\n    Object.defineProperty(State.prototype, \"get\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this._settings[key];\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(State.prototype, \"setRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._settings[key] = value;\r\n        }\r\n    });\r\n    /**\r\n     * Sets a setting `value` for the specified `key` to be set when the state\r\n     * is applied.\r\n     *\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    Object.defineProperty(State.prototype, \"set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._userSettings[key] = true;\r\n            this.setRaw(key, value);\r\n        }\r\n    });\r\n    /**\r\n     * Removes a setting value for the specified `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    Object.defineProperty(State.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            delete this._userSettings[key];\r\n            delete this._settings[key];\r\n        }\r\n    });\r\n    /**\r\n     * Sets multiple settings at once.\r\n     *\r\n     * `settings` must be an object with key: value pairs.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param settings Settings\r\n     */\r\n    Object.defineProperty(State.prototype, \"setAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (settings) {\r\n            var _this = this;\r\n            $object.keys(settings).forEach(function (key) {\r\n                _this.set(key, settings[key]);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(State.prototype, \"_eachSetting\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            $object.each(this._settings, f);\r\n        }\r\n    });\r\n    /**\r\n     * Applies the state to the target element.\r\n     *\r\n     * All setting values are set immediately.\r\n     */\r\n    Object.defineProperty(State.prototype, \"apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var seen = {};\r\n            seen[\"stateAnimationEasing\"] = true;\r\n            seen[\"stateAnimationDuration\"] = true;\r\n            var defaultState = this._entity.states.lookup(\"default\");\r\n            this._eachSetting(function (key, value) {\r\n                if (!seen[key]) {\r\n                    seen[key] = true;\r\n                    // save values to default state\r\n                    if (_this !== defaultState) {\r\n                        if (!(key in defaultState._settings)) {\r\n                            defaultState._settings[key] = _this._entity.get(key);\r\n                        }\r\n                    }\r\n                    _this._entity.set(key, value);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Applies the state to the target element.\r\n     *\r\n     * Returns an object representing all [[Animation]] objects created for\r\n     * each setting key transition.\r\n     *\r\n     * @return           Animations\r\n     */\r\n    Object.defineProperty(State.prototype, \"applyAnimate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            var _this = this;\r\n            if (duration == null) {\r\n                duration = this._settings.stateAnimationDuration;\r\n            }\r\n            if (duration == null) {\r\n                duration = this.get(\"stateAnimationDuration\", this._entity.get(\"stateAnimationDuration\", 0));\r\n            }\r\n            var easing = this._settings.stateAnimationEasing;\r\n            if (easing == null) {\r\n                easing = this.get(\"stateAnimationEasing\", this._entity.get(\"stateAnimationEasing\", $ease.cubic));\r\n            }\r\n            var defaultState = this._entity.states.lookup(\"default\");\r\n            var seen = {};\r\n            seen[\"stateAnimationEasing\"] = true;\r\n            seen[\"stateAnimationDuration\"] = true;\r\n            var animations = {};\r\n            this._eachSetting(function (key, value) {\r\n                if (!seen[key]) {\r\n                    seen[key] = true;\r\n                    // save values to default state\r\n                    if (_this != defaultState) {\r\n                        if (!(key in defaultState._settings)) {\r\n                            defaultState._settings[key] = _this._entity.get(key);\r\n                        }\r\n                    }\r\n                    var animation = _this._entity.animate({\r\n                        key: key,\r\n                        to: value,\r\n                        duration: duration,\r\n                        easing: easing\r\n                    });\r\n                    if (animation) {\r\n                        animations[key] = animation;\r\n                    }\r\n                }\r\n            });\r\n            return animations;\r\n        }\r\n    });\r\n    return State;\r\n}());\r\nexport { State };\r\n/**\r\n * Collection of [[State]] objects for an element.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/states/} for more info\r\n */\r\nvar States = /** @class */ (function () {\r\n    function States(entity) {\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Checks if a state by `name` exists. Returns it there is one.\r\n     *\r\n     * @param  name  State name\r\n     * @return       State\r\n     */\r\n    Object.defineProperty(States.prototype, \"lookup\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            return this._states[name];\r\n        }\r\n    });\r\n    /**\r\n     * Sets supplied `settings` on a state by the `name`.\r\n     *\r\n     * If such state does not yet exists, it is created.\r\n     *\r\n     * @param   name      State name\r\n     * @param   settings  Settings\r\n     * @return            New State\r\n     */\r\n    Object.defineProperty(States.prototype, \"create\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name, settings) {\r\n            var state = this._states[name];\r\n            if (state) {\r\n                state.setAll(settings);\r\n                return state;\r\n            }\r\n            else {\r\n                var state_1 = new State(this._entity, settings);\r\n                this._states[name] = state_1;\r\n                return state_1;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Removes the state called `name`.\r\n     *\r\n     * @param   name      State name\r\n     */\r\n    Object.defineProperty(States.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            delete this._states[name];\r\n        }\r\n    });\r\n    /**\r\n     * Applies a named state to the target element.\r\n     *\r\n     * @param  newState  State name\r\n     */\r\n    Object.defineProperty(States.prototype, \"apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (newState) {\r\n            var state = this._states[newState];\r\n            if (state) {\r\n                state.apply();\r\n            }\r\n            this._entity._applyState(newState);\r\n        }\r\n    });\r\n    /**\r\n     * Applies a named state to the element.\r\n     *\r\n     * Returns an object representing all [[Animation]] objects created for\r\n     * each setting key transition.\r\n     *\r\n     * @param   newState  State name\r\n     * @return            Animations\r\n     */\r\n    Object.defineProperty(States.prototype, \"applyAnimate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (newState, duration) {\r\n            var animations;\r\n            var state = this._states[newState];\r\n            if (state) {\r\n                animations = state.applyAnimate(duration);\r\n            }\r\n            this._entity._applyStateAnimated(newState, duration);\r\n            return animations;\r\n        }\r\n    });\r\n    return States;\r\n}());\r\nexport { States };\r\n//# sourceMappingURL=States.js.map","/**\r\n * @ignore\r\n */\r\nvar Registry = /** @class */ (function () {\r\n    function Registry() {\r\n        /**\r\n         * List of applied licenses.\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"licenses\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * Entities that have their `id` setting set.\r\n         */\r\n        Object.defineProperty(this, \"entitiesById\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        /**\r\n         * All created [[Root]] elements.\r\n         */\r\n        Object.defineProperty(this, \"rootElements\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    return Registry;\r\n}());\r\nexport { Registry };\r\n/**\r\n    * @ignore\r\n */\r\nexport var registry = new Registry();\r\n/**\r\n * Adds a license, e.g.:\r\n *\r\n * ```TypeScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n * ```JavaScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n *\r\n * Multiple licenses can be added to cover for multiple products.\r\n *\r\n * @param  license  License key\r\n */\r\nexport function addLicense(license) {\r\n    registry.licenses.push(license);\r\n}\r\n/**\r\n * Disposes all [[Root]] elements.\r\n */\r\nexport function disposeAllRootElements() {\r\n    var root;\r\n    while (root = registry.rootElements.pop()) {\r\n        root.dispose();\r\n    }\r\n}\r\n//# sourceMappingURL=Registry.js.map","/**\r\n * @ignore\r\n */\r\nexport function compare(left, right) {\r\n    if (left === right) {\r\n        return 0;\r\n    }\r\n    else if (left < right) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function compareArray(left, right, f) {\r\n    var leftLength = left.length;\r\n    var rightLength = right.length;\r\n    var length = Math.min(leftLength, rightLength);\r\n    for (var i = 0; i < length; ++i) {\r\n        var order = f(left[i], right[i]);\r\n        if (order !== 0) {\r\n            return order;\r\n        }\r\n    }\r\n    return compare(leftLength, rightLength);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function reverse(order) {\r\n    if (order < 0) {\r\n        return 1;\r\n    }\r\n    else if (order > 0) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function compareNumber(a, b) {\r\n    if (a === b) {\r\n        return 0;\r\n    }\r\n    else if (a < b) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n//# sourceMappingURL=Order.js.map","import { __extends, __read, __spreadArray } from \"tslib\";\r\nimport { Disposer } from \"./Disposer\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport { getInterpolate } from \"./Animation\";\r\nimport { States } from \"./States\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $object from \"./Object\";\r\nimport * as $ease from \"./Ease\";\r\nimport * as $array from \"./Array\";\r\nimport * as $order from \"./Order\";\r\n/**\r\n * Allows to dynamically modify setting value of its target element.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/adapters/} for more info\r\n */\r\nvar Adapters = /** @class */ (function () {\r\n    function Adapters(entity) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Add a function (`callback`) that will modify value for setting `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/adapters/} for more info\r\n     */\r\n    Object.defineProperty(Adapters.prototype, \"add\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback) {\r\n            var _this = this;\r\n            var callbacks = this._callbacks[key];\r\n            if (callbacks === undefined) {\r\n                callbacks = this._callbacks[key] = [];\r\n            }\r\n            callbacks.push(callback);\r\n            this._entity._markDirtyKey(key);\r\n            return new Disposer(function () {\r\n                if ($array.removeFirst(callbacks, callback)) {\r\n                    _this._entity._markDirtyKey(key);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Removes all adapters for the specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    Object.defineProperty(Adapters.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var callbacks = this._callbacks[key];\r\n            if (callbacks !== undefined) {\r\n                delete this._callbacks[key];\r\n                if (callbacks.length !== 0) {\r\n                    this._entity._markDirtyKey(key);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Enables (previously disabled) adapters for specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    Object.defineProperty(Adapters.prototype, \"enable\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (this._disabled[key]) {\r\n                delete this._disabled[key];\r\n                this._entity._markDirtyKey(key);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Disables all adapters for specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    Object.defineProperty(Adapters.prototype, \"disable\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (!this._disabled[key]) {\r\n                this._disabled[key] = true;\r\n                this._entity._markDirtyKey(key);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Adapters.prototype, \"fold\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            if (!this._disabled[key]) {\r\n                var callbacks = this._callbacks[key];\r\n                if (callbacks !== undefined) {\r\n                    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n                        value = callbacks[i](value, this._entity, key);\r\n                    }\r\n                }\r\n            }\r\n            return value;\r\n        }\r\n    });\r\n    return Adapters;\r\n}());\r\nexport { Adapters };\r\n/**\r\n * Animation object.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/} for more info\r\n */\r\nvar Animation = /** @class */ (function () {\r\n    function Animation(animation, from, to, duration, easing, loops, startingTime) {\r\n        Object.defineProperty(this, \"_animation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_loops\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_interpolate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_oldTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_time\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_stopped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_playing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        this._animation = animation;\r\n        this._from = from;\r\n        this._to = to;\r\n        this._duration = duration;\r\n        this._easing = easing;\r\n        this._loops = loops;\r\n        this._interpolate = getInterpolate(from, to);\r\n        this._oldTime = startingTime;\r\n    }\r\n    Object.defineProperty(Animation.prototype, \"to\", {\r\n        get: function () {\r\n            return this._to;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"from\", {\r\n        get: function () {\r\n            return this._from;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"playing\", {\r\n        get: function () {\r\n            return this._playing;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"stopped\", {\r\n        get: function () {\r\n            return this._stopped;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"stop\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._stopped) {\r\n                this._stopped = true;\r\n                this._playing = false;\r\n                if (this.events.isEnabled(\"stopped\")) {\r\n                    this.events.dispatch(\"stopped\", {\r\n                        type: \"stopped\",\r\n                        target: this,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"pause\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._playing = false;\r\n            this._oldTime = null;\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"play\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._stopped && !this._playing) {\r\n                this._playing = true;\r\n                this._animation._startAnimation();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"percentage\", {\r\n        get: function () {\r\n            return this._time / this._duration;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"waitForStop\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, _reject) {\r\n                if (_this._stopped) {\r\n                    resolve();\r\n                }\r\n                else {\r\n                    var listener = function () {\r\n                        stopped_1.dispose();\r\n                        resolve();\r\n                    };\r\n                    var stopped_1 = _this.events.on(\"stopped\", listener);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"_checkEnded\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._loops > 1) {\r\n                --this._loops;\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"_run\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            if (this._oldTime !== null) {\r\n                this._time += currentTime - this._oldTime;\r\n                if (this._time > this._duration) {\r\n                    this._time = this._duration;\r\n                }\r\n            }\r\n            this._oldTime = currentTime;\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"_reset\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            this._oldTime = currentTime;\r\n            this._time = 0;\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"_value\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (diff) {\r\n            return this._interpolate(this._easing(diff), this._from, this._to);\r\n        }\r\n    });\r\n    return Animation;\r\n}());\r\nexport { Animation };\r\n/**\r\n * @ignore\r\n */\r\nvar counter = 0;\r\n/**\r\n * Base class for [[Entity]] objects that support Settings.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n */\r\nvar Settings = /** @class */ (function () {\r\n    function Settings(settings) {\r\n        /**\r\n         * Unique ID.\r\n         */\r\n        Object.defineProperty(this, \"uid\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: ++counter\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_prevSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_prevPrivateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingPrivateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // TODO move this into Entity\r\n        Object.defineProperty(this, \"_userProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._settings = settings;\r\n    }\r\n    Object.defineProperty(Settings.prototype, \"_checkDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $object.keys(this._settings).forEach(function (key) {\r\n                _this._userProperties[key] = true;\r\n                _this._markDirtyKey(key);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_runAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            var _this = this;\r\n            if (!this.isDisposed()) {\r\n                var playing_1 = false;\r\n                $object.each(this._animatingSettings, function (key, animation) {\r\n                    if (animation._stopped) {\r\n                        _this._stopAnimation(key);\r\n                    }\r\n                    else if (animation._playing) {\r\n                        animation._run(currentTime);\r\n                        var diff = animation.percentage;\r\n                        if (diff >= 1) {\r\n                            if (animation._checkEnded()) {\r\n                                _this.set(key, animation._value(1));\r\n                            }\r\n                            else {\r\n                                playing_1 = true;\r\n                                animation._reset(currentTime);\r\n                                _this._set(key, animation._value(1));\r\n                            }\r\n                        }\r\n                        else {\r\n                            playing_1 = true;\r\n                            _this._set(key, animation._value(diff));\r\n                        }\r\n                    }\r\n                });\r\n                $object.each(this._animatingPrivateSettings, function (key, animation) {\r\n                    if (animation._stopped) {\r\n                        _this._stopAnimationPrivate(key);\r\n                    }\r\n                    else if (animation._playing) {\r\n                        animation._run(currentTime);\r\n                        var diff = animation.percentage;\r\n                        if (diff >= 1) {\r\n                            if (animation._checkEnded()) {\r\n                                _this.setPrivate(key, animation._value(1));\r\n                            }\r\n                            else {\r\n                                playing_1 = true;\r\n                                animation._reset(currentTime);\r\n                                _this._setPrivate(key, animation._value(1));\r\n                            }\r\n                        }\r\n                        else {\r\n                            playing_1 = true;\r\n                            _this._setPrivate(key, animation._value(diff));\r\n                        }\r\n                    }\r\n                });\r\n                return playing_1;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_markDirtyKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_key) {\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_markDirtyPrivateKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_key) {\r\n            this.markDirty();\r\n        }\r\n    });\r\n    /**\r\n     * Sets a callback function to invoke when specific key of settings changes\r\n     * or is set.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @param   key       Settings key\r\n     * @param   callback  Callback\r\n     * @return            Disposer for event\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"on\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback) {\r\n            var _this = this;\r\n            var events = this._settingEvents[key];\r\n            if (events === undefined) {\r\n                events = this._settingEvents[key] = [];\r\n            }\r\n            events.push(callback);\r\n            return new Disposer(function () {\r\n                $array.removeFirst(events, callback);\r\n                if (events.length === 0) {\r\n                    delete _this._settingEvents[key];\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Sets a callback function to invoke when specific key of private settings\r\n     * changes or is set.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @ignore\r\n     * @param   key       Private settings key\r\n     * @param   callback  Callback\r\n     * @return            Disposer for event\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"onPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback) {\r\n            var _this = this;\r\n            var events = this._privateSettingEvents[key];\r\n            if (events === undefined) {\r\n                events = this._privateSettingEvents[key] = [];\r\n            }\r\n            events.push(callback);\r\n            return new Disposer(function () {\r\n                $array.removeFirst(events, callback);\r\n                if (events.length === 0) {\r\n                    delete _this._privateSettingEvents[key];\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"getRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this._settings[key];\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"get\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            return this.getRaw(key, fallback);\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_sendKeyEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var _this = this;\r\n            var events = this._settingEvents[key];\r\n            if (events !== undefined) {\r\n                $array.each(events, function (callback) {\r\n                    callback(value, _this, key);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_sendPrivateKeyEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var _this = this;\r\n            var events = this._privateSettingEvents[key];\r\n            if (events !== undefined) {\r\n                $array.each(events, function (callback) {\r\n                    callback(value, _this, key);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"_setRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, old, value) {\r\n            this._prevSettings[key] = old;\r\n            this._sendKeyEvent(key, value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"setRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var old = this._settings[key];\r\n            this._settings[key] = value;\r\n            if (old !== value) {\r\n                this._setRaw(key, old, value);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"_set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var old = this._settings[key];\r\n            this._settings[key] = value;\r\n            if (old !== value) {\r\n                this._setRaw(key, old, value);\r\n                this._markDirtyKey(key);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_stopAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var animation = this._animatingSettings[key];\r\n            if (animation) {\r\n                delete this._animatingSettings[key];\r\n                animation.stop();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Sets a setting `value` for the specified `key`, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._set(key, value);\r\n            this._stopAnimation(key);\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * Removes a setting value for the specified `key`;\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (key in this._settings) {\r\n                this._prevSettings[key] = this._settings[key];\r\n                delete this._settings[key];\r\n                this._sendKeyEvent(key, undefined);\r\n                this._markDirtyKey(key);\r\n            }\r\n            this._stopAnimation(key);\r\n        }\r\n    });\r\n    /**\r\n     * Removes all keys;\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"removeAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $array.each($object.keys(this._settings), function (key) {\r\n                _this.remove(key);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Returns a value of a private setting.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/#Private_settings} for more info\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"getPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this._privateSettings[key];\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"_setPrivateRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, old, value) {\r\n            this._prevPrivateSettings[key] = old;\r\n            this._sendPrivateKeyEvent(key, value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"setPrivateRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var old = this._privateSettings[key];\r\n            this._privateSettings[key] = value;\r\n            if (old !== value) {\r\n                this._setPrivateRaw(key, old, value);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"_setPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var old = this._privateSettings[key];\r\n            this._privateSettings[key] = value;\r\n            if (old !== value) {\r\n                this._setPrivateRaw(key, old, value);\r\n                this._markDirtyPrivateKey(key);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_stopAnimationPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var animation = this._animatingPrivateSettings[key];\r\n            if (animation) {\r\n                animation.stop();\r\n                delete this._animatingPrivateSettings[key];\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"setPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._setPrivate(key, value);\r\n            this._stopAnimationPrivate(key);\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"removePrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (key in this._privateSettings) {\r\n                this._prevPrivateSettings[key] = this._privateSettings[key];\r\n                delete this._privateSettings[key];\r\n                this._markDirtyPrivateKey(key);\r\n            }\r\n            this._stopAnimationPrivate(key);\r\n        }\r\n    });\r\n    /**\r\n     * Sets multiple settings at once.\r\n     *\r\n     * `settings` must be an object with key: value pairs.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param settings Settings\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"setAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (settings) {\r\n            var _this = this;\r\n            $object.each(settings, function (key, value) {\r\n                _this.set(key, value);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Animates setting values from current/start values to new ones.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animating_settings} for more info\r\n     * @param   options  Animation options\r\n     * @return           Animation object\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"animate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (options) {\r\n            var key = options.key;\r\n            var to = options.to;\r\n            var duration = options.duration || 0;\r\n            var loops = options.loops || 1;\r\n            var from = (options.from === undefined ? this.get(key) : options.from);\r\n            var easing = (options.easing === undefined ? $ease.linear : options.easing);\r\n            if (duration === 0) {\r\n                this.set(key, to);\r\n            }\r\n            else {\r\n                if (from === undefined || from === to) {\r\n                    this.set(key, to);\r\n                }\r\n                else {\r\n                    this.set(key, from);\r\n                    var animation_1 = this._animatingSettings[key] = new Animation(this, from, to, duration, easing, loops, this._animationTime());\r\n                    this._startAnimation();\r\n                    return animation_1;\r\n                }\r\n            }\r\n            var animation = new Animation(this, from, to, duration, easing, loops, null);\r\n            animation.stop();\r\n            return animation;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"animatePrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (options) {\r\n            var key = options.key;\r\n            var to = options.to;\r\n            var duration = options.duration || 0;\r\n            var loops = options.loops || 1;\r\n            var from = (options.from === undefined ? this.getPrivate(key) : options.from);\r\n            var easing = (options.easing === undefined ? $ease.linear : options.easing);\r\n            if (duration === 0) {\r\n                this.setPrivate(key, to);\r\n            }\r\n            else {\r\n                if (from === undefined || from === to) {\r\n                    this.setPrivate(key, to);\r\n                }\r\n                else {\r\n                    this.setPrivate(key, from);\r\n                    var animation_2 = this._animatingPrivateSettings[key] = new Animation(this, from, to, duration, easing, loops, this._animationTime());\r\n                    this._startAnimation();\r\n                    return animation_2;\r\n                }\r\n            }\r\n            var animation = new Animation(this, from, to, duration, easing, loops, null);\r\n            animation.stop();\r\n            return animation;\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    /**\r\n     * Returns `true` if this element is disposed.\r\n     *\r\n     * @return Disposed\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    /**\r\n     * Disposes this object.\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                this._dispose();\r\n            }\r\n        }\r\n    });\r\n    return Settings;\r\n}());\r\nexport { Settings };\r\n/**\r\n * Base class.\r\n *\r\n * @important\r\n */\r\nvar Entity = /** @class */ (function (_super) {\r\n    __extends(Entity, _super);\r\n    /**\r\n     * IMPORTANT! Do not instantiate this class via `new Class()` syntax.\r\n     *\r\n     * Use static method `Class.new()` instead.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @ignore\r\n     */\r\n    function Entity(root, settings, isReal, templates) {\r\n        if (templates === void 0) { templates = []; }\r\n        var _this = _super.call(this, settings) || this;\r\n        Object.defineProperty(_this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_user_id\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        }); // for testing purposes\r\n        Object.defineProperty(_this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new States(_this)\r\n        });\r\n        Object.defineProperty(_this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Adapters(_this)\r\n        });\r\n        Object.defineProperty(_this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._createEvents()\r\n        });\r\n        Object.defineProperty(_this, \"_userPrivateProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_dirtyPrivate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Templates for the themes\r\n        Object.defineProperty(_this, \"_templates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Internal templates which can be overridden by the user's templates\r\n        Object.defineProperty(_this, \"_internalTemplates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Default themes which can be overridden by the user's themes\r\n        Object.defineProperty(_this, \"_defaultThemes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Disposers for all of the templates\r\n        Object.defineProperty(_this, \"_templateDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Whether the template setup function should be run\r\n        Object.defineProperty(_this, \"_runSetup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"_disposerProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        _this._root = root;\r\n        _this._internalTemplates = templates;\r\n        if (settings.id) {\r\n            _this._registerId(settings.id);\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    Object.defineProperty(Entity, \"new\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (root, settings, template) {\r\n            var x = (new this(root, settings, true));\r\n            x._template = template;\r\n            x._afterNew();\r\n            return x;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity, \"_new\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (root, settings, templates) {\r\n            if (templates === void 0) { templates = []; }\r\n            var x = (new this(root, settings, true, templates));\r\n            x._afterNew();\r\n            return x;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._checkDirty();\r\n            var shouldApply = false;\r\n            var template = this._template;\r\n            if (template) {\r\n                shouldApply = true;\r\n                template._setObjectTemplate(this);\r\n            }\r\n            $array.each(this._internalTemplates, function (template) {\r\n                shouldApply = true;\r\n                template._setObjectTemplate(_this);\r\n            });\r\n            if (shouldApply) {\r\n                this._applyTemplates(false);\r\n            }\r\n            this.states.create(\"default\", {});\r\n            this._setDefaults();\r\n        }\r\n    });\r\n    // This is the same as _afterNew, except it also applies the themes.\r\n    // This should only be used for classes which don't have a parent (because they extend from Entity and not Sprite).\r\n    Object.defineProperty(Entity.prototype, \"_afterNewApplyThemes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._checkDirty();\r\n            var template = this._template;\r\n            if (template) {\r\n                template._setObjectTemplate(this);\r\n            }\r\n            $array.each(this._internalTemplates, function (template) {\r\n                template._setObjectTemplate(_this);\r\n            });\r\n            this.states.create(\"default\", {});\r\n            this._setDefaults();\r\n            this._applyThemes();\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_createEvents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return new EventDispatcher();\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"classNames\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this.constructor.classNames;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"className\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this.constructor.className;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_setDefaults\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_setDefault\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            if (!(key in this._settings)) {\r\n                _super.prototype.set.call(this, key, value);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_setRawDefault\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            if (!(key in this._settings)) {\r\n                _super.prototype.setRaw.call(this, key, value);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $object.keys(this._dirty).forEach(function (key) {\r\n                _this._dirty[key] = false;\r\n            });\r\n            $object.keys(this._dirtyPrivate).forEach(function (key) {\r\n                _this._dirtyPrivate[key] = false;\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"isDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            return !!this._dirty[key];\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"isPrivateDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            return !!this._dirtyPrivate[key];\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_markDirtyKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            this._dirty[key] = true;\r\n            _super.prototype._markDirtyKey.call(this, key);\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_markDirtyPrivateKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            this._dirtyPrivate[key] = true;\r\n            _super.prototype._markDirtyKey.call(this, key);\r\n        }\r\n    });\r\n    /**\r\n     * Checks if element is of certain class (or inherits one).\r\n     *\r\n     * @param   type  Class name to check\r\n     * @return {boolean} Is of class?\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"isType\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type) {\r\n            return this.classNames.indexOf(type) !== -1;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_pushPropertyDisposer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, disposer) {\r\n            var disposers = this._disposerProperties[key];\r\n            if (disposers === undefined) {\r\n                disposers = this._disposerProperties[key] = [];\r\n            }\r\n            disposers.push(disposer);\r\n            return disposer;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_disposeProperty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var disposers = this._disposerProperties[key];\r\n            if (disposers !== undefined) {\r\n                $array.each(disposers, function (disposer) {\r\n                    disposer.dispose();\r\n                });\r\n                delete this._disposerProperties[key];\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"template\", {\r\n        get: function () {\r\n            return this._template;\r\n        },\r\n        /**\r\n         * @todo needs description\r\n         * @param  value  Template\r\n         */\r\n        set: function (value) {\r\n            var template = this._template;\r\n            if (template !== value) {\r\n                this._template = value;\r\n                if (template) {\r\n                    template._removeObjectTemplate(this);\r\n                }\r\n                if (value) {\r\n                    value._setObjectTemplate(this);\r\n                }\r\n                this._applyTemplates();\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"markDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._root._addDirtyEntity(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_startAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._root._addAnimation(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_animationTime\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._root.animationTime;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_applyState\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_name) { }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_applyStateAnimated\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_name, _duration) { }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"get\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this.adapters.fold(key, this._settings[key]);\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Sets a setting `value` for the specified `key`, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._userProperties[key] = true;\r\n            return _super.prototype.set.call(this, key, value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"setRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._userProperties[key] = true;\r\n            _super.prototype.setRaw.call(this, key, value);\r\n        }\r\n    });\r\n    /**\r\n     * Sets a setting `value` for the specified `key` only if the value for this key was not set previously using set method, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"_setSoft\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            if (!this._userProperties[key]) {\r\n                return _super.prototype.set.call(this, key, value);\r\n            }\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * Removes a setting value for the specified `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            delete this._userProperties[key];\r\n            this._removeTemplateProperty(key);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"setPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._userPrivateProperties[key] = true;\r\n            return _super.prototype.setPrivate.call(this, key, value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"setPrivateRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._userPrivateProperties[key] = true;\r\n            _super.prototype.setPrivateRaw.call(this, key, value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"removePrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            delete this._userPrivateProperties[key];\r\n            this._removeTemplatePrivateProperty(key);\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_setTemplateProperty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (template, key, value) {\r\n            if (!this._userProperties[key]) {\r\n                var match = this._findTemplateByKey(key);\r\n                if (template === match) {\r\n                    _super.prototype.set.call(this, key, value);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_setTemplatePrivateProperty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (template, key, value) {\r\n            if (!this._userPrivateProperties[key]) {\r\n                var match = this._findTemplateByPrivateKey(key);\r\n                if (template === match) {\r\n                    _super.prototype.setPrivate.call(this, key, value);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_removeTemplateProperty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (!this._userProperties[key]) {\r\n                var match = this._findTemplateByKey(key);\r\n                if (match) {\r\n                    // TODO don't stop the animation if the property didn't change\r\n                    _super.prototype.set.call(this, key, match._settings[key]);\r\n                }\r\n                else {\r\n                    _super.prototype.remove.call(this, key);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_removeTemplatePrivateProperty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (!this._userPrivateProperties[key]) {\r\n                var match = this._findTemplateByPrivateKey(key);\r\n                if (match) {\r\n                    // TODO don't stop the animation if the property didn't change\r\n                    _super.prototype.setPrivate.call(this, key, match._privateSettings[key]);\r\n                }\r\n                else {\r\n                    _super.prototype.removePrivate.call(this, key);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_walkParents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            f(this._root._rootContainer);\r\n            f(this);\r\n        }\r\n    });\r\n    // TODO faster version of this method which is specialized to just 1 key\r\n    Object.defineProperty(Entity.prototype, \"_applyStateByKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            var other = this.states.create(name, {});\r\n            var seen = {};\r\n            this._eachTemplate(function (template) {\r\n                var state = template.states.lookup(name);\r\n                if (state) {\r\n                    state._apply(other, seen);\r\n                }\r\n            });\r\n            $object.each(other._settings, function (key) {\r\n                if (!seen[key] && !other._userSettings[key]) {\r\n                    other.remove(key);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_applyTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (template, state) {\r\n            var _this = this;\r\n            this._templateDisposers.push(template._apply(this, state));\r\n            $object.each(template._settings, function (key, value) {\r\n                if (!state.settings[key] && !_this._userProperties[key]) {\r\n                    state.settings[key] = true;\r\n                    _super.prototype.set.call(_this, key, value);\r\n                }\r\n            });\r\n            $object.each(template._privateSettings, function (key, value) {\r\n                if (!state.privateSettings[key] && !_this._userPrivateProperties[key]) {\r\n                    state.privateSettings[key] = true;\r\n                    _super.prototype.setPrivate.call(_this, key, value);\r\n                }\r\n            });\r\n            if (this._runSetup && template.setup) {\r\n                this._runSetup = false;\r\n                template.setup(this);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Calls the closure with each template and returns the first template which is true\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"_findStaticTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            if (this._template) {\r\n                if (f(this._template)) {\r\n                    return this._template;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_eachTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            this._findStaticTemplate(function (template) {\r\n                f(template);\r\n                return false;\r\n            });\r\n            // _internalTemplates is sorted with most specific to the right\r\n            $array.eachReverse(this._internalTemplates, f);\r\n            // _templates is sorted with most specific to the left\r\n            $array.each(this._templates, f);\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_applyTemplates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (remove) {\r\n            var _this = this;\r\n            if (remove === void 0) { remove = true; }\r\n            if (remove) {\r\n                this._disposeTemplates();\r\n            }\r\n            var state = {\r\n                settings: {},\r\n                privateSettings: {},\r\n                states: {},\r\n            };\r\n            this._eachTemplate(function (template) {\r\n                _this._applyTemplate(template, state);\r\n            });\r\n            if (remove) {\r\n                $object.each(this._settings, function (key) {\r\n                    if (!_this._userProperties[key] && !state.settings[key]) {\r\n                        _super.prototype.remove.call(_this, key);\r\n                    }\r\n                });\r\n                $object.each(this._privateSettings, function (key) {\r\n                    if (!_this._userPrivateProperties[key] && !state.privateSettings[key]) {\r\n                        _super.prototype.removePrivate.call(_this, key);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_findTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            var value = this._findStaticTemplate(f);\r\n            if (value === undefined) {\r\n                // _internalTemplates is sorted with most specific to the right\r\n                var value_1 = $array.findReverse(this._internalTemplates, f);\r\n                if (value_1 === undefined) {\r\n                    // _templates is sorted with most specific to the left\r\n                    return $array.find(this._templates, f);\r\n                }\r\n                else {\r\n                    return value_1;\r\n                }\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_findTemplateByKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            return this._findTemplate(function (template) {\r\n                return key in template._settings;\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_findTemplateByPrivateKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            return this._findTemplate(function (template) {\r\n                return key in template._privateSettings;\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_disposeTemplates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            $array.each(this._templateDisposers, function (disposer) {\r\n                disposer.dispose();\r\n            });\r\n            this._templateDisposers.length = 0;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_removeTemplates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $array.each(this._templates, function (template) {\r\n                template._removeObjectTemplate(_this);\r\n            });\r\n            this._templates.length = 0;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_applyThemes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var isConnected = false;\r\n            var defaults = [];\r\n            var themes = [];\r\n            var themeTags = new Set();\r\n            var tags = this.get(\"themeTagsSelf\");\r\n            if (tags) {\r\n                $array.each(tags, function (tag) {\r\n                    themeTags.add(tag);\r\n                });\r\n            }\r\n            this._walkParents(function (entity) {\r\n                if (entity === _this._root._rootContainer) {\r\n                    isConnected = true;\r\n                }\r\n                if (entity._defaultThemes.length > 0) {\r\n                    defaults.push(entity._defaultThemes);\r\n                }\r\n                var theme = entity.get(\"themes\");\r\n                if (theme) {\r\n                    themes.push(theme);\r\n                }\r\n                var tags = entity.get(\"themeTags\");\r\n                if (tags) {\r\n                    $array.each(tags, function (tag) {\r\n                        themeTags.add(tag);\r\n                    });\r\n                }\r\n            });\r\n            themes = defaults.concat(themes);\r\n            this._removeTemplates();\r\n            if (isConnected) {\r\n                $array.eachReverse(this.classNames, function (name) {\r\n                    var allRules = [];\r\n                    $array.each(themes, function (themes) {\r\n                        $array.each(themes, function (theme) {\r\n                            var rules = theme._lookupRules(name);\r\n                            if (rules) {\r\n                                $array.eachReverse(rules, function (rule) {\r\n                                    var matches = rule.tags.every(function (tag) {\r\n                                        return themeTags.has(tag);\r\n                                    });\r\n                                    if (matches) {\r\n                                        var result = $array.getFirstSortedIndex(allRules, function (x) {\r\n                                            var order = $order.compare(rule.tags.length, x.tags.length);\r\n                                            if (order === 0) {\r\n                                                return $order.compareArray(rule.tags, x.tags, $order.compare);\r\n                                            }\r\n                                            else {\r\n                                                return order;\r\n                                            }\r\n                                        });\r\n                                        allRules.splice(result.index, 0, rule);\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n                    });\r\n                    $array.each(allRules, function (rule) {\r\n                        _this._templates.push(rule.template);\r\n                        rule.template._setObjectTemplate(_this);\r\n                    });\r\n                });\r\n            }\r\n            this._applyTemplates();\r\n            if (isConnected) {\r\n                // This causes it to only run the setup function the first time that the themes are applied\r\n                this._runSetup = false;\r\n            }\r\n            return isConnected;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.isDirty(\"id\")) {\r\n                var id = this.get(\"id\");\r\n                if (id) {\r\n                    this._registerId(id);\r\n                }\r\n                var prevId = this._prevSettings.id;\r\n                if (prevId) {\r\n                    delete registry.entitiesById[prevId];\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_registerId\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (id) {\r\n            if (registry.entitiesById[id] && registry.entitiesById[id] !== this) {\r\n                throw new Error(\"An entity with id \\\"\" + id + \"\\\" already exists.\");\r\n            }\r\n            registry.entitiesById[id] = this;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_afterChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"addDisposer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (disposer) {\r\n            this._disposers.push(disposer);\r\n            return disposer;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._dispose.call(this);\r\n            var template = this._template;\r\n            if (template) {\r\n                template._removeObjectTemplate(this);\r\n            }\r\n            $array.each(this._internalTemplates, function (template) {\r\n                template._removeObjectTemplate(_this);\r\n            });\r\n            this._removeTemplates();\r\n            this._disposeTemplates();\r\n            this.events.dispose();\r\n            this._disposers.forEach(function (x) {\r\n                x.dispose();\r\n            });\r\n            $object.each(this._disposerProperties, function (_, disposers) {\r\n                $array.each(disposers, function (disposer) {\r\n                    disposer.dispose();\r\n                });\r\n            });\r\n            var id = this.get(\"id\");\r\n            if (id) {\r\n                delete registry.entitiesById[id];\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Creates and returns a \"disposable\" timeout.\r\n     *\r\n     * @param   fn     Callback\r\n     * @param   delay  Delay in milliseconds\r\n     * @return         Timeout disposer\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"setTimeout\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fn, delay) {\r\n            var _this = this;\r\n            var id = setTimeout(function () {\r\n                _this.removeDispose(disposer);\r\n                fn();\r\n            }, delay);\r\n            var disposer = new Disposer(function () {\r\n                clearTimeout(id);\r\n            });\r\n            this._disposers.push(disposer);\r\n            return disposer;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"removeDispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            if (!this.isDisposed()) {\r\n                var index = $array.indexOf(this._disposers, target);\r\n                if (index > -1) {\r\n                    this._disposers.splice(index, 1);\r\n                }\r\n            }\r\n            target.dispose();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"hasTag\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tag) {\r\n            return $array.indexOf(this.get(\"themeTags\", []), tag) !== -1;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"addTag\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tag) {\r\n            if (!this.hasTag(tag)) {\r\n                var tags = this.get(\"themeTags\", []);\r\n                tags.push(tag);\r\n                this.set(\"themeTags\", tags);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"removeTag\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tag) {\r\n            if (this.hasTag(tag)) {\r\n                var tags = this.get(\"themeTags\", []);\r\n                $array.remove(tags, tag);\r\n                this.set(\"themeTags\", tags);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_t\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text, locale) {\r\n            var _a;\r\n            var rest = [];\r\n            for (var _i = 2; _i < arguments.length; _i++) {\r\n                rest[_i - 2] = arguments[_i];\r\n            }\r\n            return (_a = this._root.language).translate.apply(_a, __spreadArray([text, locale], __read(rest), false));\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"root\", {\r\n        /**\r\n         * An instance of [[Root]] object.\r\n         *\r\n         * @readonly\r\n         * @since 5.0.6\r\n         * @return Root object\r\n         */\r\n        get: function () {\r\n            return this._root;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Entity, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Entity\"\r\n    });\r\n    Object.defineProperty(Entity, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: [\"Entity\"]\r\n    });\r\n    return Entity;\r\n}(Settings));\r\nexport { Entity };\r\n//# sourceMappingURL=Entity.js.map",";\r\n/**\r\n * From https://github.com/pixijs/pixi.js/blob/3dd0ff9a935f0bc13a09aefff9eb2872f02c51b9/packages/canvas/canvas-renderer/src/utils/mapCanvasBlendModesToPixi.ts#L13\r\n */\r\nexport var BlendMode;\r\n(function (BlendMode) {\r\n    BlendMode[\"ADD\"] = \"lighter\";\r\n    BlendMode[\"COLOR\"] = \"color\";\r\n    BlendMode[\"COLOR_BURN\"] = \"color-burn\";\r\n    BlendMode[\"COLOR_DODGE\"] = \"color-dodge\";\r\n    BlendMode[\"DARKEN\"] = \"darken\";\r\n    BlendMode[\"DIFFERENCE\"] = \"difference\";\r\n    BlendMode[\"DST_OVER\"] = \"destination-over\";\r\n    BlendMode[\"EXCLUSION\"] = \"exclusion\";\r\n    BlendMode[\"HARD_LIGHT\"] = \"hard-light\";\r\n    BlendMode[\"HUE\"] = \"hue\";\r\n    BlendMode[\"LIGHTEN\"] = \"lighten\";\r\n    BlendMode[\"LUMINOSITY\"] = \"luminosity\";\r\n    BlendMode[\"MULTIPLY\"] = \"multiply\";\r\n    BlendMode[\"NORMAL\"] = \"source-over\";\r\n    BlendMode[\"OVERLAY\"] = \"overlay\";\r\n    BlendMode[\"SATURATION\"] = \"saturation\";\r\n    BlendMode[\"SCREEN\"] = \"screen\";\r\n    BlendMode[\"SOFT_LIGHT\"] = \"soft-light\";\r\n    BlendMode[\"SRC_ATOP\"] = \"source-atop\";\r\n    BlendMode[\"XOR\"] = \"xor\";\r\n})(BlendMode || (BlendMode = {}));\r\n//# sourceMappingURL=Renderer.js.map","import { EventDispatcher } from \"./EventDispatcher\";\r\nimport { Disposer, MultiDisposer } from \"./Disposer\";\r\nimport * as $array from \"./Array\";\r\nimport * as $object from \"./Object\";\r\nvar TemplateState = /** @class */ (function () {\r\n    function TemplateState(name, template, settings) {\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_name\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._name = name;\r\n        this._template = template;\r\n        this._settings = settings;\r\n    }\r\n    Object.defineProperty(TemplateState.prototype, \"get\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this._settings[key];\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateState.prototype, \"set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._settings[key] = value;\r\n            // TODO maybe only do this if the value changed ?\r\n            this._template._stateChanged(this._name);\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateState.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            delete this._settings[key];\r\n            // TODO maybe only do this if the value changed ?\r\n            this._template._stateChanged(this._name);\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateState.prototype, \"setAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (settings) {\r\n            var _this = this;\r\n            $object.keys(settings).forEach(function (key) {\r\n                _this._settings[key] = settings[key];\r\n            });\r\n            this._template._stateChanged(this._name);\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateState.prototype, \"_apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (other, seen) {\r\n            $object.each(this._settings, function (key, value) {\r\n                if (!seen[key] && !other._userSettings[key]) {\r\n                    seen[key] = true;\r\n                    other.setRaw(key, value);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    return TemplateState;\r\n}());\r\nexport { TemplateState };\r\nvar TemplateStates = /** @class */ (function () {\r\n    function TemplateStates(template) {\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._template = template;\r\n    }\r\n    Object.defineProperty(TemplateStates.prototype, \"lookup\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            return this._states[name];\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateStates.prototype, \"create\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name, settings) {\r\n            var state = this._states[name];\r\n            if (state) {\r\n                state.setAll(settings);\r\n                return state;\r\n            }\r\n            else {\r\n                var state_1 = new TemplateState(name, this._template, settings);\r\n                this._states[name] = state_1;\r\n                this._template._stateChanged(name);\r\n                return state_1;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateStates.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            delete this._states[name];\r\n            this._template._stateChanged(name);\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateStates.prototype, \"_apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity, state) {\r\n            $object.each(this._states, function (key, value) {\r\n                var seen = state.states[key];\r\n                if (seen == null) {\r\n                    seen = state.states[key] = {};\r\n                }\r\n                var other = entity.states.create(key, {});\r\n                value._apply(other, seen);\r\n            });\r\n        }\r\n    });\r\n    return TemplateStates;\r\n}());\r\nexport { TemplateStates };\r\nvar TemplateAdapters = /** @class */ (function () {\r\n    function TemplateAdapters() {\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    Object.defineProperty(TemplateAdapters.prototype, \"add\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback) {\r\n            var _this = this;\r\n            var callbacks = this._callbacks[key];\r\n            if (callbacks === undefined) {\r\n                callbacks = this._callbacks[key] = [];\r\n            }\r\n            callbacks.push(callback);\r\n            return new Disposer(function () {\r\n                $array.removeFirst(callbacks, callback);\r\n                if (callbacks.length === 0) {\r\n                    delete _this._callbacks[key];\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateAdapters.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var callbacks = this._callbacks[key];\r\n            if (callbacks !== undefined) {\r\n                delete this._callbacks[key];\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateAdapters.prototype, \"_apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity) {\r\n            var disposers = [];\r\n            $object.each(this._callbacks, function (key, callbacks) {\r\n                $array.each(callbacks, function (callback) {\r\n                    disposers.push(entity.adapters.add(key, callback));\r\n                });\r\n            });\r\n            return new MultiDisposer(disposers);\r\n        }\r\n    });\r\n    return TemplateAdapters;\r\n}());\r\nexport { TemplateAdapters };\r\n// TODO maybe extend from Properties ?\r\nvar Template = /** @class */ (function () {\r\n    function Template(settings, isReal) {\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        // TODO code duplication with Properties\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entities\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateStates(this)\r\n        });\r\n        Object.defineProperty(this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateAdapters()\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"setup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._settings = settings;\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    Object.defineProperty(Template, \"new\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (settings) {\r\n            return new Template(settings, true);\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"get\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this._settings[key];\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"setRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._settings[key] = value;\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var _this = this;\r\n            if (this._settings[key] !== value) {\r\n                this.setRaw(key, value);\r\n                this._entities.forEach(function (entity) {\r\n                    entity._setTemplateProperty(_this, key, value);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (key in this._settings) {\r\n                delete this._settings[key];\r\n                this._entities.forEach(function (entity) {\r\n                    entity._removeTemplateProperty(key);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"removeAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $object.each(this._settings, function (key, _value) {\r\n                _this.remove(key);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"getPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this._privateSettings[key];\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"setPrivateRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._privateSettings[key] = value;\r\n            return value;\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"setPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var _this = this;\r\n            if (this._privateSettings[key] !== value) {\r\n                this.setPrivateRaw(key, value);\r\n                this._entities.forEach(function (entity) {\r\n                    entity._setTemplatePrivateProperty(_this, key, value);\r\n                });\r\n            }\r\n            return value;\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"removePrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (key in this._privateSettings) {\r\n                delete this._privateSettings[key];\r\n                this._entities.forEach(function (entity) {\r\n                    entity._removeTemplatePrivateProperty(key);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"setAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var _this = this;\r\n            $object.each(value, function (key, value) {\r\n                _this.set(key, value);\r\n            });\r\n        }\r\n    });\r\n    // TODO code duplication with Properties\r\n    Object.defineProperty(Template.prototype, \"on\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback) {\r\n            var _this = this;\r\n            var events = this._settingEvents[key];\r\n            if (events === undefined) {\r\n                events = this._settingEvents[key] = [];\r\n            }\r\n            events.push(callback);\r\n            return new Disposer(function () {\r\n                $array.removeFirst(events, callback);\r\n                if (events.length === 0) {\r\n                    delete _this._settingEvents[key];\r\n                }\r\n            });\r\n        }\r\n    });\r\n    // TODO code duplication with Properties\r\n    Object.defineProperty(Template.prototype, \"onPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback) {\r\n            var _this = this;\r\n            var events = this._privateSettingEvents[key];\r\n            if (events === undefined) {\r\n                events = this._privateSettingEvents[key] = [];\r\n            }\r\n            events.push(callback);\r\n            return new Disposer(function () {\r\n                $array.removeFirst(events, callback);\r\n                if (events.length === 0) {\r\n                    delete _this._privateSettingEvents[key];\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"_apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity, state) {\r\n            var disposers = [];\r\n            $object.each(this._settingEvents, function (key, events) {\r\n                $array.each(events, function (event) {\r\n                    disposers.push(entity.on(key, event));\r\n                });\r\n            });\r\n            $object.each(this._privateSettingEvents, function (key, events) {\r\n                $array.each(events, function (event) {\r\n                    disposers.push(entity.onPrivate(key, event));\r\n                });\r\n            });\r\n            this.states._apply(entity, state);\r\n            disposers.push(this.adapters._apply(entity));\r\n            disposers.push(entity.events.copyFrom(this.events));\r\n            return new MultiDisposer(disposers);\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"_setObjectTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity) {\r\n            this._entities.push(entity);\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"_removeObjectTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity) {\r\n            $array.remove(this._entities, entity);\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"_stateChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            this._entities.forEach(function (entity) {\r\n                entity._applyStateByKey(name);\r\n            });\r\n        }\r\n    });\r\n    return Template;\r\n}());\r\nexport { Template };\r\n//# sourceMappingURL=Template.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { Entity } from \"../util/Entity\";\r\nimport { Template } from \"../util/Template\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { EventDispatcher } from \"../util/EventDispatcher\";\r\nimport { MultiDisposer, CounterDisposer } from \"../util/Disposer\";\r\nimport { waitForAnimations } from \"../util/Animation\";\r\nimport * as $utils from \"../util/Utils\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $object from \"../util/Object\";\r\nimport * as $math from \"../util/Math\";\r\n//import { populateString } from \"../util/PopulateString\";\r\n/**\r\n * An [[EventDispatcher]] for [[Sprite]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nvar SpriteEventDispatcher = /** @class */ (function (_super) {\r\n    __extends(SpriteEventDispatcher, _super);\r\n    function SpriteEventDispatcher(sprite) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"_sprite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_rendererDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_dispatchParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        _this._sprite = sprite;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SpriteEventDispatcher.prototype, \"_makePointerEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, event) {\r\n            return {\r\n                type: key,\r\n                originalEvent: event.event,\r\n                point: event.point,\r\n                simulated: event.simulated,\r\n                native: event.native,\r\n                target: this._sprite\r\n            };\r\n        }\r\n    });\r\n    Object.defineProperty(SpriteEventDispatcher.prototype, \"_onRenderer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, dispatch) {\r\n            var _this = this;\r\n            // TODO: is this OK? it'd be good not to require to set this on each individual element\r\n            this._sprite.set(\"interactive\", true);\r\n            this._sprite._display.interactive = true;\r\n            var events = this._rendererDisposers[key];\r\n            if (events === undefined) {\r\n                var disposer_1 = this._sprite._display.on(key, function (e) {\r\n                    dispatch.call(_this, e);\r\n                });\r\n                events = this._rendererDisposers[key] = new CounterDisposer(function () {\r\n                    delete _this._rendererDisposers[key];\r\n                    disposer_1.dispose();\r\n                });\r\n            }\r\n            return events.increment();\r\n        }\r\n    });\r\n    Object.defineProperty(SpriteEventDispatcher.prototype, \"_on\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (once, type, callback, context, shouldClone, dispatch) {\r\n            var info = _super.prototype._on.call(this, once, type, callback, context, shouldClone, dispatch);\r\n            var rendererEvent = SpriteEventDispatcher.RENDERER_EVENTS[type];\r\n            if (rendererEvent !== undefined) {\r\n                info.disposer = new MultiDisposer([\r\n                    info.disposer,\r\n                    this._onRenderer(type, rendererEvent),\r\n                ]);\r\n            }\r\n            return info;\r\n        }\r\n    });\r\n    /**\r\n     * Will stop any bubbling up of the event to element's parents.\r\n     *\r\n     * Should be called in an event handler, e.g.:\r\n     *\r\n     * ```TypeScript\r\n     * element.events.on(\"pointerdown\", function(ev) {\r\n     *   // Do something here and prevent from \"pointerdown\" bubbling up\r\n     *   // ...\r\n     *   ev.target.events.stopParentDispatch();\r\n     * });\r\n     * ```\r\n     * ```JavaScript\r\n     * element.events.on(\"pointerdown\", function(ev) {\r\n     *   // Do something here and prevent from \"pointerdown\" bubbling up\r\n     *   // ...\r\n     *   ev.target.events.stopParentDispatch();\r\n     * });\r\n     * ```\r\n     */\r\n    Object.defineProperty(SpriteEventDispatcher.prototype, \"stopParentDispatch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._dispatchParents = false;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(SpriteEventDispatcher.prototype, \"dispatchParents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, event) {\r\n            var old = this._dispatchParents;\r\n            this._dispatchParents = true;\r\n            try {\r\n                this.dispatch(type, event);\r\n                if (this._dispatchParents && this._sprite.parent) {\r\n                    this._sprite.parent.events.dispatchParents(type, event);\r\n                }\r\n            }\r\n            finally {\r\n                this._dispatchParents = old;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(SpriteEventDispatcher, \"RENDERER_EVENTS\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: {\r\n            \"click\": function (event) {\r\n                if (this.isEnabled(\"click\") && !this._sprite.isDragging() && this._sprite._hasDown() && !this._sprite._hasMoved(this._makePointerEvent(\"click\", event))) {\r\n                    this.dispatch(\"click\", this._makePointerEvent(\"click\", event));\r\n                }\r\n            },\r\n            \"rightclick\": function (event) {\r\n                if (this.isEnabled(\"rightclick\")) {\r\n                    this.dispatch(\"rightclick\", this._makePointerEvent(\"rightclick\", event));\r\n                }\r\n            },\r\n            \"middleclick\": function (event) {\r\n                if (this.isEnabled(\"middleclick\")) {\r\n                    this.dispatch(\"middleclick\", this._makePointerEvent(\"middleclick\", event));\r\n                }\r\n            },\r\n            \"dblclick\": function (event) {\r\n                this.dispatchParents(\"dblclick\", this._makePointerEvent(\"dblclick\", event));\r\n            },\r\n            \"pointerover\": function (event) {\r\n                if (this.isEnabled(\"pointerover\")) {\r\n                    this.dispatch(\"pointerover\", this._makePointerEvent(\"pointerover\", event));\r\n                }\r\n            },\r\n            \"pointerout\": function (event) {\r\n                if (this.isEnabled(\"pointerout\")) {\r\n                    this.dispatch(\"pointerout\", this._makePointerEvent(\"pointerout\", event));\r\n                }\r\n            },\r\n            \"pointerdown\": function (event) {\r\n                this.dispatchParents(\"pointerdown\", this._makePointerEvent(\"pointerdown\", event));\r\n            },\r\n            \"pointerup\": function (event) {\r\n                if (this.isEnabled(\"pointerup\")) {\r\n                    this.dispatch(\"pointerup\", this._makePointerEvent(\"pointerup\", event));\r\n                }\r\n            },\r\n            \"globalpointerup\": function (event) {\r\n                if (this.isEnabled(\"globalpointerup\")) {\r\n                    this.dispatch(\"globalpointerup\", this._makePointerEvent(\"globalpointerup\", event));\r\n                }\r\n            },\r\n            \"globalpointermove\": function (event) {\r\n                if (this.isEnabled(\"globalpointermove\")) {\r\n                    this.dispatch(\"globalpointermove\", this._makePointerEvent(\"globalpointermove\", event));\r\n                }\r\n            },\r\n            \"wheel\": function (event) {\r\n                this.dispatchParents(\"wheel\", {\r\n                    type: \"wheel\",\r\n                    target: this._sprite,\r\n                    originalEvent: event.event,\r\n                    point: event.point,\r\n                });\r\n            },\r\n        }\r\n    });\r\n    return SpriteEventDispatcher;\r\n}(EventDispatcher));\r\n/**\r\n * A base class for all visual elements.\r\n *\r\n * @important\r\n */\r\nvar Sprite = /** @class */ (function (_super) {\r\n    __extends(Sprite, _super);\r\n    function Sprite() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_adjustedLocalBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { left: 0, right: 0, top: 0, bottom: 0 }\r\n        });\r\n        Object.defineProperty(_this, \"_localBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { left: 0, right: 0, top: 0, bottom: 0 }\r\n        });\r\n        Object.defineProperty(_this, \"_parent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_dataItem\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_templateField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_sizeDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // Will be true only when dragging\r\n        Object.defineProperty(_this, \"_isDragging\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // The event when the dragging starts\r\n        Object.defineProperty(_this, \"_dragEvent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // The position when dragging starts\r\n        Object.defineProperty(_this, \"_dragPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_isHidden\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_isShowing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_isHiding\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_isDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_downPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_downPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_toggleDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_dragDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_hoverDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_focusDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipMoveDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipPointerDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_statesHandled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Sprite.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setPrivateRaw(\"visible\", true);\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_markDirtyKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            _super.prototype._markDirtyKey.call(this, key);\r\n            if (key == \"x\" || key == \"y\" || key == \"dx\" || key == \"dy\") {\r\n                this.markDirtyBounds();\r\n                this._addPercentagePositionChildren();\r\n                this.markDirtyPosition();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_markDirtyPrivateKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            _super.prototype._markDirtyPrivateKey.call(this, key);\r\n            if (key == \"x\" || key == \"y\") {\r\n                this.markDirtyPosition();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_removeTemplateField\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._templateField) {\r\n                this._templateField._removeObjectTemplate(this);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_createEvents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return new SpriteEventDispatcher(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_processTemplateField\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var template;\r\n            var field = this.get(\"templateField\");\r\n            if (field) {\r\n                var dataItem = this.dataItem;\r\n                if (dataItem) {\r\n                    var context = dataItem.dataContext;\r\n                    if (context) {\r\n                        template = context[field];\r\n                        if (!(template instanceof Template) && template) {\r\n                            template = Template.new(template);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (this._templateField !== template) {\r\n                this._removeTemplateField();\r\n                this._templateField = template;\r\n                if (template) {\r\n                    template._setObjectTemplate(this);\r\n                }\r\n                this._applyTemplates();\r\n            }\r\n        }\r\n    });\r\n    // TODO change this to run before the element is added to the parent, so that way\r\n    //      it doesn't need to apply the themes twice\r\n    Object.defineProperty(Sprite.prototype, \"_setDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var oldDataItem = this._dataItem;\r\n            this._dataItem = dataItem;\r\n            this._processTemplateField();\r\n            var eventType = \"dataitemchanged\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, {\r\n                    type: eventType,\r\n                    target: this,\r\n                    oldDataItem: oldDataItem,\r\n                    newDataItem: dataItem\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"dataItem\", {\r\n        /**\r\n         * @return DataItem\r\n         */\r\n        get: function () {\r\n            if (this._dataItem) {\r\n                return this._dataItem;\r\n            }\r\n            else {\r\n                var parent_1 = this._parent;\r\n                while (parent_1) {\r\n                    if (parent_1._dataItem) {\r\n                        return parent_1._dataItem;\r\n                    }\r\n                    else {\r\n                        parent_1 = parent_1._parent;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * A [[DataItem]] used for this element.\r\n         *\r\n         * NOTE: data item is being assigned automatically in most cases where it\r\n         * matters. Use this accessor to set data item only if you know what you're\r\n         * doing.\r\n         *\r\n         * @param  value  Data item\r\n         */\r\n        set: function (value) {\r\n            this._setDataItem(value);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_addPercentageSizeChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                if (this.get(\"width\") instanceof Percent || this.get(\"height\") instanceof Percent) {\r\n                    $array.pushOne(parent._percentageSizeChildren, this);\r\n                }\r\n                else {\r\n                    $array.removeFirst(parent._percentageSizeChildren, this);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_addPercentagePositionChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                if (this.get(\"x\") instanceof Percent || this.get(\"y\") instanceof Percent) {\r\n                    $array.pushOne(parent._percentagePositionChildren, this);\r\n                }\r\n                else {\r\n                    $array.removeFirst(parent._percentagePositionChildren, this);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"markDirtyPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._root._addDirtyPosition(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"updatePivotPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var bounds = this._localBounds;\r\n            if (bounds) {\r\n                var centerX = this.get(\"centerX\");\r\n                if (centerX != null) {\r\n                    this._display.pivot.x = bounds.left + $utils.relativeToValue(centerX, bounds.right - bounds.left);\r\n                }\r\n                var centerY = this.get(\"centerY\");\r\n                if (centerY != null) {\r\n                    this._display.pivot.y = bounds.top + $utils.relativeToValue(centerY, bounds.bottom - bounds.top);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._beforeChanged.call(this);\r\n            // handling states in beforeChanged, otherwise states is not applied without animated theme\r\n            this._handleStates();\r\n            if (this.isDirty(\"tooltip\")) {\r\n                var previous = this._prevSettings.tooltip;\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n            }\r\n            if (this.isDirty(\"layer\")) {\r\n                this._display.setLayer(this.get(\"layer\"));\r\n                this.markDirtyLayer();\r\n            }\r\n            if (this.isDirty(\"tooltipPosition\")) {\r\n                var tooltipMoveDp = this._tooltipMoveDp;\r\n                if (tooltipMoveDp) {\r\n                    tooltipMoveDp.dispose();\r\n                    this._tooltipMoveDp = undefined;\r\n                }\r\n                var tooltipPointerDp = this._tooltipPointerDp;\r\n                if (tooltipPointerDp) {\r\n                    tooltipPointerDp.dispose();\r\n                    this._tooltipPointerDp = undefined;\r\n                }\r\n                if (this.get(\"tooltipPosition\") == \"pointer\") {\r\n                    this._tooltipPointerDp = new MultiDisposer([\r\n                        this.events.on(\"pointerover\", function () {\r\n                            _this._tooltipMoveDp = _this.events.on(\"globalpointermove\", function (e) {\r\n                                _this.showTooltip(e.point);\r\n                            });\r\n                        }),\r\n                        this.events.on(\"pointerout\", function () {\r\n                            var tooltipMoveDp = _this._tooltipMoveDp;\r\n                            if (tooltipMoveDp) {\r\n                                tooltipMoveDp.dispose();\r\n                                _this._tooltipMoveDp = undefined;\r\n                            }\r\n                        })\r\n                    ]);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_handleStates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._statesHandled) {\r\n                if (this.isDirty(\"active\")) {\r\n                    if (this.get(\"active\")) {\r\n                        this.states.applyAnimate(\"active\");\r\n                        this.set(\"ariaChecked\", true);\r\n                    }\r\n                    else {\r\n                        if (!this.isHidden()) {\r\n                            this.states.applyAnimate(\"default\");\r\n                        }\r\n                        this.set(\"ariaChecked\", false);\r\n                    }\r\n                    this.markDirtyAccessibility();\r\n                }\r\n                if (this.isDirty(\"disabled\")) {\r\n                    if (this.get(\"disabled\")) {\r\n                        this.states.applyAnimate(\"disabled\");\r\n                        this.set(\"ariaChecked\", false);\r\n                    }\r\n                    else {\r\n                        if (!this.isHidden()) {\r\n                            this.states.applyAnimate(\"default\");\r\n                        }\r\n                        this.set(\"ariaChecked\", true);\r\n                    }\r\n                    this.markDirtyAccessibility();\r\n                }\r\n                this._statesHandled = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._changed.call(this);\r\n            var display = this._display;\r\n            var events = this.events;\r\n            if (this.isDirty(\"draggable\")) {\r\n                var draggable = this.get(\"draggable\");\r\n                if (draggable) {\r\n                    this.set(\"interactive\", true);\r\n                    this._dragDp = new MultiDisposer([\r\n                        events.on(\"pointerdown\", function (ev) {\r\n                            _this.dragStart(ev);\r\n                        }),\r\n                        events.on(\"globalpointermove\", function (ev) {\r\n                            _this.dragMove(ev);\r\n                        }),\r\n                        events.on(\"globalpointerup\", function (ev) {\r\n                            _this.dragStop(ev);\r\n                        })\r\n                    ]);\r\n                }\r\n                else {\r\n                    if (this._dragDp) {\r\n                        this._dragDp.dispose();\r\n                        this._dragDp = undefined;\r\n                    }\r\n                }\r\n                display.cancelTouch = draggable ? true : false;\r\n            }\r\n            if (this.isDirty(\"tooltipText\") || this.isDirty(\"tooltipHTML\")) {\r\n                var tooltipText = this.get(\"tooltipText\");\r\n                var tooltipHTML = this.get(\"tooltipHTML\");\r\n                if (tooltipText || tooltipHTML) {\r\n                    if (!this._tooltipDp) {\r\n                        this._tooltipDp = new MultiDisposer([\r\n                            events.on(\"pointerover\", function () {\r\n                                _this.showTooltip();\r\n                            }),\r\n                            events.on(\"pointerout\", function () {\r\n                                if (_this.get(\"showTooltipOn\") != \"always\") {\r\n                                    _this.hideTooltip();\r\n                                }\r\n                            })\r\n                        ]);\r\n                    }\r\n                }\r\n                else {\r\n                    if (this._tooltipDp) {\r\n                        this._tooltipDp.dispose();\r\n                        this._tooltipDp = undefined;\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"toggleKey\")) {\r\n                var toggleKey_1 = this.get(\"toggleKey\");\r\n                if (toggleKey_1 && toggleKey_1 != \"none\") {\r\n                    this._toggleDp = events.on(\"click\", function () {\r\n                        if (!_this._isDragging) {\r\n                            _this.set(toggleKey_1, !_this.get(toggleKey_1));\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    if (this._toggleDp) {\r\n                        this._toggleDp.dispose();\r\n                        this._toggleDp = undefined;\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"opacity\")) {\r\n                display.alpha = Math.max(0, this.get(\"opacity\", 1));\r\n            }\r\n            if (this.isDirty(\"rotation\")) {\r\n                this.markDirtyBounds();\r\n                display.angle = this.get(\"rotation\", 0);\r\n            }\r\n            if (this.isDirty(\"scale\")) {\r\n                this.markDirtyBounds();\r\n                display.scale = this.get(\"scale\", 0);\r\n            }\r\n            if (this.isDirty(\"centerX\") || this.isDirty(\"centerY\")) {\r\n                this.markDirtyBounds();\r\n                this.updatePivotPoint();\r\n            }\r\n            if (this.isDirty(\"visible\") || this.isPrivateDirty(\"visible\") || this.isDirty(\"forceHidden\")) {\r\n                if (!this.get(\"visible\") || !this.getPrivate(\"visible\") || this.get(\"forceHidden\")) {\r\n                    display.visible = false;\r\n                    this.hideTooltip();\r\n                }\r\n                else {\r\n                    display.visible = true;\r\n                }\r\n                this.markDirtyBounds();\r\n                if (this.get(\"focusable\")) {\r\n                    this.markDirtyAccessibility();\r\n                }\r\n            }\r\n            if (this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n                this.markDirtyBounds();\r\n                this._addPercentageSizeChildren();\r\n                var parent_2 = this.parent;\r\n                if (parent_2) {\r\n                    if ((this.isDirty(\"width\") && this.get(\"width\") instanceof Percent) || (this.isDirty(\"height\") && this.get(\"height\") instanceof Percent)) {\r\n                        parent_2.markDirty();\r\n                        parent_2._prevWidth = 0;\r\n                    }\r\n                }\r\n                this._sizeDirty = true;\r\n            }\r\n            if (this.isDirty(\"maxWidth\") || this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"minWidth\") || this.isDirty(\"minHeight\") || this.isPrivateDirty(\"maxWidth\") || this.isPrivateDirty(\"maxHeight\") || this.isPrivateDirty(\"minWidth\") || this.isPrivateDirty(\"minHeight\")) {\r\n                this.markDirtyBounds();\r\n                this._sizeDirty = true;\r\n            }\r\n            if (this._sizeDirty) {\r\n                this._updateSize();\r\n            }\r\n            if (this.isDirty(\"wheelable\")) {\r\n                var wheelable = this.get(\"wheelable\");\r\n                if (wheelable) {\r\n                    this.set(\"interactive\", true);\r\n                }\r\n                display.wheelable = wheelable ? true : false;\r\n            }\r\n            // Accessibility\r\n            if (this.isDirty(\"tabindexOrder\") || this.isDirty(\"focusableGroup\")) {\r\n                if (this.get(\"focusable\")) {\r\n                    this._root._registerTabindexOrder(this);\r\n                }\r\n                else {\r\n                    this._root._unregisterTabindexOrder(this);\r\n                }\r\n            }\r\n            if (this.isDirty(\"filter\")) {\r\n                //this.markDirtyBounds();\r\n                display.filter = this.get(\"filter\");\r\n            }\r\n            if (this.isDirty(\"cursorOverStyle\")) {\r\n                display.cursorOverStyle = this.get(\"cursorOverStyle\");\r\n            }\r\n            if (this.isDirty(\"hoverOnFocus\")) {\r\n                if (this.get(\"hoverOnFocus\")) {\r\n                    this._focusDp = new MultiDisposer([\r\n                        events.on(\"focus\", function () {\r\n                            // TODO: proper hover, not just tooltip\r\n                            _this.showTooltip();\r\n                        }),\r\n                        events.on(\"blur\", function () {\r\n                            // TODO: proper hover, not just tooltip\r\n                            _this.hideTooltip();\r\n                        })\r\n                    ]);\r\n                }\r\n                else {\r\n                    if (this._focusDp) {\r\n                        this._focusDp.dispose();\r\n                        this._focusDp = undefined;\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"focusable\")) {\r\n                if (this.get(\"focusable\")) {\r\n                    this._root._registerTabindexOrder(this);\r\n                }\r\n                else {\r\n                    this._root._unregisterTabindexOrder(this);\r\n                }\r\n                this.markDirtyAccessibility();\r\n            }\r\n            if (this.isDirty(\"role\") || this.isDirty(\"ariaLive\") || this.isDirty(\"ariaChecked\") || this.isDirty(\"ariaHidden\") || this.isDirty(\"ariaOrientation\") || this.isDirty(\"ariaValueNow\") || this.isDirty(\"ariaValueMin\") || this.isDirty(\"ariaValueMax\") || this.isDirty(\"ariaValueText\") || this.isDirty(\"ariaLabel\") || this.isDirty(\"ariaControls\")) {\r\n                // display.accessibility.ariaLabel = populateString(this, this.get(\"ariaLabel\", \"\"));\r\n                // @todo make sure ariaLabel gets populated in Root\r\n                this.markDirtyAccessibility();\r\n            }\r\n            if (this.isDirty(\"exportable\")) {\r\n                display.exportable = this.get(\"exportable\");\r\n            }\r\n            if (this.isDirty(\"interactive\")) {\r\n                var events_1 = this.events;\r\n                if (this.get(\"interactive\")) {\r\n                    this._hoverDp = new MultiDisposer([\r\n                        events_1.on(\"click\", function (ev) {\r\n                            if ($utils.isTouchEvent(ev.originalEvent)) {\r\n                                if (!_this.getPrivate(\"touchHovering\")) {\r\n                                    _this.setTimeout(function () {\r\n                                        _this._handleOver();\r\n                                        if (_this.get(\"tooltipText\") || _this.get(\"tooltipHTML\")) {\r\n                                            _this.showTooltip();\r\n                                        }\r\n                                        _this.setPrivateRaw(\"touchHovering\", true);\r\n                                        _this.events.dispatch(\"pointerover\", {\r\n                                            type: \"pointerover\",\r\n                                            target: ev.target,\r\n                                            originalEvent: ev.originalEvent,\r\n                                            point: ev.point,\r\n                                            simulated: ev.simulated\r\n                                        });\r\n                                    }, 10);\r\n                                }\r\n                            }\r\n                        }),\r\n                        events_1.on(\"globalpointerup\", function (ev) {\r\n                            if ($utils.isTouchEvent(ev.originalEvent)) {\r\n                                if (_this.getPrivate(\"touchHovering\")) {\r\n                                    _this._handleOut();\r\n                                    if (_this.get(\"tooltipText\") || _this.get(\"tooltipHTML\")) {\r\n                                        _this.hideTooltip();\r\n                                    }\r\n                                }\r\n                                _this.setPrivateRaw(\"touchHovering\", false);\r\n                                _this.events.dispatch(\"pointerout\", {\r\n                                    type: \"pointerout\",\r\n                                    target: ev.target,\r\n                                    originalEvent: ev.originalEvent,\r\n                                    point: ev.point,\r\n                                    simulated: ev.simulated\r\n                                });\r\n                            }\r\n                            if (_this._isDown) {\r\n                                _this._handleUp(ev);\r\n                            }\r\n                            //this._isDown = false;\r\n                        }),\r\n                        events_1.on(\"pointerover\", function () {\r\n                            _this._handleOver();\r\n                        }),\r\n                        events_1.on(\"pointerout\", function () {\r\n                            _this._handleOut();\r\n                        }),\r\n                        events_1.on(\"pointerdown\", function (e) {\r\n                            _this._handleDown(e);\r\n                        })\r\n                    ]);\r\n                }\r\n                else {\r\n                    this._display.interactive = false;\r\n                    if (this._hoverDp) {\r\n                        this._hoverDp.dispose();\r\n                        this._hoverDp = undefined;\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"forceInactive\")) {\r\n                this._display.inactive = this.get(\"forceInactive\", false);\r\n            }\r\n            if (this.get(\"showTooltipOn\") == \"always\" && this._display.visible) {\r\n                this.showTooltip();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"dragStart\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (e) {\r\n            this._dragEvent = e;\r\n            this.events.stopParentDispatch();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"dragStop\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (e) {\r\n            this._dragEvent = undefined;\r\n            this._dragPoint = undefined;\r\n            this.events.stopParentDispatch();\r\n            if (this._isDragging) {\r\n                this._isDragging = false;\r\n                var type = \"dragstop\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, {\r\n                        type: type,\r\n                        target: this,\r\n                        originalEvent: e.originalEvent,\r\n                        point: e.point,\r\n                        simulated: e.simulated,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_handleOver\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.isHidden()) {\r\n                if (this.get(\"active\") && this.states.lookup(\"hoverActive\")) {\r\n                    this.states.applyAnimate(\"hoverActive\");\r\n                }\r\n                else if (this.get(\"disabled\") && this.states.lookup(\"hoverDisabled\")) {\r\n                    this.states.applyAnimate(\"hoverDisabled\");\r\n                }\r\n                else {\r\n                    this.states.applyAnimate(\"hover\");\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_handleOut\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.isHidden()) {\r\n                if (this.get(\"active\") && this.states.lookup(\"active\")) {\r\n                    this.states.applyAnimate(\"active\");\r\n                }\r\n                else if (this.get(\"disabled\") && this.states.lookup(\"disabled\")) {\r\n                    this.states.applyAnimate(\"disabled\");\r\n                }\r\n                else {\r\n                    if (this.states.lookup(\"hover\") || this.states.lookup(\"hoverActive\")) {\r\n                        this.states.applyAnimate(\"default\");\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_handleUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (e) {\r\n            if (!this.isHidden()) {\r\n                if (this.get(\"active\") && this.states.lookup(\"active\")) {\r\n                    this.states.applyAnimate(\"active\");\r\n                }\r\n                else if (this.get(\"disabled\") && this.states.lookup(\"disabled\")) {\r\n                    this.states.applyAnimate(\"disabled\");\r\n                }\r\n                else if (this.states.lookup(\"down\")) {\r\n                    if (this.isHover()) {\r\n                        this.states.applyAnimate(\"hover\");\r\n                    }\r\n                    else {\r\n                        this.states.applyAnimate(\"default\");\r\n                    }\r\n                }\r\n                // @todo remove this once migrated to _downPoints\r\n                this._downPoint = undefined;\r\n                var pointerId = $utils.getPointerId(e.originalEvent);\r\n                delete this._downPoints[pointerId];\r\n                if ($object.keys(this._downPoints).length == 0) {\r\n                    this._isDown = false;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_hasMoved\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (e) {\r\n            // @todo remove this once migrated to _downPoints\r\n            // if (this._downPoint) {\r\n            // \tconst x = Math.abs(this._downPoint.x - e.point.x);\r\n            // \tconst y = Math.abs(this._downPoint.y - e.point.y);\r\n            // \treturn (x > 5) || (y > 5);\r\n            // }\r\n            var pointerId = $utils.getPointerId(e.originalEvent);\r\n            var downPoint = this._downPoints[pointerId];\r\n            if (downPoint) {\r\n                var x = Math.abs(downPoint.x - e.point.x);\r\n                var y = Math.abs(downPoint.y - e.point.y);\r\n                return (x > 5) || (y > 5);\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_hasDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return $object.keys(this._downPoints).length > 0;\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_handleDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (e) {\r\n            var parent = this.parent;\r\n            if (parent && !this.get(\"draggable\")) {\r\n                parent._handleDown(e);\r\n            }\r\n            if (this.get(\"interactive\") && !this.isHidden()) {\r\n                if (this.states.lookup(\"down\")) {\r\n                    this.states.applyAnimate(\"down\");\r\n                }\r\n                this._downPoint = {\r\n                    x: e.point.x,\r\n                    y: e.point.y\r\n                };\r\n                // @todo remove this once migrated to _downPoints\r\n                this._isDown = true;\r\n                var pointerId = $utils.getPointerId(e.originalEvent);\r\n                this._downPoints[pointerId] = {\r\n                    x: e.point.x,\r\n                    y: e.point.y\r\n                };\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"dragMove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (e) {\r\n            var dragEvent = this._dragEvent;\r\n            if (dragEvent) {\r\n                var angle = 0;\r\n                var parent_3 = this.parent;\r\n                while (parent_3 != null) {\r\n                    angle += parent_3.get(\"rotation\", 0);\r\n                    parent_3 = parent_3.parent;\r\n                }\r\n                var x = e.point.x - dragEvent.point.x;\r\n                var y = e.point.y - dragEvent.point.y;\r\n                var events = this.events;\r\n                if (dragEvent.simulated && !this._isDragging) {\r\n                    this._isDragging = true;\r\n                    this._dragEvent = e;\r\n                    this._dragPoint = {\r\n                        x: this.x(),\r\n                        y: this.y()\r\n                    };\r\n                    var type = \"dragstart\";\r\n                    if (events.isEnabled(type)) {\r\n                        events.dispatch(type, {\r\n                            type: type,\r\n                            target: this,\r\n                            originalEvent: e.originalEvent,\r\n                            point: e.point,\r\n                            simulated: e.simulated,\r\n                        });\r\n                    }\r\n                }\r\n                if (this._isDragging) {\r\n                    var dragPoint = this._dragPoint;\r\n                    this.set(\"x\", dragPoint.x + x * $math.cos(angle) + y * $math.sin(angle));\r\n                    this.set(\"y\", dragPoint.y + y * $math.cos(angle) - x * $math.sin(angle));\r\n                    var type = \"dragged\";\r\n                    if (events.isEnabled(type)) {\r\n                        events.dispatch(type, {\r\n                            type: type,\r\n                            target: this,\r\n                            originalEvent: e.originalEvent,\r\n                            point: e.point,\r\n                            simulated: e.simulated,\r\n                        });\r\n                    }\r\n                }\r\n                else {\r\n                    if (Math.hypot(x, y) > 5) {\r\n                        this._isDragging = true;\r\n                        this._dragEvent = e;\r\n                        this._dragPoint = {\r\n                            x: this.x(),\r\n                            y: this.y()\r\n                        };\r\n                        var type = \"dragstart\";\r\n                        if (events.isEnabled(type)) {\r\n                            events.dispatch(type, {\r\n                                type: type,\r\n                                target: this,\r\n                                originalEvent: e.originalEvent,\r\n                                point: e.point,\r\n                                simulated: e.simulated\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_updateSize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_getBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._localBounds = this._display.getLocalBounds();\r\n        }\r\n    });\r\n    /**\r\n     * Returns depth (how deep in the hierachy of the content tree) of this\r\n     * element.\r\n     *\r\n     * @return Depth\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"depth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var self = this.parent;\r\n            var depth = 0;\r\n            while (true) {\r\n                if (self) {\r\n                    ++depth;\r\n                    self = self.parent;\r\n                }\r\n                else {\r\n                    return depth;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"markDirtySize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._sizeDirty = true;\r\n            this.markDirty();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"markDirtyBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var display = this._display;\r\n            if (this.get(\"isMeasured\")) {\r\n                this._root._addDirtyBounds(this);\r\n                display.isMeasured = true;\r\n                display.invalidateBounds();\r\n                var parent_4 = this.parent;\r\n                if (parent_4 && this.get(\"position\") != \"absolute\") {\r\n                    if (parent_4.get(\"width\") == null || parent_4.get(\"height\") == null || parent_4.get(\"layout\")) {\r\n                        parent_4.markDirtyBounds();\r\n                    }\r\n                }\r\n                if (this.get(\"focusable\") && this.isFocus()) {\r\n                    this.markDirtyAccessibility();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"markDirtyAccessibility\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            //if (this._root.focused(this)) {\r\n            this._root._invalidateAccessibility(this);\r\n            //}\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"markDirtyLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            //this._display.markDirtyLayer(this.isDirty(\"opacity\") || this.isDirty(\"visible\")); https://codepen.io/team/amcharts/pen/gOWZPmP <- problems\r\n            this._display.markDirtyLayer(true);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"markDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.markDirty.call(this);\r\n            this.markDirtyLayer();\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_updateBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var oldBounds = this._adjustedLocalBounds;\r\n            var newBounds;\r\n            // if display.visible == false, it still returns bounds\r\n            if (!this.get(\"visible\") || !this.getPrivate(\"visible\") || this.get(\"forceHidden\")) {\r\n                newBounds = {\r\n                    left: 0,\r\n                    right: 0,\r\n                    top: 0,\r\n                    bottom: 0\r\n                };\r\n                this._localBounds = newBounds;\r\n                this._adjustedLocalBounds = newBounds;\r\n            }\r\n            else {\r\n                this._getBounds();\r\n                this._fixMinBounds(this._localBounds);\r\n                this.updatePivotPoint();\r\n                this._adjustedLocalBounds = this._display.getAdjustedBounds(this._localBounds);\r\n                newBounds = this._adjustedLocalBounds;\r\n            }\r\n            if (!oldBounds || (oldBounds.left !== newBounds.left || oldBounds.top !== newBounds.top || oldBounds.right !== newBounds.right || oldBounds.bottom !== newBounds.bottom)) {\r\n                var eventType = \"boundschanged\";\r\n                if (this.events.isEnabled(eventType)) {\r\n                    this.events.dispatch(eventType, { type: eventType, target: this });\r\n                }\r\n                if (this.parent) {\r\n                    this.parent.markDirty();\r\n                    this.parent.markDirtyBounds();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_fixMinBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            var minWidth = this.get(\"minWidth\", this.getPrivate(\"minWidth\"));\r\n            var minHeight = this.get(\"minHeight\", this.getPrivate(\"minHeight\"));\r\n            if ($type.isNumber(minWidth)) {\r\n                if (bounds.right - bounds.left < minWidth) {\r\n                    bounds.right = bounds.left + minWidth;\r\n                }\r\n            }\r\n            if ($type.isNumber(minHeight)) {\r\n                if (bounds.bottom - bounds.top < minHeight) {\r\n                    bounds.bottom = bounds.top + minHeight;\r\n                }\r\n            }\r\n            var privateWidth = this.getPrivate(\"width\");\r\n            var privateHeight = this.getPrivate(\"height\");\r\n            if ($type.isNumber(privateWidth)) {\r\n                bounds.right = bounds.left + privateWidth;\r\n            }\r\n            if ($type.isNumber(privateHeight)) {\r\n                bounds.bottom = bounds.top + privateHeight;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_removeParent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parent) {\r\n            if (parent) {\r\n                parent.children.removeValue(this);\r\n                $array.removeFirst(parent._percentageSizeChildren, this);\r\n                $array.removeFirst(parent._percentagePositionChildren, this);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._clearDirty.call(this);\r\n            this._sizeDirty = false;\r\n            this._statesHandled = false;\r\n        }\r\n    });\r\n    /**\r\n     * Simulate hover over element.\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"hover\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.showTooltip();\r\n            this._handleOver();\r\n        }\r\n    });\r\n    /**\r\n     * Simulate unhover over element.\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"unhover\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.hideTooltip();\r\n            this._handleOut();\r\n        }\r\n    });\r\n    /**\r\n     * Shows element's [[Tooltip]].\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"showTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            var tooltip = this.getTooltip();\r\n            var tooltipText = this.get(\"tooltipText\");\r\n            var tooltipHTML = this.get(\"tooltipHTML\");\r\n            if ((tooltipText || tooltipHTML) && tooltip) {\r\n                var tooltipPosition = this.get(\"tooltipPosition\");\r\n                var tooltipTarget = this.getPrivate(\"tooltipTarget\", this);\r\n                if (tooltipPosition == \"fixed\" || !point) {\r\n                    this._display._setMatrix();\r\n                    point = this.toGlobal(tooltipTarget._getTooltipPoint());\r\n                }\r\n                tooltip.set(\"pointTo\", point);\r\n                tooltip.set(\"tooltipTarget\", tooltipTarget);\r\n                if (!tooltip.get(\"x\")) {\r\n                    tooltip.set(\"x\", point.x);\r\n                }\r\n                if (!tooltip.get(\"y\")) {\r\n                    tooltip.set(\"y\", point.y);\r\n                }\r\n                if (tooltipText) {\r\n                    tooltip.label.set(\"text\", tooltipText);\r\n                }\r\n                if (tooltipHTML) {\r\n                    tooltip.label.set(\"html\", tooltipHTML);\r\n                }\r\n                var dataItem = this.dataItem;\r\n                if (dataItem) {\r\n                    tooltip.label._setDataItem(dataItem);\r\n                }\r\n                if (this.get(\"showTooltipOn\") == \"always\" && (point.x < 0 || point.x > this._root.width() || point.y < 0 || point.y > this._root.height())) {\r\n                    this.hideTooltip();\r\n                    return;\r\n                }\r\n                tooltip.label.text.markDirtyText();\r\n                var promise = tooltip.show();\r\n                this.setPrivateRaw(\"showingTooltip\", true);\r\n                return promise;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Hides element's [[Tooltip]].\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"hideTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var tooltip = this.getTooltip();\r\n            if (tooltip) {\r\n                var timeout = tooltip.get(\"keepTargetHover\") && tooltip.get(\"stateAnimationDuration\", 0) == 0 ? 400 : undefined;\r\n                var promise = tooltip.hide(timeout);\r\n                this.setPrivateRaw(\"showingTooltip\", false);\r\n                return promise;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_getTooltipPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var bounds = this._localBounds;\r\n            if (bounds) {\r\n                var x = 0;\r\n                var y = 0;\r\n                if (!this.get(\"isMeasured\")) {\r\n                    x = $utils.relativeToValue(this.get(\"tooltipX\", 0), this.width());\r\n                    y = $utils.relativeToValue(this.get(\"tooltipY\", 0), this.height());\r\n                }\r\n                else {\r\n                    x = bounds.left + $utils.relativeToValue(this.get(\"tooltipX\", 0), bounds.right - bounds.left);\r\n                    y = bounds.top + $utils.relativeToValue(this.get(\"tooltipY\", 0), bounds.bottom - bounds.top);\r\n                }\r\n                return { x: x, y: y };\r\n            }\r\n            return { x: 0, y: 0 };\r\n        }\r\n    });\r\n    /**\r\n     * Returns [[Tooltip]] used for this element.\r\n     *\r\n     * @return Tooltip\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"getTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var tooltip = this.get(\"tooltip\");\r\n            if (!tooltip) {\r\n                var parent_5 = this.parent;\r\n                if (parent_5) {\r\n                    return parent_5.getTooltip();\r\n                }\r\n            }\r\n            else {\r\n                return tooltip;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_updatePosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var parent = this.parent;\r\n            var dx = this.get(\"dx\", 0);\r\n            var dy = this.get(\"dy\", 0);\r\n            var x = this.get(\"x\");\r\n            var _x = this.getPrivate(\"x\");\r\n            var xx = 0;\r\n            var yy = 0;\r\n            var position = this.get(\"position\");\r\n            if (x instanceof Percent) {\r\n                if (parent) {\r\n                    x = parent.innerWidth() * x.value + parent.get(\"paddingLeft\", 0);\r\n                }\r\n                else {\r\n                    x = 0;\r\n                }\r\n            }\r\n            if ($type.isNumber(x)) {\r\n                xx = x + dx;\r\n            }\r\n            else {\r\n                if (_x != null) {\r\n                    xx = _x;\r\n                }\r\n                else if (parent) {\r\n                    if (position == \"relative\") {\r\n                        xx = parent.get(\"paddingLeft\", 0) + dx;\r\n                    }\r\n                }\r\n            }\r\n            var y = this.get(\"y\");\r\n            var _y = this.getPrivate(\"y\");\r\n            if (y instanceof Percent) {\r\n                if (parent) {\r\n                    y = parent.innerHeight() * y.value + parent.get(\"paddingTop\", 0);\r\n                }\r\n                else {\r\n                    y = 0;\r\n                }\r\n            }\r\n            if ($type.isNumber(y)) {\r\n                yy = y + dy;\r\n            }\r\n            else {\r\n                if (_y != null) {\r\n                    yy = _y;\r\n                }\r\n                else if (parent) {\r\n                    if (position == \"relative\") {\r\n                        yy = parent.get(\"paddingTop\", 0) + dy;\r\n                    }\r\n                }\r\n            }\r\n            var display = this._display;\r\n            if (display.x != xx || display.y != yy) {\r\n                display.invalidateBounds();\r\n                display.x = xx;\r\n                display.y = yy;\r\n                var eventType = \"positionchanged\";\r\n                if (this.events.isEnabled(eventType)) {\r\n                    this.events.dispatch(eventType, { type: eventType, target: this });\r\n                }\r\n            }\r\n            // Update tooltip position together with the Sprite\r\n            if (this.getPrivate(\"showingTooltip\")) {\r\n                this.showTooltip();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns element's actual X position in pixels.\r\n     *\r\n     * @return X (px)\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"x\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var x = this.get(\"x\");\r\n            var _x = this.getPrivate(\"x\");\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                if (x instanceof Percent) {\r\n                    return $utils.relativeToValue(x, parent.innerWidth()) + parent.get(\"paddingLeft\", 0);\r\n                }\r\n                else {\r\n                    if (!$type.isNumber(x)) {\r\n                        if (_x != null) {\r\n                            return _x;\r\n                        }\r\n                        else {\r\n                            return parent.get(\"paddingLeft\", this._display.x);\r\n                        }\r\n                    }\r\n                    else {\r\n                        return x;\r\n                    }\r\n                }\r\n            }\r\n            return this._display.x;\r\n        }\r\n    });\r\n    /**\r\n     * Returns element's actual Y position in pixels.\r\n     *\r\n     * @return Y (px)\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"y\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _y = this.getPrivate(\"y\");\r\n            if (_y != null) {\r\n                return _y;\r\n            }\r\n            var y = this.get(\"y\");\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                if (y instanceof Percent) {\r\n                    return $utils.relativeToValue(y, parent.innerHeight()) + parent.get(\"paddingTop\", 0);\r\n                }\r\n                else {\r\n                    if (!$type.isNumber(y)) {\r\n                        if (_y != null) {\r\n                            return _y;\r\n                        }\r\n                        else {\r\n                            return parent.get(\"paddingTop\", this._display.y);\r\n                        }\r\n                    }\r\n                    else {\r\n                        return y;\r\n                    }\r\n                }\r\n            }\r\n            return this._display.y;\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._dispose.call(this);\r\n            this._display.dispose();\r\n            this._removeTemplateField();\r\n            this._removeParent(this.parent);\r\n            this._root._removeFocusElement(this);\r\n            var tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                tooltip.dispose();\r\n            }\r\n            this.markDirty();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"adjustedLocalBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._fixMinBounds(this._adjustedLocalBounds);\r\n            return this._adjustedLocalBounds;\r\n        }\r\n    });\r\n    /**\r\n     * Returns local coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"localBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._localBounds;\r\n        }\r\n    });\r\n    /**\r\n     * Returns adjusted local coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"bounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var bounds = this._adjustedLocalBounds;\r\n            var x = this.x();\r\n            var y = this.y();\r\n            return { left: bounds.left + x, right: bounds.right + x, top: bounds.top + y, bottom: bounds.bottom + y };\r\n        }\r\n    });\r\n    /**\r\n     * Returns global coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"globalBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var bounds = this.localBounds();\r\n            var p0 = this.toGlobal({ x: bounds.left, y: bounds.top });\r\n            var p1 = this.toGlobal({ x: bounds.right, y: bounds.top });\r\n            var p2 = this.toGlobal({ x: bounds.right, y: bounds.bottom });\r\n            var p3 = this.toGlobal({ x: bounds.left, y: bounds.bottom });\r\n            return {\r\n                left: Math.min(p0.x, p1.x, p2.x, p3.x),\r\n                top: Math.min(p0.y, p1.y, p2.y, p3.y),\r\n                right: Math.max(p0.x, p1.x, p2.x, p3.x),\r\n                bottom: Math.max(p0.y, p1.y, p2.y, p3.y)\r\n            };\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_onShow\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_duration) {\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_onHide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_duration) {\r\n        }\r\n    });\r\n    /**\r\n     * Plays initial reveal animation regardless if element is currently hidden\r\n     * or visible.\r\n     *\r\n     * @param   duration  Duration of the animation in milliseconds\r\n     * @param   delay     Delay showing of the element by X milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"appear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration, delay) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, this.hide(0)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (delay) {\r\n                                return [2 /*return*/, new Promise(function (success, _error) {\r\n                                        _this.setTimeout(function () {\r\n                                            success(_this.show(duration));\r\n                                        }, delay);\r\n                                    })];\r\n                            }\r\n                            else {\r\n                                return [2 /*return*/, this.show(duration)];\r\n                            }\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Shows currently hidden element and returns a `Promise` which completes\r\n     * when all showing animations are finished.\r\n     *\r\n     * ```TypeScript\r\n     * series.show().then(function(ev) {\r\n     *   console.log(\"Series is now fully visible\");\r\n     * })\r\n     * ```\r\n     * ```JavaScript\r\n     * series.show().then(function(ev) {\r\n     *   console.log(\"Series is now fully visible\");\r\n     * })\r\n     * ```\r\n     *\r\n     * @return Promise\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"show\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var animations;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!!this._isShowing) return [3 /*break*/, 2];\r\n                            this._isHidden = false;\r\n                            this._isShowing = true;\r\n                            this._isHiding = false;\r\n                            if (this.states.lookup(\"default\").get(\"visible\")) {\r\n                                this.set(\"visible\", true);\r\n                            }\r\n                            this._onShow(duration);\r\n                            animations = this.states.applyAnimate(\"default\", duration);\r\n                            return [4 /*yield*/, waitForAnimations(animations)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this._isShowing = false;\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Hides the element and returns a `Promise` which completes when all hiding\r\n     * animations are finished.\r\n     *\r\n     * ```TypeScript\r\n     * series.hide().then(function(ev) {\r\n     *   console.log(\"Series finished hiding\");\r\n     * })\r\n     * ```\r\n     * ```JavaScript\r\n     * series.hide().then(function(ev) {\r\n     *   console.log(\"Series finished hiding\");\r\n     * })\r\n     * ```\r\n     *\r\n     * @return Promise\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"hide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var state, animations;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!(!this._isHiding && !this._isHidden)) return [3 /*break*/, 2];\r\n                            this._isHiding = true;\r\n                            this._isShowing = false;\r\n                            state = this.states.lookup(\"hidden\");\r\n                            if (!state) {\r\n                                state = this.states.create(\"hidden\", {\r\n                                    \"opacity\": 0,\r\n                                    \"visible\": false\r\n                                });\r\n                            }\r\n                            this._isHidden = true;\r\n                            this._onHide(duration);\r\n                            animations = this.states.applyAnimate(\"hidden\", duration);\r\n                            return [4 /*yield*/, waitForAnimations(animations)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this._isHiding = false;\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if this element is currently hidden.\r\n     *\r\n     * @return Is hidden?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isHidden\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._isHidden;\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if this element is currently animating to a default state.\r\n     *\r\n     * @return Is showing?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isShowing\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._isShowing;\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if this element is currently animating to a hidden state.\r\n     *\r\n     * @return Is hiding?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isHiding\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._isHiding;\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if this element is currently hovered by a pointer.\r\n     *\r\n     * @return Is hovered?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isHover\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._display.hovering();\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if this element does currently have focus.\r\n     *\r\n     * @return Is focused?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isFocus\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._root.focused(this);\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if this element is currently being dragged.\r\n     *\r\n     * @return Is dragged?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isDragging\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._isDragging;\r\n        }\r\n    });\r\n    /**\r\n     * Returns `false` if if either public or private setting `visible` is set\r\n     * to `false`, or `forceHidden` is set to `true`.\r\n     *\r\n     * @return Visible?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isVisible\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.get(\"visible\") && this.getPrivate(\"visible\") && !this.get(\"forceHidden\")) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    /**\r\n     * Same as `isVisible()`, except it checks all ascendants, too.\r\n     *\r\n     * @since 5.2.7\r\n     * @return Visible?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isVisibleDeep\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._parent ? (this._parent.isVisibleDeep() && this.isVisible()) : this.isVisible();\r\n        }\r\n    });\r\n    /**\r\n     * Returns an actual opacity of the element, taking into account all parents.\r\n     *\r\n     * @return Opacity\r\n     * @since 5.2.11\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"compositeOpacity\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var opacity = this.get(\"opacity\", 1);\r\n            return this._parent ? (this._parent.compositeOpacity() * opacity) : opacity;\r\n        }\r\n    });\r\n    /**\r\n     * Returns width of this element in pixels.\r\n     *\r\n     * @return Width (px)\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"width\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var width = this.get(\"width\");\r\n            var maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n            var minWidth = this.get(\"minWidth\", this.getPrivate(\"minWidth\"));\r\n            var privateWidth = this.getPrivate(\"width\");\r\n            var w = 0;\r\n            if ($type.isNumber(privateWidth)) {\r\n                w = privateWidth;\r\n            }\r\n            else {\r\n                if (width == null) {\r\n                    if (this._adjustedLocalBounds) {\r\n                        w = this._adjustedLocalBounds.right - this._adjustedLocalBounds.left;\r\n                    }\r\n                }\r\n                else {\r\n                    if (width instanceof Percent) {\r\n                        var parent_6 = this.parent;\r\n                        if (parent_6) {\r\n                            w = parent_6.innerWidth() * width.value;\r\n                        }\r\n                        else {\r\n                            w = this._root.width() * width.value;\r\n                        }\r\n                    }\r\n                    else if ($type.isNumber(width)) {\r\n                        w = width;\r\n                    }\r\n                }\r\n            }\r\n            if ($type.isNumber(minWidth)) {\r\n                w = Math.max(minWidth, w);\r\n            }\r\n            if ($type.isNumber(maxWidth)) {\r\n                w = Math.min(maxWidth, w);\r\n            }\r\n            return w;\r\n        }\r\n    });\r\n    /**\r\n     * Returns maximum allowed width of this element in pixels.\r\n     *\r\n     * @return Maximum width (px)\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"maxWidth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n            if ($type.isNumber(maxWidth)) {\r\n                return maxWidth;\r\n            }\r\n            else {\r\n                var width = this.get(\"width\");\r\n                if ($type.isNumber(width)) {\r\n                    return width;\r\n                }\r\n            }\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                return parent.innerWidth();\r\n            }\r\n            return this._root.width();\r\n        }\r\n    });\r\n    /**\r\n     * Returns maximum allowed height of this element in pixels.\r\n     *\r\n     * @return Maximum height (px)\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"maxHeight\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n            if ($type.isNumber(maxHeight)) {\r\n                return maxHeight;\r\n            }\r\n            else {\r\n                var height = this.get(\"height\");\r\n                if ($type.isNumber(height)) {\r\n                    return height;\r\n                }\r\n            }\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                return parent.innerHeight();\r\n            }\r\n            return this._root.height();\r\n        }\r\n    });\r\n    /**\r\n     * Returns height of this element in pixels.\r\n     *\r\n     * @return Height (px)\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"height\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var height = this.get(\"height\");\r\n            var maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n            var minHeight = this.get(\"minHeight\", this.getPrivate(\"minHeight\"));\r\n            var privateHeight = this.getPrivate(\"height\");\r\n            var h = 0;\r\n            if ($type.isNumber(privateHeight)) {\r\n                h = privateHeight;\r\n            }\r\n            else {\r\n                if (height == null) {\r\n                    if (this._adjustedLocalBounds) {\r\n                        h = this._adjustedLocalBounds.bottom - this._adjustedLocalBounds.top;\r\n                    }\r\n                }\r\n                else {\r\n                    if (height instanceof Percent) {\r\n                        var parent_7 = this.parent;\r\n                        if (parent_7) {\r\n                            h = parent_7.innerHeight() * height.value;\r\n                        }\r\n                        else {\r\n                            h = this._root.height() * height.value;\r\n                        }\r\n                    }\r\n                    else if ($type.isNumber(height)) {\r\n                        h = height;\r\n                    }\r\n                }\r\n            }\r\n            if ($type.isNumber(minHeight)) {\r\n                h = Math.max(minHeight, h);\r\n            }\r\n            if ($type.isNumber(maxHeight)) {\r\n                h = Math.min(maxHeight, h);\r\n            }\r\n            return h;\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_findStaticTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            // templateField overrides template\r\n            if (this._templateField && f(this._templateField)) {\r\n                return this._templateField;\r\n            }\r\n            return _super.prototype._findStaticTemplate.call(this, f);\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_walkParents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            if (this._parent) {\r\n                this._walkParent(f);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_walkParent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            if (this._parent) {\r\n                this._parent._walkParent(f);\r\n            }\r\n            f(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"parent\", {\r\n        /**\r\n         * Parent [[Container]] of this element.\r\n         *\r\n         * @return Parent container\r\n         */\r\n        get: function () {\r\n            return this._parent;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_setParent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parent, updateChildren) {\r\n            if (updateChildren === void 0) { updateChildren = false; }\r\n            var prevParent = this._parent;\r\n            if (parent !== prevParent) {\r\n                this.markDirtyBounds();\r\n                parent.markDirty();\r\n                this._parent = parent;\r\n                if (updateChildren) {\r\n                    this._removeParent(prevParent);\r\n                    if (parent) {\r\n                        this._addPercentageSizeChildren();\r\n                        this._addPercentagePositionChildren();\r\n                    }\r\n                }\r\n                this.markDirtyPosition();\r\n                this._applyThemes();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns an instance of [[NumberFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return NumberFormatter instace\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"getNumberFormatter\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.get(\"numberFormatter\", this._root.numberFormatter);\r\n        }\r\n    });\r\n    /**\r\n     * Returns an instance of [[DateFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return DateFormatter instace\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"getDateFormatter\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.get(\"dateFormatter\", this._root.dateFormatter);\r\n        }\r\n    });\r\n    /**\r\n     * Returns an instance of [[DurationFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return DurationFormatter instace\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"getDurationFormatter\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.get(\"durationFormatter\", this._root.durationFormatter);\r\n        }\r\n    });\r\n    /**\r\n     * Converts X/Y coordinate within this element to a global coordinate.\r\n     *\r\n     * @param  point  Local coordinate\r\n     * @return        Global coordinate\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"toGlobal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return this._display.toGlobal(point);\r\n        }\r\n    });\r\n    /**\r\n     * Converts global X/Y coordinate to a coordinate within this element.\r\n     *\r\n     * @param  point  Global coordinate\r\n     * @return        Local coordinate\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"toLocal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return this._display.toLocal(point);\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_getDownPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var id = this._getDownPointId();\r\n            if (id) {\r\n                return this._downPoints[id];\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_getDownPointId\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._downPoints) {\r\n                return $object.keysOrdered(this._downPoints, function (a, b) {\r\n                    if (a > b) {\r\n                        return 1;\r\n                    }\r\n                    if (a < b) {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                })[0];\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Moves sprite to the end of the parent's children array.\r\n     *\r\n     * Depending on `layout` setting of the parten container, it may effect the\r\n     * positioning or overlapping order of the elements.\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"toFront\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                parent.children.moveValue(this, parent.children.length - 1);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Moves sprite to the beginning of the parent's children array.\r\n     *\r\n     * Depending on `layout` setting of the parten container, it may effect the\r\n     * positioning or overlapping order of the elements.\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"toBack\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                parent.children.moveValue(this, 0);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Sprite\"\r\n    });\r\n    Object.defineProperty(Sprite, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Entity.classNames.concat([Sprite.className])\r\n    });\r\n    return Sprite;\r\n}(Entity));\r\nexport { Sprite };\r\n//# sourceMappingURL=Sprite.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"../../util/Entity\";\r\n/**\r\n * Base class for patterns.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more info\r\n */\r\nvar Pattern = /** @class */ (function (_super) {\r\n    __extends(Pattern, _super);\r\n    function Pattern() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(_this, \"_backgroundDisplay\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(_this, \"_clear\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_pattern\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Pattern.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // Applying themes because pattern will not have parent\r\n            _super.prototype._afterNewApplyThemes.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"pattern\", {\r\n        get: function () {\r\n            return this._pattern;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"_draw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"repetition\") || this.isDirty(\"width\") || this.isDirty(\"height\") || this.isDirty(\"rotation\") || this.isDirty(\"color\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"strokeDasharray\") || this.isDirty(\"strokeDashoffset\") || this.isDirty(\"colorOpacity\") || this.isDirty(\"fill\") || this.isDirty(\"fillOpacity\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Pattern.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this._clear) {\r\n                var repetition = this.get(\"repetition\", \"\");\r\n                var width = this.get(\"width\", 100);\r\n                var height = this.get(\"height\", 100);\r\n                var fill = this.get(\"fill\");\r\n                var fillOpacity = this.get(\"fillOpacity\", 1);\r\n                this._display.clear();\r\n                this._backgroundDisplay.clear();\r\n                if (fill && (fillOpacity > 0)) {\r\n                    this._backgroundDisplay.beginFill(fill, fillOpacity);\r\n                    this._backgroundDisplay.drawRect(0, 0, width, height);\r\n                    this._backgroundDisplay.endFill();\r\n                }\r\n                this._display.angle = this.get(\"rotation\", 0);\r\n                //this._display.pivot = { x: width / 2, y: height / 2 };\r\n                this._draw();\r\n                this._pattern = this._root._renderer.createPattern(this._display, this._backgroundDisplay, repetition, width, height);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Pattern, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Pattern\"\r\n    });\r\n    Object.defineProperty(Pattern, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Entity.classNames.concat([Pattern.className])\r\n    });\r\n    return Pattern;\r\n}(Entity));\r\nexport { Pattern };\r\n//# sourceMappingURL=Pattern.js.map","import { __extends } from \"tslib\";\r\nimport { Pattern } from \"./Pattern\";\r\n/**\r\n * Picture pattern.\r\n *\r\n * @since 5.2.15\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more info\r\n */\r\nvar PicturePattern = /** @class */ (function (_super) {\r\n    __extends(PicturePattern, _super);\r\n    function PicturePattern() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(PicturePattern.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            this._clear = true;\r\n            if (this.isDirty(\"src\")) {\r\n                this._load();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PicturePattern.prototype, \"_draw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._draw.call(this);\r\n            var image = this._image;\r\n            if (image) {\r\n                var patternWidth = this.get(\"width\", 100);\r\n                var patternHeight = this.get(\"height\", 100);\r\n                // Fit\r\n                var fit = this.get(\"fit\", \"image\");\r\n                var width = 0;\r\n                var height = 0;\r\n                if (fit == \"pattern\") {\r\n                    width = patternWidth;\r\n                    height = patternHeight;\r\n                }\r\n                else {\r\n                    width = image.width;\r\n                    height = image.height;\r\n                    if (fit == \"image\") {\r\n                        this.set(\"width\", width);\r\n                        this.set(\"height\", height);\r\n                    }\r\n                }\r\n                // Position\r\n                var centered = this.get(\"centered\", true);\r\n                var x = 0;\r\n                var y = 0;\r\n                if (centered) {\r\n                    x = patternWidth / 2 - width / 2;\r\n                    y = patternHeight / 2 - height / 2;\r\n                }\r\n                this._display.image(image, width, height, x, y);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PicturePattern.prototype, \"_load\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var src = this.get(\"src\");\r\n            if (src) {\r\n                var image_1 = new Image();\r\n                //image.crossOrigin = \"Anonymous\";\r\n                image_1.src = src;\r\n                image_1.decode().then(function () {\r\n                    _this._image = image_1;\r\n                    _this._draw();\r\n                    if (_this.events.isEnabled(\"loaded\")) {\r\n                        _this.events.dispatch(\"loaded\", { type: \"loaded\", target: _this });\r\n                    }\r\n                }).catch(function (_error) {\r\n                    // TODO: maybe raise error?\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PicturePattern, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"PicturePattern\"\r\n    });\r\n    Object.defineProperty(PicturePattern, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Pattern.classNames.concat([PicturePattern.className])\r\n    });\r\n    return PicturePattern;\r\n}(Pattern));\r\nexport { PicturePattern };\r\n//# sourceMappingURL=PicturePattern.js.map","import { __extends } from \"tslib\";\r\nimport { PicturePattern } from \"../render/patterns/PicturePattern\";\r\nimport { Sprite } from \"./Sprite\";\r\nimport { BlendMode } from \"./backend/Renderer\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $array from \"../util/Array\";\r\nexport var visualSettings = [\"fill\", \"fillOpacity\", \"stroke\", \"strokeWidth\", \"strokeOpacity\", \"fillPattern\", \"strokePattern\", \"fillGradient\", \"strokeGradient\", \"strokeDasharray\", \"strokeDashoffset\"];\r\n/**\r\n * Base class used for drawing shapes.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nvar Graphics = /** @class */ (function (_super) {\r\n    __extends(Graphics, _super);\r\n    function Graphics() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(_this, \"_clear\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Graphics.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"draw\") || this.isDirty(\"svgPath\")) {\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"fill\") || this.isDirty(\"stroke\") || this.isDirty(\"visible\") || this.isDirty(\"forceHidden\") || this.isDirty(\"fillGradient\") || this.isDirty(\"strokeGradient\") || this.isDirty(\"fillPattern\") || this.isDirty(\"strokePattern\") || this.isDirty(\"fillOpacity\") || this.isDirty(\"strokeOpacity\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"draw\") || this.isDirty(\"blendMode\") || this.isDirty(\"strokeDasharray\") || this.isDirty(\"strokeDashoffset\") || this.isDirty(\"svgPath\") || this.isDirty(\"lineJoin\") || this.isDirty(\"shadowColor\") || this.isDirty(\"shadowBlur\") || this.isDirty(\"shadowOffsetX\") || this.isDirty(\"shadowOffsetY\")) {\r\n                this._clear = true;\r\n            }\r\n            if (this.isDirty(\"fillGradient\")) {\r\n                var gradient = this.get(\"fillGradient\");\r\n                if (gradient) {\r\n                    this._display.isMeasured = true;\r\n                    var gradientTarget = gradient.get(\"target\");\r\n                    if (gradientTarget) {\r\n                        this._disposers.push(gradientTarget.events.on(\"boundschanged\", function () {\r\n                            _this._markDirtyKey(\"fill\");\r\n                        }));\r\n                        this._disposers.push(gradientTarget.events.on(\"positionchanged\", function () {\r\n                            _this._markDirtyKey(\"fill\");\r\n                        }));\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"strokeGradient\")) {\r\n                var gradient = this.get(\"strokeGradient\");\r\n                if (gradient) {\r\n                    this._display.isMeasured = true;\r\n                    var gradientTarget = gradient.get(\"target\");\r\n                    if (gradientTarget) {\r\n                        this._disposers.push(gradientTarget.events.on(\"boundschanged\", function () {\r\n                            _this._markDirtyKey(\"stroke\");\r\n                        }));\r\n                        this._disposers.push(gradientTarget.events.on(\"positionchanged\", function () {\r\n                            _this._markDirtyKey(\"stroke\");\r\n                        }));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Graphics.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this._clear) {\r\n                this.markDirtyBounds();\r\n                this.markDirtyLayer();\r\n                this._display.clear();\r\n                var strokeDasharray = this.get(\"strokeDasharray\");\r\n                if ($type.isNumber(strokeDasharray)) {\r\n                    if (strokeDasharray < 0.5) {\r\n                        strokeDasharray = [0];\r\n                    }\r\n                    else {\r\n                        strokeDasharray = [strokeDasharray];\r\n                    }\r\n                }\r\n                this._display.setLineDash(strokeDasharray);\r\n                var strokeDashoffset = this.get(\"strokeDashoffset\");\r\n                if (strokeDashoffset) {\r\n                    this._display.setLineDashOffset(strokeDashoffset);\r\n                }\r\n                var blendMode = this.get(\"blendMode\", BlendMode.NORMAL);\r\n                this._display.blendMode = blendMode;\r\n                var draw = this.get(\"draw\");\r\n                if (draw) {\r\n                    draw(this._display, this);\r\n                }\r\n                var svgPath = this.get(\"svgPath\");\r\n                if (svgPath != null) {\r\n                    this._display.svgPath(svgPath);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Graphics.prototype, \"_afterChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._afterChanged.call(this);\r\n            if (this._clear) {\r\n                var fill_1 = this.get(\"fill\");\r\n                var fillGradient = this.get(\"fillGradient\");\r\n                var fillPattern = this.get(\"fillPattern\");\r\n                var fillOpacity_1 = this.get(\"fillOpacity\");\r\n                var stroke_1 = this.get(\"stroke\");\r\n                var strokeGradient = this.get(\"strokeGradient\");\r\n                var strokePattern = this.get(\"strokePattern\");\r\n                var shadowColor = this.get(\"shadowColor\");\r\n                var shadowBlur = this.get(\"shadowBlur\");\r\n                var shadowOffsetX = this.get(\"shadowOffsetX\");\r\n                var shadowOffsetY = this.get(\"shadowOffsetY\");\r\n                var shadowOpacity = this.get(\"shadowOpacity\");\r\n                //const bounds = this._display.getLocalBounds();\r\n                if (shadowColor && (shadowBlur || shadowOffsetX || shadowOffsetY)) {\r\n                    this._display.shadow(shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY, shadowOpacity);\r\n                }\r\n                if (fillPattern) {\r\n                    var changed = false;\r\n                    if (fill_1 && (!fillPattern.get(\"fill\") || fillPattern.get(\"fillInherited\"))) {\r\n                        fillPattern.set(\"fill\", fill_1);\r\n                        fillPattern.set(\"fillInherited\", true);\r\n                        changed = true;\r\n                    }\r\n                    if (stroke_1 && (!fillPattern.get(\"color\") || fillPattern.get(\"colorInherited\"))) {\r\n                        fillPattern.set(\"color\", stroke_1);\r\n                        fillPattern.set(\"colorInherited\", true);\r\n                        changed = true;\r\n                    }\r\n                    if (changed) {\r\n                        // @todo: is this OK?\r\n                        fillPattern._changed();\r\n                    }\r\n                    var pattern = fillPattern.pattern;\r\n                    if (pattern) {\r\n                        this._display.beginFill(pattern, fillOpacity_1);\r\n                        this._display.endFill();\r\n                        if (fillPattern instanceof PicturePattern) {\r\n                            fillPattern.events.once(\"loaded\", function () {\r\n                                _this._clear = true;\r\n                                _this.markDirty();\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                else if (fillGradient) {\r\n                    if (fill_1) {\r\n                        var stops = fillGradient.get(\"stops\", []);\r\n                        if (stops.length) {\r\n                            $array.each(stops, function (stop) {\r\n                                if ((!stop.color || stop.colorInherited) && fill_1) {\r\n                                    stop.color = fill_1;\r\n                                    stop.colorInherited = true;\r\n                                }\r\n                                if (stop.opacity == null || stop.opacityInherited) {\r\n                                    stop.opacity = fillOpacity_1;\r\n                                    stop.opacityInherited = true;\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    var gradient = fillGradient.getFill(this);\r\n                    if (gradient) {\r\n                        this._display.beginFill(gradient, fillOpacity_1);\r\n                        this._display.endFill();\r\n                    }\r\n                }\r\n                else if (fill_1) {\r\n                    this._display.beginFill(fill_1, fillOpacity_1);\r\n                    this._display.endFill();\r\n                }\r\n                if (stroke_1 || strokeGradient || strokePattern) {\r\n                    var strokeOpacity_1 = this.get(\"strokeOpacity\");\r\n                    var strokeWidth = this.get(\"strokeWidth\", 1);\r\n                    var lineJoin = this.get(\"lineJoin\");\r\n                    if (strokePattern) {\r\n                        var changed = false;\r\n                        if (stroke_1 && (!strokePattern.get(\"color\") || strokePattern.get(\"colorInherited\"))) {\r\n                            strokePattern.set(\"color\", stroke_1);\r\n                            strokePattern.set(\"colorInherited\", true);\r\n                            changed = true;\r\n                        }\r\n                        if (changed) {\r\n                            // @todo: is this OK?\r\n                            strokePattern._changed();\r\n                        }\r\n                        var pattern = strokePattern.pattern;\r\n                        if (pattern) {\r\n                            this._display.lineStyle(strokeWidth, pattern, strokeOpacity_1, lineJoin);\r\n                            this._display.endStroke();\r\n                            if (strokePattern instanceof PicturePattern) {\r\n                                strokePattern.events.once(\"loaded\", function () {\r\n                                    _this._clear = true;\r\n                                    _this.markDirty();\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (strokeGradient) {\r\n                        var stops = strokeGradient.get(\"stops\", []);\r\n                        if (stops.length) {\r\n                            $array.each(stops, function (stop) {\r\n                                if ((!stop.color || stop.colorInherited) && stroke_1) {\r\n                                    stop.color = stroke_1;\r\n                                    stop.colorInherited = true;\r\n                                }\r\n                                if (stop.opacity == null || stop.opacityInherited) {\r\n                                    stop.opacity = strokeOpacity_1;\r\n                                    stop.opacityInherited = true;\r\n                                }\r\n                            });\r\n                        }\r\n                        var gradient = strokeGradient.getFill(this);\r\n                        if (gradient) {\r\n                            this._display.lineStyle(strokeWidth, gradient, strokeOpacity_1, lineJoin);\r\n                            this._display.endStroke();\r\n                        }\r\n                    }\r\n                    else if (stroke_1) {\r\n                        this._display.lineStyle(strokeWidth, stroke_1, strokeOpacity_1, lineJoin);\r\n                        this._display.endStroke();\r\n                    }\r\n                }\r\n            }\r\n            this._clear = false;\r\n        }\r\n    });\r\n    Object.defineProperty(Graphics, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Graphics\"\r\n    });\r\n    Object.defineProperty(Graphics, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Sprite.classNames.concat([Graphics.className])\r\n    });\r\n    return Graphics;\r\n}(Sprite));\r\nexport { Graphics };\r\n//# sourceMappingURL=Graphics.js.map","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"./Graphics\";\r\n/**\r\n * Draws a rectangle.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nvar Rectangle = /** @class */ (function (_super) {\r\n    __extends(Rectangle, _super);\r\n    function Rectangle() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Rectangle.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"width\") || this.isDirty(\"height\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this._clear && !this.get(\"draw\")) {\r\n                this._draw();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"_draw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._display.drawRect(0, 0, this.width(), this.height());\r\n        }\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"_updateSize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.markDirty();\r\n            this._clear = true;\r\n        }\r\n    });\r\n    Object.defineProperty(Rectangle, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Rectangle\"\r\n    });\r\n    Object.defineProperty(Rectangle, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([Rectangle.className])\r\n    });\r\n    return Rectangle;\r\n}(Graphics));\r\nexport { Rectangle };\r\n//# sourceMappingURL=Rectangle.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"../util/Entity\";\r\nexport function eachChildren(container, f) {\r\n    if (container.get(\"reverseChildren\", false)) {\r\n        container.children.eachReverse(f);\r\n    }\r\n    else {\r\n        container.children.each(f);\r\n    }\r\n}\r\n/**\r\n * Base class for [[Container]] layouts.\r\n */\r\nvar Layout = /** @class */ (function (_super) {\r\n    __extends(Layout, _super);\r\n    function Layout() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Layout, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Layout\"\r\n    });\r\n    Object.defineProperty(Layout, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Entity.classNames.concat([Layout.className])\r\n    });\r\n    return Layout;\r\n}(Entity));\r\nexport { Layout };\r\n//# sourceMappingURL=Layout.js.map","import { __extends } from \"tslib\";\r\nimport { Layout, eachChildren } from \"./Layout\";\r\nimport * as $type from \"../util/Type\";\r\nimport { Percent } from \"../util/Percent\";\r\n/**\r\n * A horizontal children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nvar HorizontalLayout = /** @class */ (function (_super) {\r\n    __extends(HorizontalLayout, _super);\r\n    function HorizontalLayout() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(HorizontalLayout.prototype, \"updateContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (container) {\r\n            var paddingLeft = container.get(\"paddingLeft\", 0);\r\n            var availableWidth = container.innerWidth();\r\n            var totalPercent = 0;\r\n            eachChildren(container, function (child) {\r\n                if (child.isVisible()) {\r\n                    if (child.get(\"position\") == \"relative\") {\r\n                        var childWidth = child.get(\"width\");\r\n                        if (childWidth instanceof Percent) {\r\n                            totalPercent += childWidth.value;\r\n                            var w = availableWidth * childWidth.value;\r\n                            var minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\r\n                            if (minWidth > w) {\r\n                                availableWidth -= minWidth;\r\n                                totalPercent -= childWidth.value;\r\n                            }\r\n                            var maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\r\n                            if (w > maxWidth) {\r\n                                availableWidth -= maxWidth;\r\n                                totalPercent -= childWidth.value;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (!$type.isNumber(childWidth)) {\r\n                                childWidth = child.width();\r\n                            }\r\n                            availableWidth -= childWidth + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            if (availableWidth < 0) {\r\n                availableWidth = 0.01;\r\n            }\r\n            //if (availableWidth > 0) {\r\n            eachChildren(container, function (child) {\r\n                if (child.isVisible()) {\r\n                    if (child.get(\"position\") == \"relative\") {\r\n                        var childWidth = child.get(\"width\");\r\n                        if (childWidth instanceof Percent) {\r\n                            var privateWidth = availableWidth * childWidth.value / totalPercent - child.get(\"marginLeft\", 0) - child.get(\"marginRight\", 0);\r\n                            var minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\r\n                            var maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\r\n                            privateWidth = Math.min(Math.max(minWidth, privateWidth), maxWidth);\r\n                            child.setPrivate(\"width\", privateWidth);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            //}\r\n            var prevX = paddingLeft;\r\n            eachChildren(container, function (child) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    if (child.isVisible()) {\r\n                        var bounds = child.adjustedLocalBounds();\r\n                        var marginLeft = child.get(\"marginLeft\", 0);\r\n                        var marginRight = child.get(\"marginRight\", 0);\r\n                        var maxWidth = child.get(\"maxWidth\");\r\n                        var left = bounds.left;\r\n                        var right = bounds.right;\r\n                        if (maxWidth) {\r\n                            if (right - left > maxWidth) {\r\n                                right = left + maxWidth;\r\n                            }\r\n                        }\r\n                        var x = prevX + marginLeft - left;\r\n                        child.setPrivate(\"x\", x);\r\n                        prevX = x + right + marginRight;\r\n                    }\r\n                    else {\r\n                        child.setPrivate(\"x\", undefined);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(HorizontalLayout, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"HorizontalLayout\"\r\n    });\r\n    Object.defineProperty(HorizontalLayout, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Layout.classNames.concat([HorizontalLayout.className])\r\n    });\r\n    return HorizontalLayout;\r\n}(Layout));\r\nexport { HorizontalLayout };\r\n//# sourceMappingURL=HorizontalLayout.js.map","import { __extends } from \"tslib\";\r\nimport { Layout, eachChildren } from \"./Layout\";\r\nimport * as $type from \"../util/Type\";\r\nimport { Percent } from \"../util/Percent\";\r\n/**\r\n * A vertical children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nvar VerticalLayout = /** @class */ (function (_super) {\r\n    __extends(VerticalLayout, _super);\r\n    function VerticalLayout() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(VerticalLayout.prototype, \"updateContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (container) {\r\n            var paddingTop = container.get(\"paddingTop\", 0);\r\n            var availableHeight = container.innerHeight();\r\n            var totalPercent = 0;\r\n            eachChildren(container, function (child) {\r\n                if (child.isVisible()) {\r\n                    if (child.get(\"position\") == \"relative\") {\r\n                        var childHeight = child.get(\"height\");\r\n                        if (childHeight instanceof Percent) {\r\n                            totalPercent += childHeight.value;\r\n                            var h = availableHeight * childHeight.value;\r\n                            var minHeight = child.get(\"minHeight\", child.getPrivate(\"minHeight\", -Infinity));\r\n                            if (minHeight > h) {\r\n                                availableHeight -= minHeight;\r\n                                totalPercent -= childHeight.value;\r\n                            }\r\n                            var maxHeight = child.get(\"maxHeight\", child.getPrivate(\"maxHeight\", Infinity));\r\n                            if (h > maxHeight) {\r\n                                availableHeight -= maxHeight;\r\n                                totalPercent -= childHeight.value;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (!$type.isNumber(childHeight)) {\r\n                                childHeight = child.height();\r\n                            }\r\n                            availableHeight -= childHeight + child.get(\"marginTop\", 0) + child.get(\"marginBottom\", 0);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            if (availableHeight < 0) {\r\n                availableHeight = 0.01;\r\n            }\r\n            //if (availableHeight > 0) {\r\n            eachChildren(container, function (child) {\r\n                if (child.isVisible()) {\r\n                    if (child.get(\"position\") == \"relative\") {\r\n                        var childHeight = child.get(\"height\");\r\n                        if (childHeight instanceof Percent) {\r\n                            var privateHeight = availableHeight * childHeight.value / totalPercent - child.get(\"marginTop\", 0) - child.get(\"marginBottom\", 0);\r\n                            var minHeight = child.get(\"minHeight\", child.getPrivate(\"minHeight\", -Infinity));\r\n                            var maxHeight = child.get(\"maxHeight\", child.getPrivate(\"maxHeight\", Infinity));\r\n                            privateHeight = Math.min(Math.max(minHeight, privateHeight), maxHeight);\r\n                            child.setPrivate(\"height\", privateHeight);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            //}\r\n            var prevY = paddingTop;\r\n            eachChildren(container, function (child) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    if (child.isVisible()) {\r\n                        var bounds = child.adjustedLocalBounds();\r\n                        var marginTop = child.get(\"marginTop\", 0);\r\n                        var top_1 = bounds.top;\r\n                        var bottom = bounds.bottom;\r\n                        var maxHeight = child.get(\"maxHeight\");\r\n                        if (maxHeight) {\r\n                            if (bottom - top_1 > maxHeight) {\r\n                                bottom = top_1 + maxHeight;\r\n                            }\r\n                        }\r\n                        var marginBottom = child.get(\"marginBottom\", 0);\r\n                        var y = prevY + marginTop - top_1;\r\n                        child.setPrivate(\"y\", y);\r\n                        prevY = y + bottom + marginBottom;\r\n                    }\r\n                    else {\r\n                        child.setPrivate(\"y\", undefined);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(VerticalLayout, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"VerticalLayout\"\r\n    });\r\n    Object.defineProperty(VerticalLayout, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Layout.classNames.concat([VerticalLayout.className])\r\n    });\r\n    return VerticalLayout;\r\n}(Layout));\r\nexport { VerticalLayout };\r\n//# sourceMappingURL=VerticalLayout.js.map","import { __extends } from \"tslib\";\r\nimport { Layout, eachChildren } from \"./Layout\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * A grid children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nvar GridLayout = /** @class */ (function (_super) {\r\n    __extends(GridLayout, _super);\r\n    function GridLayout() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(GridLayout.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._setRawDefault(\"maxColumns\", Number.MAX_VALUE);\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(GridLayout.prototype, \"updateContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (container) {\r\n            var paddingLeft = container.get(\"paddingLeft\", 0);\r\n            var paddingRight = container.get(\"paddingRight\", 0);\r\n            var paddingTop = container.get(\"paddingTop\", 0);\r\n            var availableWidth = container.maxWidth() - paddingLeft - paddingRight;\r\n            var minCellWidth = availableWidth;\r\n            var maxCellWidth = 1;\r\n            eachChildren(container, function (child) {\r\n                if (child.get(\"visible\") && child.getPrivate(\"visible\") && !child.get(\"forceHidden\")) {\r\n                    if (child.get(\"position\") != \"absolute\") {\r\n                        var childWidth = child.width();\r\n                        if (childWidth < minCellWidth) {\r\n                            minCellWidth = childWidth;\r\n                        }\r\n                        if (childWidth > maxCellWidth) {\r\n                            maxCellWidth = childWidth;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            minCellWidth = $math.fitToRange(minCellWidth, 1, availableWidth);\r\n            maxCellWidth = $math.fitToRange(maxCellWidth, 1, availableWidth);\r\n            var columnCount = 1;\r\n            if (this.get(\"fixedWidthGrid\")) {\r\n                columnCount = availableWidth / maxCellWidth;\r\n            }\r\n            else {\r\n                columnCount = availableWidth / minCellWidth;\r\n            }\r\n            columnCount = Math.max(1, Math.floor(columnCount));\r\n            columnCount = Math.min(this.get(\"maxColumns\", Number.MAX_VALUE), columnCount);\r\n            var columnWidths = this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\r\n            var prevY = paddingTop;\r\n            var column = 0;\r\n            var maxColumnHeight = 0;\r\n            columnCount = columnWidths.length;\r\n            var prevX = paddingLeft;\r\n            eachChildren(container, function (child) {\r\n                if (child.get(\"position\") == \"relative\" && child.isVisible()) {\r\n                    var marginTop = child.get(\"marginTop\", 0);\r\n                    var marginBottom = child.get(\"marginBottom\", 0);\r\n                    var bounds = child.adjustedLocalBounds();\r\n                    var marginLeft = child.get(\"marginLeft\", 0);\r\n                    var marginRight = child.get(\"marginRight\", 0);\r\n                    var x = prevX + marginLeft - bounds.left;\r\n                    var y = prevY + marginTop - bounds.top;\r\n                    child.setPrivate(\"x\", x);\r\n                    child.setPrivate(\"y\", y);\r\n                    prevX += columnWidths[column] + marginRight;\r\n                    maxColumnHeight = Math.max(maxColumnHeight, child.height() + marginTop + marginBottom);\r\n                    column++;\r\n                    if (column >= columnCount) {\r\n                        column = 0;\r\n                        prevX = paddingLeft;\r\n                        prevY += maxColumnHeight;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(GridLayout.prototype, \"getColumnWidths\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (container, columnCount, maxCellWidth, availableWidth) {\r\n            var _this = this;\r\n            var totalWidth = 0;\r\n            var columnWidths = [];\r\n            var column = 0;\r\n            eachChildren(container, function (child) {\r\n                var bounds = child.adjustedLocalBounds();\r\n                if (child.get(\"position\") != \"absolute\" && child.isVisible()) {\r\n                    if (_this.get(\"fixedWidthGrid\")) {\r\n                        columnWidths[column] = maxCellWidth;\r\n                    }\r\n                    else {\r\n                        columnWidths[column] = Math.max(columnWidths[column] | 0, bounds.right - bounds.left + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0));\r\n                    }\r\n                    if (column < container.children.length - 1) {\r\n                        column++;\r\n                        if (column == columnCount) {\r\n                            column = 0;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            $array.each(columnWidths, function (w) {\r\n                totalWidth += w;\r\n            });\r\n            if (totalWidth > availableWidth) {\r\n                if (columnCount > 2) {\r\n                    columnCount -= 1;\r\n                    return this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\r\n                }\r\n                else {\r\n                    return [availableWidth];\r\n                }\r\n            }\r\n            return columnWidths;\r\n        }\r\n    });\r\n    Object.defineProperty(GridLayout, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"GridLayout\"\r\n    });\r\n    Object.defineProperty(GridLayout, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Layout.classNames.concat([GridLayout.className])\r\n    });\r\n    return GridLayout;\r\n}(Layout));\r\nexport { GridLayout };\r\n//# sourceMappingURL=GridLayout.js.map","import { Color } from \"./Color\";\r\nimport * as $type from \"./Type\";\r\nvar TextFormatter = /** @class */ (function () {\r\n    function TextFormatter() {\r\n    }\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    Object.defineProperty(TextFormatter, \"escape\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            return text.\r\n                replace(/\\[\\[/g, this.prefix + \"1\").\r\n                replace(/([^\\/\\]]{1})\\]\\]/g, \"$1\" + this.prefix + \"2\").\r\n                replace(/\\]\\]/g, this.prefix + \"2\").\r\n                replace(/\\{\\{/g, this.prefix + \"3\").\r\n                replace(/\\}\\}/g, this.prefix + \"4\").\r\n                replace(/\\'\\'/g, this.prefix + \"5\");\r\n        }\r\n    });\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    Object.defineProperty(TextFormatter, \"unescape\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            return text.\r\n                replace(new RegExp(this.prefix + \"1\", \"g\"), \"[[\").\r\n                replace(new RegExp(this.prefix + \"2\", \"g\"), \"]]\").\r\n                replace(new RegExp(this.prefix + \"3\", \"g\"), \"{{\").\r\n                replace(new RegExp(this.prefix + \"4\", \"g\"), \"}}\").\r\n                replace(new RegExp(this.prefix + \"5\", \"g\"), \"''\");\r\n        }\r\n    });\r\n    /**\r\n     * Cleans up the text text for leftover double square brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Cleaned up text\r\n     */\r\n    Object.defineProperty(TextFormatter, \"cleanUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            return text.\r\n                replace(/\\[\\[/g, \"[\").\r\n                replace(/\\]\\]/g, \"]\").\r\n                replace(/\\{\\{/g, \"{\").\r\n                replace(/\\}\\}/g, \"}\").\r\n                replace(/\\'\\'/g, \"'\");\r\n        }\r\n    });\r\n    /**\r\n     * Splits string into chunks. (style blocks, quoted blocks, regular blocks)\r\n     *\r\n     * If the second parameter `quotedBlocks` is set to `true` this method will\r\n     * also single out text blocks enclosed within single quotes that no\r\n     * formatting should be applied to, and they should be displayed as is.\r\n     *\r\n     * Default for the above is `false`, so that you can use single quote in text\r\n     * without escaping it.\r\n     *\r\n     * If enabled, single quotes can be escaped by doubling it - adding two\r\n     * single quotes, which will be replaced by a one single quote in the final\r\n     * output.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text          Text to chunk\r\n     * @param quotedBlocks  Use quoted blocks\r\n     * @param noFormatting  Formatting blocks will be treated as regular text\r\n     * @return Array of string chunks\r\n     */\r\n    Object.defineProperty(TextFormatter, \"chunk\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text, quotedBlocks, noFormatting) {\r\n            if (quotedBlocks === void 0) { quotedBlocks = false; }\r\n            if (noFormatting === void 0) { noFormatting = false; }\r\n            // Init result\r\n            var res = [];\r\n            // Replace double (escaped) square spaces and quotes with temporary codes\r\n            text = this.escape(text);\r\n            // Deal with style blocks\r\n            var chunks = quotedBlocks ? text.split(\"'\") : [text];\r\n            for (var i = 0; i < chunks.length; i++) {\r\n                var chunk = chunks[i];\r\n                // Empty?\r\n                if (chunk === \"\") {\r\n                    continue;\r\n                }\r\n                if ((i % 2) === 0) {\r\n                    // Text outside quotes\r\n                    // Parse for style blocks which are \"text\" chunks, the rest chunks are\r\n                    // \"value\"\r\n                    chunk = chunk.replace(/\\]\\[/g, \"]\" + $type.PLACEHOLDER + \"[\");\r\n                    chunk = chunk.replace(/\\[\\]/g, \"[ ]\");\r\n                    var chunks2 = chunk.split(/[\\[\\]]+/);\r\n                    for (var i2 = 0; i2 < chunks2.length; i2++) {\r\n                        var chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                        // Placeholder?\r\n                        if (chunk2 === $type.PLACEHOLDER) {\r\n                            continue;\r\n                        }\r\n                        // Empty?\r\n                        if (chunk2 === \"\") {\r\n                            continue;\r\n                        }\r\n                        // Block or value\r\n                        if ((i2 % 2) === 0) {\r\n                            res.push({\r\n                                \"type\": \"value\",\r\n                                \"text\": chunk2\r\n                            });\r\n                        }\r\n                        else {\r\n                            res.push({\r\n                                \"type\": noFormatting ? \"value\" : \"format\",\r\n                                \"text\": \"[\" + chunk2 + \"]\"\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    // A text within doublequotes\r\n                    // All chunks are \"text\"\r\n                    var chunks2 = chunk.split(/[\\[\\]]+/);\r\n                    for (var i2 = 0; i2 < chunks2.length; i2++) {\r\n                        var chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                        // Empty?\r\n                        if (chunk2 === \"\") {\r\n                            continue;\r\n                        }\r\n                        // Block or text\r\n                        if ((i2 % 2) === 0) {\r\n                            res.push({\r\n                                \"type\": \"text\",\r\n                                \"text\": chunk2\r\n                            });\r\n                        }\r\n                        else if (this.isImage(chunk2)) {\r\n                            res.push({\r\n                                \"type\": \"image\",\r\n                                \"text\": \"[\" + chunk2 + \"]\"\r\n                            });\r\n                        }\r\n                        else {\r\n                            res.push({\r\n                                \"type\": \"format\",\r\n                                \"text\": \"[\" + chunk2 + \"]\"\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    /**\r\n     * Checks if supplied format contains image information and should be\r\n     * formatted as such.\r\n     * I.e.: `[img: myImage.png]`\r\n     *\r\n     * @ignore\r\n     * @param  text  Format\r\n     * @return true if it is an image\r\n     */\r\n    Object.defineProperty(TextFormatter, \"isImage\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            return text.match(/img[ ]?:/) ? true : false;\r\n        }\r\n    });\r\n    Object.defineProperty(TextFormatter, \"getTextStyle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (style) {\r\n            // let textStyle: string[] = [];\r\n            // let textFill: string | undefined;\r\n            var format = {};\r\n            if (style == \"\" || style == \"[ ]\") {\r\n                return {};\r\n            }\r\n            // Pre-process quoted text\r\n            var q = style.match(/('[^']*')|(\"[^\"]*\")/gi);\r\n            if (q) {\r\n                for (var i = 0; i < q.length; i++) {\r\n                    style = style.replace(q[i], q[i].replace(/['\"]*/g, \"\").replace(/[ ]+/g, \"+\"));\r\n                }\r\n            }\r\n            // Get style parts\r\n            var b = style.match(/([\\w\\-]*:[\\s]?[^;\\s\\]]*)|(\\#[\\w]{1,6})|([\\w\\-]+)|(\\/)/gi);\r\n            // Empty?\r\n            if (!b) {\r\n                return {};\r\n            }\r\n            // Check each part\r\n            for (var i = 0; i < b.length; i++) {\r\n                if (b[i].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i)) {\r\n                    format.fontWeight = b[i];\r\n                }\r\n                else if (b[i].match(/^(underline|line-through)$/i)) {\r\n                    format.textDecoration = b[i];\r\n                }\r\n                else if (b[i] == \"/\") {\r\n                    // Just closing tag\r\n                    // Do nothing\r\n                }\r\n                else if (!b[i].match(/:/)) {\r\n                    // Color\r\n                    format.fill = Color.fromString(b[i]);\r\n                }\r\n                else {\r\n                    var p = b[i].replace(\"+\", \" \").split(/:[ ]*/);\r\n                    format[p[0]] = p[1];\r\n                    //textStyle.push(b[i].replace(/^[a-zA-Z]:[ ]*/, \"\"));\r\n                    //b[i] = b[i].replace(/\\+/g, \" \");\r\n                }\r\n            }\r\n            return format;\r\n        }\r\n    });\r\n    Object.defineProperty(TextFormatter, \"prefix\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"__amcharts__\"\r\n    });\r\n    return TextFormatter;\r\n}());\r\nexport { TextFormatter };\r\n//# sourceMappingURL=TextFormatter.js.map","/** @ignore */ /** */\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\nimport { Sprite } from \"../render/Sprite\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\n/**\r\n * @ignore\r\n */\r\nexport function populateString(target, string) {\r\n    if (string != null) {\r\n        string = \"\" + string;\r\n        string = TextFormatter.escape(string);\r\n        var tags = string.match(/\\{([^}]+)\\}/g);\r\n        var i = void 0;\r\n        if (tags) {\r\n            for (i = 0; i < tags.length; i++) {\r\n                var tag = tags[i].replace(/\\{([^}]+)\\}/, \"$1\");\r\n                var value = getTagValue(target, tag, \"\");\r\n                if (value == null) {\r\n                    value = \"\";\r\n                }\r\n                string = string.split(tags[i]).join(value);\r\n            }\r\n        }\r\n        string = TextFormatter.unescape(string);\r\n    }\r\n    else {\r\n        string = \"\";\r\n    }\r\n    // TODO: apply adapter?\r\n    return string;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getTagValue(target, tagName, format) {\r\n    var value;\r\n    var dataItem = target.dataItem;\r\n    // Parse parts\r\n    var parts = [];\r\n    var reg = /([^.]+)\\(([^)]*)\\)|([^.]+)/g;\r\n    ;\r\n    var matches;\r\n    while (true) {\r\n        matches = reg.exec(tagName);\r\n        if (matches === null) {\r\n            break;\r\n        }\r\n        if (matches[3]) {\r\n            // Simple property\r\n            parts.push({\r\n                prop: matches[3]\r\n            });\r\n            // Check if maybe we should force a formatter on this value\r\n            var dateFields = target.getDateFormatter().get(\"dateFields\", []);\r\n            var numericFields = target.getNumberFormatter().get(\"numericFields\", []);\r\n            var durationFields = target.getDurationFormatter().get(\"durationFields\", []);\r\n            if (dateFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatDate\",\r\n                    params: []\r\n                });\r\n            }\r\n            else if (numericFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatNumber\",\r\n                    params: []\r\n                });\r\n            }\r\n            else if (durationFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatDuration\",\r\n                    params: []\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            // Method\r\n            // Parse parameters\r\n            var params = [];\r\n            if ($utils.trim(matches[2]) != \"\") {\r\n                var reg2 = /'([^']*)'|\"([^\"]*)\"|([0-9\\-]+)/g;\r\n                var matches2 = void 0;\r\n                while (true) {\r\n                    matches2 = reg2.exec(matches[2]);\r\n                    if (matches2 === null) {\r\n                        break;\r\n                    }\r\n                    params.push(matches2[1] || matches2[2] || matches2[3]);\r\n                }\r\n            }\r\n            parts.push({\r\n                method: matches[1],\r\n                params: params\r\n            });\r\n        }\r\n    }\r\n    // Check if we can retrieve the value from data item\r\n    if (dataItem) {\r\n        // Check values\r\n        value = getTagValueFromObject(target, parts, dataItem._settings);\r\n        // Check properties\r\n        if (value == null || $type.isObject(value)) { // isObject helps to solve problem with date axis, as for example dateX will get dateX from values object and won't get to the dateX date.\r\n            value = getTagValueFromObject(target, parts, dataItem);\r\n        }\r\n        // Check data context\r\n        var dataContext = dataItem.dataContext;\r\n        if (value == null && dataContext) {\r\n            value = getTagValueFromObject(target, parts, dataContext);\r\n            // Maybe it's a literal dot-separated name of the key in dataContext?\r\n            if (value == null) {\r\n                value = getTagValueFromObject(target, [{\r\n                        prop: tagName\r\n                    }], dataContext);\r\n            }\r\n            // scond data context level sometimes exist (tree map)\r\n            if (value == null && dataContext.dataContext) {\r\n                value = getTagValueFromObject(target, parts, dataContext.dataContext);\r\n            }\r\n        }\r\n        // Check component's data item\r\n        if (value == null && dataItem.component && dataItem.component.dataItem !== dataItem) {\r\n            value = getTagValue(dataItem.component, tagName, format);\r\n        }\r\n    }\r\n    // Check sprite's properties\r\n    if (value == null) {\r\n        value = getTagValueFromObject(target, parts, target);\r\n    }\r\n    // Finally, check the parent\r\n    if (value == null && target.parent) {\r\n        value = getTagValue(target.parent, tagName, format);\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getCustomDataValue(target, prop) {\r\n    var customData = target.getPrivate(\"customData\");\r\n    if ($type.isObject(customData)) {\r\n        return customData[prop];\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getTagValueFromObject(target, parts, object, format) {\r\n    var current = object;\r\n    var formatApplied = false;\r\n    for (var i = 0, len = parts.length; i < len; i++) {\r\n        var part = parts[i];\r\n        if (part.prop) {\r\n            // Regular property\r\n            if (current instanceof Sprite) {\r\n                var tmp = current.get(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current.getPrivate(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current[part.prop];\r\n                if (tmp == null)\r\n                    tmp = getCustomDataValue(current, part.prop);\r\n                current = tmp;\r\n            }\r\n            else if (current.get) {\r\n                var tmp = current.get(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current[part.prop];\r\n                current = tmp;\r\n            }\r\n            else {\r\n                current = current[part.prop];\r\n            }\r\n            if (current == null) {\r\n                // Not set, return undefined\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            // Method\r\n            switch (part.method) {\r\n                case \"formatNumber\":\r\n                    var numberValue = $type.toNumber(current);\r\n                    if (numberValue != null) {\r\n                        current = target.getNumberFormatter().format(numberValue, format || part.params[0] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"formatDate\":\r\n                    var dateValue = $type.toDate(current);\r\n                    if (!$type.isDate(dateValue) || $type.isNaN(dateValue.getTime())) {\r\n                        // Was not able to get date out of value, quitting and letting\r\n                        // calling method try another value\r\n                        return;\r\n                    }\r\n                    if (dateValue != null) {\r\n                        current = target.getDateFormatter().format(dateValue, format || part.params[0] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"formatDuration\":\r\n                    var durationValue = $type.toNumber(current);\r\n                    if (durationValue != null) {\r\n                        current = target.getDurationFormatter().format(durationValue, format || part.params[0] || undefined, part.params[1] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"urlEncode\":\r\n                case \"encodeURIComponent\":\r\n                    current = encodeURIComponent(current);\r\n                    break;\r\n                default:\r\n                    if (current[part.method]) {\r\n                        current[part.method].apply(object, part.params);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    // Apply default format if it wasn't applied explicitly\r\n    if (!formatApplied) {\r\n        var formatParts = [{\r\n                method: \"\",\r\n                params: format\r\n            }];\r\n        if (format == null) {\r\n            // Format is not set\r\n            // Determine from the type of the value\r\n            if ($type.isNumber(current)) {\r\n                formatParts[0].method = \"formatNumber\";\r\n                formatParts[0].params = \"\";\r\n            }\r\n            else if ($type.isDate(current)) {\r\n                formatParts[0].method = \"formatDate\";\r\n                formatParts[0].params = \"\";\r\n            }\r\n        }\r\n        else {\r\n            // Format set\r\n            // Try to determine formatter based on the format\r\n            var formatterType = $utils.getFormat(format);\r\n            // format\r\n            if (formatterType === \"number\") {\r\n                formatParts[0].method = \"formatNumber\";\r\n            }\r\n            else if (formatterType === \"date\") {\r\n                formatParts[0].method = \"formatDate\";\r\n            }\r\n            else if (formatterType === \"duration\") {\r\n                formatParts[0].method = \"formatDuration\";\r\n            }\r\n        }\r\n        // Apply format\r\n        if (formatParts[0].method) {\r\n            current = getTagValueFromObject(target, formatParts, current);\r\n        }\r\n    }\r\n    return current;\r\n}\r\n//# sourceMappingURL=PopulateString.js.map","import { __extends } from \"tslib\";\r\nimport { Children } from \"../util/Children\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { Sprite } from \"./Sprite\";\r\nimport { Rectangle } from \"./Rectangle\";\r\nimport { HorizontalLayout } from \"./HorizontalLayout\";\r\nimport { VerticalLayout } from \"./VerticalLayout\";\r\nimport { GridLayout } from \"./GridLayout\";\r\nimport { populateString } from \"../util/PopulateString\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $utils from \"../util/Utils\";\r\n/**\r\n * A basic element that can have child elements, maintain their layout, and\r\n * have a background.\r\n *\r\n * It can have any [[Sprite]] element as a child, from very basic shapes, to\r\n * full-fledged charts.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\r\n * @important\r\n */\r\nvar Container = /** @class */ (function (_super) {\r\n    __extends(Container, _super);\r\n    function Container() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeContainer()\r\n        });\r\n        Object.defineProperty(_this, \"_childrenDisplay\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeContainer()\r\n        });\r\n        /**\r\n         * List of Container's child elements.\r\n         */\r\n        Object.defineProperty(_this, \"children\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Children(_this)\r\n        });\r\n        Object.defineProperty(_this, \"_percentageSizeChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_percentagePositionChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_prevWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_prevHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_contentWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_contentHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_contentMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_vsbd0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_vsbd1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Container.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterNew.call(this);\r\n            this._display.addChild(this._childrenDisplay);\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            $array.eachReverse(this.allChildren(), function (child) {\r\n                child.dispose();\r\n            });\r\n            if (this.getPrivate(\"htmlElement\")) {\r\n                this._root._removeHTMLContent(this);\r\n            }\r\n            _super.prototype._dispose.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this.isDirty(\"interactiveChildren\")) {\r\n                this._display.interactiveChildren = this.get(\"interactiveChildren\", false);\r\n            }\r\n            if (this.isDirty(\"layout\")) {\r\n                this._prevWidth = 0;\r\n                this._prevHeight = 0;\r\n                this.markDirtyBounds();\r\n                if (this._prevSettings.layout) {\r\n                    this.children.each(function (child) {\r\n                        child.removePrivate(\"x\");\r\n                        child.removePrivate(\"y\");\r\n                    });\r\n                }\r\n            }\r\n            if (this.isDirty(\"paddingTop\") || this.isDirty(\"paddingBottom\") || this.isDirty(\"paddingLeft\") || this.isDirty(\"paddingRight\")) {\r\n                this.children.each(function (child) {\r\n                    child.markDirtyPosition();\r\n                });\r\n            }\r\n            if (this.isDirty(\"maskContent\")) {\r\n                var childrenDisplay = this._childrenDisplay;\r\n                var contentMask = this._contentMask;\r\n                if (this.get(\"maskContent\")) {\r\n                    if (!contentMask) {\r\n                        contentMask = Rectangle.new(this._root, {\r\n                            width: this.width(),\r\n                            height: this.height()\r\n                        });\r\n                        this._contentMask = contentMask;\r\n                        childrenDisplay.addChildAt(contentMask._display, 0);\r\n                        childrenDisplay.mask = contentMask._display;\r\n                    }\r\n                }\r\n                else {\r\n                    if (contentMask) {\r\n                        childrenDisplay.removeChild(contentMask._display);\r\n                        childrenDisplay.mask = null;\r\n                        contentMask.dispose();\r\n                        this._contentMask = undefined;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_updateSize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateSize.call(this);\r\n            $array.each(this._percentageSizeChildren, function (child) {\r\n                child._updateSize();\r\n            });\r\n            $array.each(this._percentagePositionChildren, function (child) {\r\n                child.markDirtyPosition();\r\n                child._updateSize();\r\n            });\r\n            this.updateBackground();\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"updateBackground\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var background = this.get(\"background\");\r\n            var bounds = this._localBounds;\r\n            if (bounds && !this.isHidden()) {\r\n                var x = bounds.left;\r\n                var y = bounds.top;\r\n                var w = bounds.right - x;\r\n                var h = bounds.bottom - y;\r\n                var maxWidth = this.get(\"maxWidth\");\r\n                var maxHeight = this.get(\"maxHeight\");\r\n                if (maxHeight) {\r\n                    if (h > maxHeight) {\r\n                        h = maxHeight;\r\n                    }\r\n                }\r\n                if (maxWidth) {\r\n                    if (w > maxWidth) {\r\n                        w = maxWidth;\r\n                    }\r\n                }\r\n                var width = this.width();\r\n                var height = this.height();\r\n                if (background) {\r\n                    background.setAll({ width: w, height: h, x: x, y: y });\r\n                    if (this._display.interactive) {\r\n                        background._display.interactive = true;\r\n                    }\r\n                }\r\n                var contentMask = this._contentMask;\r\n                if (contentMask) {\r\n                    contentMask.setAll({ width: width, height: height });\r\n                }\r\n                var verticalScrollbar = this.get(\"verticalScrollbar\");\r\n                if (verticalScrollbar) {\r\n                    verticalScrollbar.set(\"height\", height);\r\n                    verticalScrollbar.set(\"x\", width - verticalScrollbar.width() - verticalScrollbar.get(\"marginRight\", 0));\r\n                    verticalScrollbar.set(\"end\", verticalScrollbar.get(\"start\", 0) + height / this._contentHeight);\r\n                    var bg = verticalScrollbar.get(\"background\");\r\n                    if (bg) {\r\n                        bg.setAll({ width: verticalScrollbar.width(), height: height });\r\n                    }\r\n                    var visible = true;\r\n                    if (this._contentHeight <= height) {\r\n                        visible = false;\r\n                    }\r\n                    verticalScrollbar.setPrivate(\"visible\", visible);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_applyThemes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (_super.prototype._applyThemes.call(this)) {\r\n                this.eachChildren(function (child) {\r\n                    child._applyThemes();\r\n                });\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_applyState\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            _super.prototype._applyState.call(this, name);\r\n            if (this.get(\"setStateOnChildren\")) {\r\n                this.eachChildren(function (child) {\r\n                    child.states.apply(name);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_applyStateAnimated\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name, duration) {\r\n            _super.prototype._applyStateAnimated.call(this, name, duration);\r\n            if (this.get(\"setStateOnChildren\")) {\r\n                this.eachChildren(function (child) {\r\n                    child.states.applyAnimate(name, duration);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns container's inner width (width without padding) in pixels.\r\n     *\r\n     * @return Inner width (px)\r\n     */\r\n    Object.defineProperty(Container.prototype, \"innerWidth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.width() - this.get(\"paddingRight\", 0) - this.get(\"paddingLeft\", 0);\r\n        }\r\n    });\r\n    /**\r\n     * Returns container's inner height (height without padding) in pixels.\r\n     *\r\n     * @return Inner height (px)\r\n     */\r\n    Object.defineProperty(Container.prototype, \"innerHeight\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.height() - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0);\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_getBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var width = this.get(\"width\");\r\n            var height = this.get(\"height\");\r\n            var pWidth = this.getPrivate(\"width\");\r\n            var pHeight = this.getPrivate(\"height\");\r\n            var bounds = {\r\n                left: 0,\r\n                top: 0,\r\n                right: this.width(),\r\n                bottom: this.height(),\r\n            };\r\n            var layout = this.get(\"layout\");\r\n            var horizontal = false;\r\n            var vertical = false;\r\n            if (layout instanceof HorizontalLayout || layout instanceof GridLayout) {\r\n                horizontal = true;\r\n            }\r\n            if (layout instanceof VerticalLayout) {\r\n                vertical = true;\r\n            }\r\n            if ((width != null || pWidth != null) && (height != null || pHeight != null) && !this.get(\"verticalScrollbar\")) {\r\n                // void\r\n            }\r\n            else {\r\n                var m = Number.MAX_VALUE;\r\n                var l_1 = m;\r\n                var r_1 = -m;\r\n                var t_1 = m;\r\n                var b_1 = -m;\r\n                var paddingLeft = this.get(\"paddingLeft\", 0);\r\n                var paddingTop = this.get(\"paddingTop\", 0);\r\n                var paddingRight = this.get(\"paddingRight\", 0);\r\n                var paddingBottom = this.get(\"paddingBottom\", 0);\r\n                this.children.each(function (child) {\r\n                    if (child.get(\"position\") != \"absolute\" && child.get(\"isMeasured\")) {\r\n                        var childBounds = child.adjustedLocalBounds();\r\n                        var childX = child.x();\r\n                        var childY = child.y();\r\n                        var cl = childX + childBounds.left;\r\n                        var cr = childX + childBounds.right;\r\n                        var ct = childY + childBounds.top;\r\n                        var cb = childY + childBounds.bottom;\r\n                        if (horizontal) {\r\n                            cl -= child.get(\"marginLeft\", 0);\r\n                            cr += child.get(\"marginRight\", 0);\r\n                        }\r\n                        if (vertical) {\r\n                            ct -= child.get(\"marginTop\", 0);\r\n                            cb += child.get(\"marginBottom\", 0);\r\n                        }\r\n                        if (cl < l_1) {\r\n                            l_1 = cl;\r\n                        }\r\n                        if (cr > r_1) {\r\n                            r_1 = cr;\r\n                        }\r\n                        if (ct < t_1) {\r\n                            t_1 = ct;\r\n                        }\r\n                        if (cb > b_1) {\r\n                            b_1 = cb;\r\n                        }\r\n                    }\r\n                });\r\n                if (l_1 == m) {\r\n                    l_1 = 0;\r\n                }\r\n                if (r_1 == -m) {\r\n                    r_1 = 0;\r\n                }\r\n                if (t_1 == m) {\r\n                    t_1 = 0;\r\n                }\r\n                if (b_1 == -m) {\r\n                    b_1 = 0;\r\n                }\r\n                bounds.left = l_1 - paddingLeft;\r\n                bounds.top = t_1 - paddingTop;\r\n                bounds.right = r_1 + paddingRight;\r\n                bounds.bottom = b_1 + paddingBottom;\r\n            }\r\n            this._contentWidth = bounds.right - bounds.left;\r\n            this._contentHeight = bounds.bottom - bounds.top;\r\n            if ($type.isNumber(width)) {\r\n                bounds.left = 0;\r\n                bounds.right = width;\r\n            }\r\n            if ($type.isNumber(pWidth)) {\r\n                bounds.left = 0;\r\n                bounds.right = pWidth;\r\n            }\r\n            if ($type.isNumber(height)) {\r\n                bounds.top = 0;\r\n                bounds.bottom = height;\r\n            }\r\n            if ($type.isNumber(pHeight)) {\r\n                bounds.top = 0;\r\n                bounds.bottom = pHeight;\r\n            }\r\n            this._localBounds = bounds;\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_updateBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var layout = this.get(\"layout\");\r\n            if (layout) {\r\n                layout.updateContainer(this);\r\n            }\r\n            _super.prototype._updateBounds.call(this);\r\n            this.updateBackground();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Container.prototype, \"markDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.markDirty.call(this);\r\n            this._root._addDirtyParent(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var innerWidth = this.innerWidth();\r\n            var innerHeight = this.innerHeight();\r\n            if (innerWidth != this._prevWidth || innerHeight != this._prevHeight) {\r\n                var layout = this.get(\"layout\");\r\n                var horizontal_1 = false;\r\n                var vertical_1 = false;\r\n                if (layout) {\r\n                    if (layout instanceof HorizontalLayout || layout instanceof GridLayout) {\r\n                        horizontal_1 = true;\r\n                    }\r\n                    if (layout instanceof VerticalLayout) {\r\n                        vertical_1 = true;\r\n                    }\r\n                }\r\n                $array.each(this._percentageSizeChildren, function (child) {\r\n                    if (!horizontal_1) {\r\n                        var width = child.get(\"width\");\r\n                        if (width instanceof Percent) {\r\n                            child.setPrivate(\"width\", width.value * innerWidth);\r\n                        }\r\n                    }\r\n                    if (!vertical_1) {\r\n                        var height = child.get(\"height\");\r\n                        if (height instanceof Percent) {\r\n                            child.setPrivate(\"height\", height.value * innerHeight);\r\n                        }\r\n                    }\r\n                });\r\n                $array.each(this._percentagePositionChildren, function (child) {\r\n                    child.markDirtyPosition();\r\n                    child.markDirtyBounds();\r\n                });\r\n                this._prevWidth = innerWidth;\r\n                this._prevHeight = innerHeight;\r\n                this._sizeDirty = true;\r\n                this.updateBackground();\r\n            }\r\n            this._handleStates();\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            if (this.isDirty(\"html\")) {\r\n                var html = this.get(\"html\");\r\n                if (html && html !== \"\") {\r\n                    this._root._setHTMLContent(this, populateString(this, this.get(\"html\", \"\")));\r\n                }\r\n                else {\r\n                    this._root._removeHTMLContent(this);\r\n                }\r\n                this._root._positionHTMLElement(this);\r\n            }\r\n            if (this.isDirty(\"verticalScrollbar\")) {\r\n                var verticalScrollbar_1 = this.get(\"verticalScrollbar\");\r\n                if (verticalScrollbar_1) {\r\n                    verticalScrollbar_1._setParent(this);\r\n                    verticalScrollbar_1.children.removeValue(verticalScrollbar_1.startGrip);\r\n                    verticalScrollbar_1.children.removeValue(verticalScrollbar_1.endGrip);\r\n                    this.set(\"maskContent\", true);\r\n                    this.set(\"paddingRight\", verticalScrollbar_1.width() + verticalScrollbar_1.get(\"marginRight\", 0) + verticalScrollbar_1.get(\"marginLeft\", 0));\r\n                    var background = this.get(\"background\");\r\n                    if (!background) {\r\n                        background = this.set(\"background\", Rectangle.new(this._root, {\r\n                            themeTags: [\"background\"],\r\n                            fillOpacity: 0,\r\n                            fill: this._root.interfaceColors.get(\"alternativeBackground\")\r\n                        }));\r\n                    }\r\n                    this._vsbd0 = this.events.on(\"wheel\", function (event) {\r\n                        var wheelEvent = event.originalEvent;\r\n                        // Ignore wheel event if it is happening on a non-chart element, e.g. if\r\n                        // some page element is over the chart.\r\n                        if ($utils.isLocalEvent(wheelEvent, _this)) {\r\n                            wheelEvent.preventDefault();\r\n                        }\r\n                        else {\r\n                            return;\r\n                        }\r\n                        var shiftY = wheelEvent.deltaY / 5000;\r\n                        var start = verticalScrollbar_1.get(\"start\", 0);\r\n                        var end = verticalScrollbar_1.get(\"end\", 1);\r\n                        if (start + shiftY > 0 && end + shiftY < 1) {\r\n                            verticalScrollbar_1.set(\"start\", start + shiftY);\r\n                            verticalScrollbar_1.set(\"end\", end + shiftY);\r\n                        }\r\n                    });\r\n                    this._disposers.push(this._vsbd0);\r\n                    this._vsbd1 = verticalScrollbar_1.events.on(\"rangechanged\", function () {\r\n                        var h = _this._contentHeight;\r\n                        var childrenDisplay = _this._childrenDisplay;\r\n                        var contentMask = _this._contentMask;\r\n                        childrenDisplay.y = -verticalScrollbar_1.get(\"start\") * h;\r\n                        childrenDisplay.markDirtyLayer();\r\n                        if (contentMask) {\r\n                            contentMask._display.y = -childrenDisplay.y;\r\n                            childrenDisplay.mask = contentMask._display;\r\n                        }\r\n                    });\r\n                    this._disposers.push(this._vsbd1);\r\n                    this._display.addChild(verticalScrollbar_1._display);\r\n                }\r\n                else {\r\n                    var previous = this._prevSettings.verticalScrollbar;\r\n                    if (previous) {\r\n                        this._display.removeChild(previous._display);\r\n                        if (this._vsbd0) {\r\n                            this._vsbd0.dispose();\r\n                        }\r\n                        if (this._vsbd1) {\r\n                            this._vsbd1.dispose();\r\n                        }\r\n                        var childrenDisplay = this._childrenDisplay;\r\n                        childrenDisplay.y = 0;\r\n                        this.setPrivate(\"height\", undefined);\r\n                        this.set(\"maskContent\", false);\r\n                        this.set(\"paddingRight\", undefined);\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"background\")) {\r\n                // TODO maybe this should dispose ?\r\n                var previous = this._prevSettings[\"background\"];\r\n                if (previous) {\r\n                    this._display.removeChild(previous._display);\r\n                }\r\n                var background = this.get(\"background\");\r\n                if (background instanceof Sprite) {\r\n                    background.set(\"isMeasured\", false);\r\n                    background._setParent(this);\r\n                    this._display.addChildAt(background._display, 0);\r\n                }\r\n            }\r\n            if (this.isDirty(\"mask\")) {\r\n                var mask = this.get(\"mask\");\r\n                var previous = this._prevSettings[\"mask\"];\r\n                if (previous) {\r\n                    this._display.removeChild(previous._display);\r\n                    if (previous != mask) {\r\n                        previous.dispose();\r\n                    }\r\n                }\r\n                if (mask) {\r\n                    var parent = mask.parent;\r\n                    if (parent) {\r\n                        parent.children.removeValue(mask);\r\n                    }\r\n                    mask._setParent(this);\r\n                    this._display.addChildAt(mask._display, 0);\r\n                    this._childrenDisplay.mask = mask._display;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_processTemplateField\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._processTemplateField.call(this);\r\n            this.children.each(function (child) {\r\n                child._processTemplateField();\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Container.prototype, \"walkChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            this.children.each(function (child) {\r\n                if (child instanceof Container) {\r\n                    child.walkChildren(f);\r\n                }\r\n                f(child);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"eachChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            var background = this.get(\"background\");\r\n            if (background) {\r\n                f(background);\r\n            }\r\n            var verticalScrollbar = this.get(\"verticalScrollbar\");\r\n            if (verticalScrollbar) {\r\n                f(verticalScrollbar);\r\n            }\r\n            var mask = this.get(\"mask\");\r\n            if (mask) {\r\n                f(mask);\r\n            }\r\n            this.children.values.forEach(function (child) {\r\n                f(child);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"allChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var output = [];\r\n            this.eachChildren(function (x) {\r\n                output.push(x);\r\n            });\r\n            return output;\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_setDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var updated = (dataItem !== this._dataItem);\r\n            _super.prototype._setDataItem.call(this, dataItem);\r\n            var html = this.get(\"html\", \"\");\r\n            if (html && html !== \"\" && updated) {\r\n                this._root._setHTMLContent(this, populateString(this, html));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Container, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Container\"\r\n    });\r\n    Object.defineProperty(Container, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Sprite.classNames.concat([Container.className])\r\n    });\r\n    return Container;\r\n}(Sprite));\r\nexport { Container };\r\n//# sourceMappingURL=Container.js.map","import { __extends } from \"tslib\";\r\nimport { Sprite } from \"./Sprite\";\r\nimport { populateString } from \"../util/PopulateString\";\r\nimport * as $array from \"../util/Array\";\r\n/**\r\n * @ignore Text is an internal class. Use Label instead.\r\n */\r\nvar Text = /** @class */ (function (_super) {\r\n    __extends(Text, _super);\r\n    function Text() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"textStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeTextStyle()\r\n        });\r\n        Object.defineProperty(_this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeText(\"\", _this.textStyle)\r\n        });\r\n        Object.defineProperty(_this, \"_textStyles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"textAlign\",\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\",\r\n                \"shadowColor\",\r\n                \"shadowBlur\",\r\n                \"shadowOffsetX\",\r\n                \"shadowOffsetY\",\r\n                \"shadowOpacity\",\r\n                // \"leading\",\r\n                // \"letterSpacing\",\r\n                \"lineHeight\",\r\n                \"baselineRatio\",\r\n                //\"padding\",\r\n                // \"stroke\",\r\n                // \"strokeThickness\",\r\n                // \"trim\",\r\n                // \"wordWrap\",\r\n                \"direction\",\r\n                \"textBaseline\",\r\n                \"oversizedBehavior\",\r\n                \"breakWords\",\r\n                \"ellipsis\",\r\n                \"minScale\"\r\n            ]\r\n        });\r\n        Object.defineProperty(_this, \"_originalScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Text.prototype, \"_updateBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.get(\"text\")) {\r\n                var newBounds = {\r\n                    left: 0,\r\n                    right: 0,\r\n                    top: 0,\r\n                    bottom: 0,\r\n                };\r\n                this._adjustedLocalBounds = newBounds;\r\n            }\r\n            else {\r\n                _super.prototype._updateBounds.call(this);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Text.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._changed.call(this);\r\n            this._display.clear();\r\n            var textStyle = this.textStyle;\r\n            if (this.isDirty(\"opacity\")) {\r\n                var opacity = this.get(\"opacity\", 1);\r\n                this._display.alpha = opacity;\r\n            }\r\n            if (this.isDirty(\"text\") || this.isDirty(\"populateText\")) {\r\n                this._display.text = this._getText();\r\n                this.markDirtyBounds();\r\n                if (this.get(\"role\") == \"tooltip\") {\r\n                    this._root.updateTooltip(this);\r\n                }\r\n            }\r\n            if (this.isDirty(\"width\")) {\r\n                textStyle.wordWrapWidth = this.width();\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"oversizedBehavior\")) {\r\n                textStyle.oversizedBehavior = this.get(\"oversizedBehavior\", \"none\");\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"breakWords\")) {\r\n                textStyle.breakWords = this.get(\"breakWords\", false);\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"ellipsis\")) {\r\n                textStyle.ellipsis = this.get(\"ellipsis\");\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"ignoreFormatting\")) {\r\n                textStyle.ignoreFormatting = this.get(\"ignoreFormatting\", false);\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"minScale\")) {\r\n                textStyle.minScale = this.get(\"minScale\", 0);\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"fill\")) {\r\n                var fill = this.get(\"fill\");\r\n                if (fill) {\r\n                    textStyle.fill = fill;\r\n                }\r\n            }\r\n            if (this.isDirty(\"maxWidth\") || this.isPrivateDirty(\"maxWidth\")) {\r\n                textStyle.maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"maxHeight\")) {\r\n                textStyle.maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n                this.markDirtyBounds();\r\n            }\r\n            $array.each(this._textStyles, function (styleName) {\r\n                if (_this._dirty[styleName]) {\r\n                    textStyle[styleName] = _this.get(styleName);\r\n                    _this.markDirtyBounds();\r\n                }\r\n            });\r\n            textStyle[\"fontSize\"] = this.get(\"fontSize\");\r\n            textStyle[\"fontFamily\"] = this.get(\"fontFamily\");\r\n            this._display.style = textStyle;\r\n            if (this.isDirty(\"role\") && this.get(\"role\") == \"tooltip\") {\r\n                this._root.updateTooltip(this);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Text.prototype, \"_getText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var text = this.get(\"text\", \"\");\r\n            return this.get(\"populateText\") ? populateString(this, text) : text;\r\n        }\r\n    });\r\n    Object.defineProperty(Text.prototype, \"markDirtyText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._display.text = this._getText();\r\n            if (this.get(\"role\") == \"tooltip\") {\r\n                this._root.updateTooltip(this);\r\n            }\r\n            this.markDirtyBounds();\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(Text.prototype, \"_setDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            _super.prototype._setDataItem.call(this, dataItem);\r\n            if (this.get(\"populateText\")) {\r\n                this.markDirtyText();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Text, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Text\"\r\n    });\r\n    Object.defineProperty(Text, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Sprite.classNames.concat([Text.className])\r\n    });\r\n    return Text;\r\n}(Sprite));\r\nexport { Text };\r\n//# sourceMappingURL=Text.js.map","/** @ignore */ /** */\r\nimport * as $array from \"./Array\";\r\nimport * as $utils from \"./Utils\";\r\n/**\r\n * @ignore\r\n */\r\nvar Native = /** @class */ (function () {\r\n    function Native() {\r\n        var _this = this;\r\n        Object.defineProperty(this, \"_observer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_targets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        this._observer = new ResizeObserver(function (entries) {\r\n            $array.each(entries, function (entry) {\r\n                $array.each(_this._targets, function (x) {\r\n                    if (x.target === entry.target) {\r\n                        x.callback();\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n    Object.defineProperty(Native.prototype, \"addTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target, callback) {\r\n            this._observer.observe(target, { box: \"border-box\" });\r\n            this._targets.push({ target: target, callback: callback });\r\n        }\r\n    });\r\n    Object.defineProperty(Native.prototype, \"removeTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            this._observer.unobserve(target);\r\n            $array.keepIf(this._targets, function (x) {\r\n                return x.target !== target;\r\n            });\r\n        }\r\n    });\r\n    return Native;\r\n}());\r\n/**\r\n * @ignore\r\n */\r\nvar Raf = /** @class */ (function () {\r\n    function Raf() {\r\n        Object.defineProperty(this, \"_timer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_targets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    Object.defineProperty(Raf.prototype, \"addTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target, callback) {\r\n            var _this = this;\r\n            if (this._timer === null) {\r\n                var lastTime_1 = null;\r\n                var loop_1 = function () {\r\n                    var currentTime = Date.now();\r\n                    if (lastTime_1 === null || currentTime > (lastTime_1 + Raf.delay)) {\r\n                        lastTime_1 = currentTime;\r\n                        $array.each(_this._targets, function (x) {\r\n                            var newSize = x.target.getBoundingClientRect();\r\n                            if (newSize.width !== x.size.width || newSize.height !== x.size.height) {\r\n                                x.size = newSize;\r\n                                x.callback();\r\n                            }\r\n                        });\r\n                    }\r\n                    if (_this._targets.length === 0) {\r\n                        _this._timer = null;\r\n                    }\r\n                    else {\r\n                        _this._timer = requestAnimationFrame(loop_1);\r\n                    }\r\n                };\r\n                this._timer = requestAnimationFrame(loop_1);\r\n            }\r\n            // We start off with fake bounds so that sensor always kicks in\r\n            var size = { width: 0, height: 0, left: 0, right: 0, top: 0, bottom: 0, x: 0, y: 0 };\r\n            this._targets.push({ target: target, callback: callback, size: size });\r\n        }\r\n    });\r\n    Object.defineProperty(Raf.prototype, \"removeTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            $array.keepIf(this._targets, function (x) {\r\n                return x.target !== target;\r\n            });\r\n            if (this._targets.length === 0) {\r\n                if (this._timer !== null) {\r\n                    cancelAnimationFrame(this._timer);\r\n                    this._timer = null;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Raf, \"delay\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: 200\r\n    });\r\n    return Raf;\r\n}());\r\n/**\r\n * @ignore\r\n */\r\nvar observer = null;\r\n/**\r\n * @ignore\r\n */\r\nfunction makeSensor() {\r\n    if (observer === null) {\r\n        if (typeof ResizeObserver !== \"undefined\") {\r\n            observer = new Native();\r\n        }\r\n        else {\r\n            observer = new Raf();\r\n        }\r\n    }\r\n    return observer;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nvar ResizeSensor = /** @class */ (function () {\r\n    function ResizeSensor(element, callback) {\r\n        Object.defineProperty(this, \"_sensor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_listener\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        this._sensor = makeSensor();\r\n        this._element = element;\r\n        // This is needed because we need to know when the window is zoomed\r\n        this._listener = $utils.onZoom(callback);\r\n        this._sensor.addTarget(element, callback);\r\n    }\r\n    Object.defineProperty(ResizeSensor.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    Object.defineProperty(ResizeSensor.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                this._sensor.removeTarget(this._element);\r\n                this._listener.dispose();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(ResizeSensor.prototype, \"sensor\", {\r\n        get: function () {\r\n            return this._sensor;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return ResizeSensor;\r\n}());\r\nexport { ResizeSensor };\r\n//# sourceMappingURL=ResizeSensor.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"./Entity\";\r\n/**\r\n * Presets for common UI elements.\r\n */\r\nvar InterfaceColors = /** @class */ (function (_super) {\r\n    __extends(InterfaceColors, _super);\r\n    function InterfaceColors() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(InterfaceColors, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"InterfaceColors\"\r\n    });\r\n    Object.defineProperty(InterfaceColors, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Entity.classNames.concat([InterfaceColors.className])\r\n    });\r\n    return InterfaceColors;\r\n}(Entity));\r\nexport { InterfaceColors };\r\n//# sourceMappingURL=InterfaceColors.js.map","import { __extends } from \"tslib\";\r\nimport { Text } from \"../render/Text\";\r\nimport { p50, p100 } from \"../util/Percent\";\r\nimport { Container } from \"./Container\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\n/**\r\n * Creates a label with support for in-line styling and data bindings.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/labels/} for more info\r\n */\r\nvar Label = /** @class */ (function (_super) {\r\n    __extends(Label, _super);\r\n    function Label() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_text\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_textKeys\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"text\",\r\n                \"fill\",\r\n                \"textAlign\",\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\",\r\n                \"shadowColor\",\r\n                \"shadowBlur\",\r\n                \"shadowOffsetX\",\r\n                \"shadowOffsetY\",\r\n                \"shadowOpacity\",\r\n                // \"leading\",\r\n                // \"letterSpacing\",\r\n                \"lineHeight\",\r\n                \"baselineRatio\",\r\n                //\"padding\",\r\n                // \"stroke\",\r\n                // \"strokeThickness\",\r\n                // \"trim\",\r\n                // \"wordWrap\",\r\n                \"direction\",\r\n                \"textBaseline\",\r\n                \"oversizedBehavior\",\r\n                \"breakWords\",\r\n                \"ellipsis\",\r\n                \"minScale\",\r\n                \"populateText\",\r\n                \"role\",\r\n                \"ignoreFormatting\"\r\n            ]\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Label.prototype, \"text\", {\r\n        /**\r\n         * @ignore Text is not to be used directly\r\n         */\r\n        get: function () {\r\n            return this._text;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._afterNew.call(this);\r\n            this._makeText();\r\n            $array.each(this._textKeys, function (property) {\r\n                var propValue = _this.get(property);\r\n                if (propValue != undefined) {\r\n                    _this._text.set(property, propValue);\r\n                }\r\n            });\r\n            if (this.get(\"html\", \"\") !== \"\") {\r\n                this._text.set(\"text\", \"\");\r\n            }\r\n            this.onPrivate(\"maxWidth\", function () {\r\n                _this._setMaxDimentions();\r\n            });\r\n            this.onPrivate(\"maxHeight\", function () {\r\n                _this._setMaxDimentions();\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Label.prototype, \"_makeText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._text = this.children.push(Text.new(this._root, {}));\r\n        }\r\n    });\r\n    Object.defineProperty(Label.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._updateChildren.call(this);\r\n            $array.each(this._textKeys, function (property) {\r\n                _this._text.set(property, _this.get(property));\r\n            });\r\n            if (this.isDirty(\"maxWidth\")) {\r\n                this._setMaxDimentions();\r\n            }\r\n            if (this.isDirty(\"maxHeight\")) {\r\n                this._setMaxDimentions();\r\n            }\r\n            if (this.isDirty(\"rotation\")) {\r\n                this._setMaxDimentions();\r\n            }\r\n            // Do not show regular text if HTML is used\r\n            if (this.get(\"html\", \"\") !== \"\") {\r\n                this._text.set(\"text\", \"\");\r\n            }\r\n            else {\r\n                this._text.set(\"text\", this.get(\"text\"));\r\n            }\r\n            if (this.isDirty(\"textAlign\") || this.isDirty(\"width\")) {\r\n                var textAlign = this.get(\"textAlign\");\r\n                var x = void 0;\r\n                if (this.get(\"width\") != null) {\r\n                    if (textAlign == \"right\") {\r\n                        x = p100;\r\n                    }\r\n                    else if (textAlign == \"center\") {\r\n                        x = p50;\r\n                    }\r\n                    else {\r\n                        x = 0;\r\n                    }\r\n                }\r\n                else {\r\n                    if (textAlign == \"left\" || textAlign == \"start\") {\r\n                        x = this.get(\"paddingLeft\");\r\n                    }\r\n                    else if (textAlign == \"right\" || textAlign == \"end\") {\r\n                        x = -this.get(\"paddingRight\");\r\n                    }\r\n                }\r\n                this.text.set(\"x\", x);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Label.prototype, \"_setMaxDimentions\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var rotation = this.get(\"rotation\");\r\n            var vertical = rotation == 90 || rotation == 270 || rotation == -90;\r\n            var maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\", Infinity));\r\n            if ($type.isNumber(maxWidth)) {\r\n                this.text.set(vertical ? \"maxHeight\" : \"maxWidth\", maxWidth - this.get(\"paddingLeft\", 0) - this.get(\"paddingRight\", 0));\r\n            }\r\n            else {\r\n                this.text.set(vertical ? \"maxHeight\" : \"maxWidth\", undefined);\r\n            }\r\n            var maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\", Infinity));\r\n            if ($type.isNumber(maxHeight)) {\r\n                this.text.set(vertical ? \"maxWidth\" : \"maxHeight\", maxHeight - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0));\r\n            }\r\n            else {\r\n                this.text.set(vertical ? \"maxWidth\" : \"maxHeight\", undefined);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Label.prototype, \"_setDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            _super.prototype._setDataItem.call(this, dataItem);\r\n            this._markDirtyKey(\"text\");\r\n            if (this.text.get(\"populateText\")) {\r\n                this.text.markDirtyText();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns text with populated placeholders and formatting if `populateText` is\r\n     * set to `true`.\r\n     *\r\n     * @return Populated text\r\n     */\r\n    Object.defineProperty(Label.prototype, \"getText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._text._getText();\r\n        }\r\n    });\r\n    Object.defineProperty(Label, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Label\"\r\n    });\r\n    Object.defineProperty(Label, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([Label.className])\r\n    });\r\n    return Label;\r\n}(Container));\r\nexport { Label };\r\n//# sourceMappingURL=Label.js.map","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"./Graphics\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * Draws a rectangle with a pointer.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nvar PointedRectangle = /** @class */ (function (_super) {\r\n    __extends(PointedRectangle, _super);\r\n    function PointedRectangle() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(PointedRectangle.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"pointerBaseWidth\") || this.isDirty(\"cornerRadius\") || this.isDirty(\"pointerLength\") || this.isDirty(\"pointerX\") || this.isDirty(\"pointerY\") || this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PointedRectangle.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this._clear) {\r\n                this.markDirtyBounds();\r\n                var w = this.width();\r\n                var h = this.height();\r\n                if (w > 0 && h > 0) {\r\n                    var cr = this.get(\"cornerRadius\", 8);\r\n                    cr = $math.fitToRange(cr, 0, Math.min(w / 2, h / 2));\r\n                    var x = this.get(\"pointerX\", 0);\r\n                    var y = this.get(\"pointerY\", 0);\r\n                    var bwh = this.get(\"pointerBaseWidth\", 15) / 2;\r\n                    // corner coordinates\r\n                    // top left\r\n                    var xtl = 0;\r\n                    var ytl = 0;\r\n                    // top right\r\n                    var xtr = w;\r\n                    var ytr = 0;\r\n                    // bottom right\r\n                    var xbr = w;\r\n                    var ybr = h;\r\n                    // bottom left\r\n                    var xbl = 0;\r\n                    var ybl = h;\r\n                    // find stem base side: http://$math.stackexchange.com/questions/274712/calculate-on-which-side-of-straign-line-is-dot-located\r\n                    // d=(xx1)(y2y1)(yy1)(x2x1)\r\n                    var d1 = (x - xtl) * (ybr - ytl) - (y - ytl) * (xbr - xtl);\r\n                    var d2 = (x - xbl) * (ytr - ybl) - (y - ybl) * (xtr - xbl);\r\n                    var display = this._display;\r\n                    // top\r\n                    display.moveTo(cr, 0);\r\n                    if (d1 > 0 && d2 > 0) {\r\n                        var stemX = Math.round($math.fitToRange(x, cr + bwh, w - bwh - cr));\r\n                        y = $math.fitToRange(y, -Infinity, 0);\r\n                        display.lineTo(stemX - bwh, 0);\r\n                        display.lineTo(x, y);\r\n                        display.lineTo(stemX + bwh, 0);\r\n                    }\r\n                    display.lineTo(w - cr, 0);\r\n                    display.arcTo(w, 0, w, cr, cr);\r\n                    // right\r\n                    if (d1 > 0 && d2 < 0) {\r\n                        var stemY = Math.round($math.fitToRange(y, cr + bwh, h - bwh - cr));\r\n                        x = $math.fitToRange(x, w, Infinity);\r\n                        display.lineTo(w, cr);\r\n                        display.lineTo(w, Math.max(stemY - bwh, cr));\r\n                        display.lineTo(x, y);\r\n                        display.lineTo(w, stemY + bwh);\r\n                    }\r\n                    display.lineTo(w, h - cr);\r\n                    display.arcTo(w, h, w - cr, h, cr);\r\n                    // bottom\r\n                    if (d1 < 0 && d2 < 0) {\r\n                        var stemX = Math.round($math.fitToRange(x, cr + bwh, w - bwh - cr));\r\n                        y = $math.fitToRange(y, h, Infinity);\r\n                        display.lineTo(w - cr, h);\r\n                        display.lineTo(stemX + bwh, h);\r\n                        display.lineTo(x, y);\r\n                        display.lineTo(stemX - bwh, h);\r\n                    }\r\n                    display.lineTo(cr, h);\r\n                    display.arcTo(0, h, 0, h - cr, cr);\r\n                    // left\r\n                    if (d1 < 0 && d2 > 0) {\r\n                        var stemY = Math.round($math.fitToRange(y, cr + bwh, h - cr - bwh));\r\n                        x = $math.fitToRange(x, -Infinity, 0);\r\n                        display.lineTo(0, h - cr);\r\n                        display.lineTo(0, stemY + bwh);\r\n                        display.lineTo(x, y);\r\n                        display.lineTo(0, Math.max(stemY - bwh, cr));\r\n                    }\r\n                    display.lineTo(0, cr);\r\n                    display.arcTo(0, 0, cr, 0, cr);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PointedRectangle, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"PointedRectangle\"\r\n    });\r\n    Object.defineProperty(PointedRectangle, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([PointedRectangle.className])\r\n    });\r\n    return PointedRectangle;\r\n}(Graphics));\r\nexport { PointedRectangle };\r\n//# sourceMappingURL=PointedRectangle.js.map","import { __extends } from \"tslib\";\r\nimport { MultiDisposer } from \"../util/Disposer\";\r\nimport { Label } from \"../render/Label\";\r\nimport { PointedRectangle } from \"../render/PointedRectangle\";\r\nimport { Container } from \"./Container\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { Color } from \"../util/Color\";\r\nimport * as $math from \"../util/Math\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $utils from \"../util/Utils\";\r\n/**\r\n * Creates a tooltip.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/tooltips/} for more info\r\n * @important\r\n */\r\nvar Tooltip = /** @class */ (function (_super) {\r\n    __extends(Tooltip, _super);\r\n    function Tooltip(root, settings, isReal, templates) {\r\n        if (templates === void 0) { templates = []; }\r\n        var _this = _super.call(this, root, settings, isReal, templates) || this;\r\n        Object.defineProperty(_this, \"_arrangeDisposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_fx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_fy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_label\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_fillDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_strokeDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_labelDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_w\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_h\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_keepHoverDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        var tooltipRoot = root.tooltipRoot;\r\n        if (tooltipRoot) {\r\n            _this._root = tooltipRoot;\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Tooltip.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"tooltip\"]);\r\n            _super.prototype._afterNew.call(this);\r\n            this.set(\"background\", PointedRectangle.new(this._root, {\r\n                themeTags: [\"tooltip\", \"background\"]\r\n            }));\r\n            this._label = this.children.push(Label.new(this._root, {}));\r\n            this._disposers.push(this._label.events.on(\"boundschanged\", function () {\r\n                _this._updateBackground();\r\n            }));\r\n            this.on(\"bounds\", function () {\r\n                _this._updateBackground();\r\n            });\r\n            this._updateTextColor();\r\n            this._root.tooltipContainer.children.push(this);\r\n            this.hide(0);\r\n            this._root._tooltips.push(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"label\", {\r\n        /**\r\n         * A [[Label]] element for the tooltip.\r\n         *\r\n         * @readonly\r\n         * @return Label\r\n         */\r\n        get: function () {\r\n            return this._label;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Permanently disposes the tooltip.\r\n     */\r\n    Object.defineProperty(Tooltip.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.dispose.call(this);\r\n            $array.remove(this._root._tooltips, this);\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateChildren.call(this);\r\n            var labelText = this.get(\"labelText\");\r\n            if (labelText != null) {\r\n                this.label.set(\"text\", this.get(\"labelText\"));\r\n            }\r\n            var labelHTML = this.get(\"labelHTML\");\r\n            if (labelHTML != null) {\r\n                this.label.set(\"html\", this.get(\"labelHTML\"));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._changed.call(this);\r\n            if (this.isDirty(\"pointTo\")) {\r\n                // can't compare to previous, as sometimes pointTo is set twice (when pointer moves, so the position won't be udpated)\r\n                this._updateBackground();\r\n            }\r\n            if (this.isDirty(\"tooltipTarget\")) {\r\n                this.updateBackgroundColor();\r\n            }\r\n            if (this.isDirty(\"keepTargetHover\")) {\r\n                var keephover = this.get(\"keepTargetHover\");\r\n                if (keephover) {\r\n                    var bg = this.get(\"background\");\r\n                    this._keepHoverDp = new MultiDisposer([\r\n                        bg.events.on(\"pointerover\", function (_ev) {\r\n                            var target = _this.get(\"tooltipTarget\");\r\n                            if (target) {\r\n                                target.hover();\r\n                            }\r\n                        }),\r\n                        bg.events.on(\"pointerout\", function (_ev) {\r\n                            var target = _this.get(\"tooltipTarget\");\r\n                            if (target) {\r\n                                target.unhover();\r\n                            }\r\n                        })\r\n                    ]);\r\n                }\r\n                else {\r\n                    if (this._keepHoverDp) {\r\n                        this._keepHoverDp.dispose();\r\n                        this._keepHoverDp = undefined;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"_onShow\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._onShow.call(this);\r\n            this.updateBackgroundColor();\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"updateBackgroundColor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var tooltipTarget = this.get(\"tooltipTarget\");\r\n            var background = this.get(\"background\");\r\n            var fill;\r\n            var stroke;\r\n            if (tooltipTarget && background) {\r\n                fill = tooltipTarget.get(\"fill\");\r\n                stroke = tooltipTarget.get(\"stroke\");\r\n                if (fill == null) {\r\n                    fill = stroke;\r\n                }\r\n                if (this.get(\"getFillFromSprite\")) {\r\n                    if (this._fillDp) {\r\n                        this._fillDp.dispose();\r\n                    }\r\n                    if (fill != null) {\r\n                        background.set(\"fill\", fill);\r\n                    }\r\n                    this._fillDp = tooltipTarget.on(\"fill\", function (fill) {\r\n                        if (fill != null) {\r\n                            background.set(\"fill\", fill);\r\n                            _this._updateTextColor(fill);\r\n                        }\r\n                    });\r\n                }\r\n                if (this.get(\"getStrokeFromSprite\")) {\r\n                    if (this._strokeDp) {\r\n                        this._strokeDp.dispose();\r\n                    }\r\n                    if (fill != null) {\r\n                        background.set(\"stroke\", fill);\r\n                    }\r\n                    this._strokeDp = tooltipTarget.on(\"fill\", function (fill) {\r\n                        if (fill != null) {\r\n                            background.set(\"stroke\", fill);\r\n                        }\r\n                    });\r\n                }\r\n                if (this.get(\"getLabelFillFromSprite\")) {\r\n                    if (this._labelDp) {\r\n                        this._labelDp.dispose();\r\n                    }\r\n                    if (fill != null) {\r\n                        this.label.set(\"fill\", fill);\r\n                    }\r\n                    this._labelDp = tooltipTarget.on(\"fill\", function (fill) {\r\n                        if (fill != null) {\r\n                            _this.label.set(\"fill\", fill);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            this._updateTextColor(fill);\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"_updateTextColor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill) {\r\n            if (this.get(\"autoTextColor\")) {\r\n                if (fill == null) {\r\n                    fill = this.get(\"background\").get(\"fill\");\r\n                }\r\n                if (fill == null) {\r\n                    fill = this._root.interfaceColors.get(\"background\");\r\n                }\r\n                if (fill instanceof Color) {\r\n                    this.label.set(\"fill\", Color.alternative(fill, this._root.interfaceColors.get(\"alternativeText\"), this._root.interfaceColors.get(\"text\")));\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"_setDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            _super.prototype._setDataItem.call(this, dataItem);\r\n            this.label._setDataItem(dataItem);\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"_updateBackground\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.updateBackground.call(this);\r\n            var parent = this._root.container;\r\n            if (parent) {\r\n                var cw = 0.5;\r\n                var ch = 0.5;\r\n                var centerX = this.get(\"centerX\");\r\n                if (centerX instanceof Percent) {\r\n                    cw = centerX.value;\r\n                }\r\n                var centerY = this.get(\"centerY\");\r\n                if (centerY instanceof Percent) {\r\n                    ch = centerY.value;\r\n                }\r\n                var parentW = parent.width();\r\n                var parentH = parent.height();\r\n                var tooltipContainer = this.parent;\r\n                var xx = 0;\r\n                var yy = 0;\r\n                if (tooltipContainer) {\r\n                    xx = tooltipContainer.x();\r\n                    yy = tooltipContainer.y();\r\n                }\r\n                var bounds = this.get(\"bounds\", { left: -xx, top: -yy, right: parentW - xx, bottom: parentH - yy });\r\n                this._updateBounds();\r\n                var w = this.width();\r\n                var h = this.height();\r\n                // use old w and h,as when tooltip is hidden, these are 0 and unneeded animation happens\r\n                if (w === 0) {\r\n                    w = this._w;\r\n                }\r\n                if (h === 0) {\r\n                    h = this._h;\r\n                }\r\n                var pointTo = this.get(\"pointTo\", { x: parentW / 2, y: parentH / 2 });\r\n                var x = pointTo.x;\r\n                var y = pointTo.y;\r\n                var pointerOrientation = this.get(\"pointerOrientation\");\r\n                var background = this.get(\"background\");\r\n                var pointerLength = 0;\r\n                var bgStrokeSizeY = 0;\r\n                var bgStrokeSizeX = 0;\r\n                if (background instanceof PointedRectangle) {\r\n                    pointerLength = background.get(\"pointerLength\", 0);\r\n                    bgStrokeSizeY = background.get(\"strokeWidth\", 0) / 2;\r\n                    bgStrokeSizeX = bgStrokeSizeY;\r\n                }\r\n                var pointerX = 0;\r\n                var pointerY = 0;\r\n                var boundsW = bounds.right - bounds.left;\r\n                var boundsH = bounds.bottom - bounds.top;\r\n                // horizontal\r\n                if (pointerOrientation == \"horizontal\" || pointerOrientation == \"left\" || pointerOrientation == \"right\") {\r\n                    bgStrokeSizeY = 0;\r\n                    if (pointerOrientation == \"horizontal\") {\r\n                        if (x > bounds.left + boundsW / 2) {\r\n                            x -= (w * (1 - cw) + pointerLength);\r\n                            bgStrokeSizeX *= -1;\r\n                        }\r\n                        else {\r\n                            x += (w * cw + pointerLength);\r\n                        }\r\n                    }\r\n                    else if (pointerOrientation == \"left\") {\r\n                        x += (w * (1 - cw) + pointerLength);\r\n                    }\r\n                    else {\r\n                        x -= (w * cw + pointerLength);\r\n                        bgStrokeSizeX *= -1;\r\n                    }\r\n                }\r\n                // vertical pointer\r\n                else {\r\n                    bgStrokeSizeX = 0;\r\n                    if (pointerOrientation == \"vertical\") {\r\n                        if (y > bounds.top + h / 2 + pointerLength) {\r\n                            y -= (h * (1 - ch) + pointerLength);\r\n                        }\r\n                        else {\r\n                            y += (h * ch + pointerLength);\r\n                            bgStrokeSizeY *= -1;\r\n                        }\r\n                    }\r\n                    else if (pointerOrientation == \"down\") {\r\n                        y -= (h * (1 - ch) + pointerLength);\r\n                    }\r\n                    else {\r\n                        y += (h * ch + pointerLength);\r\n                        bgStrokeSizeY *= -1;\r\n                    }\r\n                }\r\n                x = $math.fitToRange(x, bounds.left + w * cw, bounds.left + boundsW - w * (1 - cw)) + bgStrokeSizeX;\r\n                y = $math.fitToRange(y, bounds.top + h * ch, bounds.top + boundsH - h * (1 - ch)) - bgStrokeSizeY;\r\n                pointerX = pointTo.x - x + w * cw + bgStrokeSizeX;\r\n                pointerY = pointTo.y - y + h * ch - bgStrokeSizeY;\r\n                this._fx = x;\r\n                this._fy = y;\r\n                var animationDuration = this.get(\"animationDuration\", 0);\r\n                if (animationDuration > 0 && this.get(\"visible\") && this.get(\"opacity\") > 0.1) {\r\n                    var animationEasing = this.get(\"animationEasing\");\r\n                    this.animate({ key: \"x\", to: x, duration: animationDuration, easing: animationEasing });\r\n                    this.animate({ key: \"y\", to: y, duration: animationDuration, easing: animationEasing });\r\n                }\r\n                else {\r\n                    this.set(\"x\", x);\r\n                    this.set(\"y\", y);\r\n                }\r\n                if (background instanceof PointedRectangle) {\r\n                    background.set(\"pointerX\", pointerX);\r\n                    background.set(\"pointerY\", pointerY);\r\n                }\r\n                if (w > 0) {\r\n                    this._w = w;\r\n                }\r\n                if (h > 0) {\r\n                    this._h = h;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Tooltip\"\r\n    });\r\n    Object.defineProperty(Tooltip, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([Tooltip.className])\r\n    });\r\n    return Tooltip;\r\n}(Container));\r\nexport { Tooltip };\r\n//# sourceMappingURL=Tooltip.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"./Entity\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\nimport * as $object from \"./Object\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Number formatter\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n * @important\r\n */\r\nvar NumberFormatter = /** @class */ (function (_super) {\r\n    __extends(NumberFormatter, _super);\r\n    function NumberFormatter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(NumberFormatter.prototype, \"_setDefaults\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // Defaults\r\n            this._setDefault(\"negativeBase\", 0);\r\n            this._setDefault(\"numberFormat\", \"#,###.#####\");\r\n            this._setDefault(\"smallNumberThreshold\", 1.00);\r\n            var bns = \"_big_number_suffix_\";\r\n            var sns = \"_small_number_suffix_\";\r\n            var bs = \"_byte_suffix_\";\r\n            this._setDefault(\"bigNumberPrefixes\", [\r\n                { \"number\": 1e+3, \"suffix\": this._t(bns + \"3\") },\r\n                { \"number\": 1e+6, \"suffix\": this._t(bns + \"6\") },\r\n                { \"number\": 1e+9, \"suffix\": this._t(bns + \"9\") },\r\n                { \"number\": 1e+12, \"suffix\": this._t(bns + \"12\") },\r\n                { \"number\": 1e+15, \"suffix\": this._t(bns + \"15\") },\r\n                { \"number\": 1e+18, \"suffix\": this._t(bns + \"18\") },\r\n                { \"number\": 1e+21, \"suffix\": this._t(bns + \"21\") },\r\n                { \"number\": 1e+24, \"suffix\": this._t(bns + \"24\") }\r\n            ]);\r\n            this._setDefault(\"smallNumberPrefixes\", [\r\n                { \"number\": 1e-24, \"suffix\": this._t(sns + \"24\") },\r\n                { \"number\": 1e-21, \"suffix\": this._t(sns + \"21\") },\r\n                { \"number\": 1e-18, \"suffix\": this._t(sns + \"18\") },\r\n                { \"number\": 1e-15, \"suffix\": this._t(sns + \"15\") },\r\n                { \"number\": 1e-12, \"suffix\": this._t(sns + \"12\") },\r\n                { \"number\": 1e-9, \"suffix\": this._t(sns + \"9\") },\r\n                { \"number\": 1e-6, \"suffix\": this._t(sns + \"6\") },\r\n                { \"number\": 1e-3, \"suffix\": this._t(sns + \"3\") }\r\n            ]);\r\n            this._setDefault(\"bytePrefixes\", [\r\n                { \"number\": 1, suffix: this._t(bs + \"B\") },\r\n                { \"number\": 1024, suffix: this._t(bs + \"KB\") },\r\n                { \"number\": 1048576, suffix: this._t(bs + \"MB\") },\r\n                { \"number\": 1073741824, suffix: this._t(bs + \"GB\") },\r\n                { \"number\": 1099511627776, suffix: this._t(bs + \"TB\") },\r\n                { \"number\": 1125899906842624, suffix: this._t(bs + \"PB\") }\r\n            ]);\r\n            _super.prototype._setDefaults.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(NumberFormatter.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * Formats the number according to specific format.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @return Formatted number\r\n     */\r\n    Object.defineProperty(NumberFormatter.prototype, \"format\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, format, precision) {\r\n            // no format passed in or \"Number\"\r\n            if (format == null || ($type.isString(format) && format.toLowerCase() === \"number\")) {\r\n                format = this.get(\"numberFormat\", \"\");\r\n            }\r\n            // Init return value\r\n            var formatted;\r\n            // Cast to number just in case\r\n            // TODO: maybe use better casting\r\n            var source = Number(value);\r\n            // Is it a built-in format or Intl.NumberFormatOptions\r\n            if ($type.isObject(format)) {\r\n                try {\r\n                    if (this.get(\"intlLocales\")) {\r\n                        return new Intl.NumberFormat(this.get(\"intlLocales\"), format).format(source);\r\n                    }\r\n                    else {\r\n                        return new Intl.NumberFormat(undefined, format).format(source);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    return \"Invalid\";\r\n                }\r\n            }\r\n            else {\r\n                // Clean format\r\n                format = $utils.cleanFormat(format);\r\n                // Get format info (it will also deal with parser caching)\r\n                var info = this.parseFormat(format, this._root.language);\r\n                // format and replace the number\r\n                var details = void 0;\r\n                if (source > this.get(\"negativeBase\")) {\r\n                    details = info.positive;\r\n                }\r\n                else if (source < this.get(\"negativeBase\")) {\r\n                    details = info.negative;\r\n                }\r\n                else {\r\n                    details = info.zero;\r\n                }\r\n                // Adjust precision\r\n                if (precision != null && !details.mod) {\r\n                    details = $object.copy(details);\r\n                    details.decimals.active = source == 0 ? 0 : precision;\r\n                }\r\n                // Format\r\n                formatted = details.template.split($type.PLACEHOLDER).join(this.applyFormat(source, details));\r\n            }\r\n            return formatted;\r\n        }\r\n    });\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format Format string, i.e. \"#,###.00\"\r\n     * @param language Language\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(NumberFormatter.prototype, \"parseFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (format, language) {\r\n            // Check cache\r\n            // TODO\r\n            // let cached = this.getCache(format);\r\n            // if (cached != null) {\r\n            // \treturn cached;\r\n            // }\r\n            var _this = this;\r\n            var thousandSeparator = language.translateEmpty(\"_thousandSeparator\");\r\n            var decimalSeparator = language.translateEmpty(\"_decimalSeparator\");\r\n            // init format parse info holder\r\n            var info = {\r\n                \"positive\": {\r\n                    \"thousands\": {\r\n                        \"active\": -1,\r\n                        \"passive\": -1,\r\n                        \"interval\": -1,\r\n                        \"separator\": thousandSeparator\r\n                    },\r\n                    \"decimals\": {\r\n                        \"active\": -1,\r\n                        \"passive\": -1,\r\n                        \"separator\": decimalSeparator\r\n                    },\r\n                    \"template\": \"\",\r\n                    \"source\": \"\",\r\n                    \"parsed\": false\r\n                },\r\n                \"negative\": {\r\n                    \"thousands\": {\r\n                        \"active\": -1,\r\n                        \"passive\": -1,\r\n                        \"interval\": -1,\r\n                        \"separator\": thousandSeparator\r\n                    },\r\n                    \"decimals\": {\r\n                        \"active\": -1,\r\n                        \"passive\": -1,\r\n                        \"separator\": decimalSeparator\r\n                    },\r\n                    \"template\": \"\",\r\n                    \"source\": \"\",\r\n                    \"parsed\": false\r\n                },\r\n                \"zero\": {\r\n                    \"thousands\": {\r\n                        \"active\": -1,\r\n                        \"passive\": -1,\r\n                        \"interval\": -1,\r\n                        \"separator\": thousandSeparator\r\n                    },\r\n                    \"decimals\": {\r\n                        \"active\": -1,\r\n                        \"passive\": -1,\r\n                        \"separator\": decimalSeparator\r\n                    },\r\n                    \"template\": \"\",\r\n                    \"source\": \"\",\r\n                    \"parsed\": false\r\n                }\r\n            };\r\n            // Escape double vertical bars (that mean display one vertical bar)\r\n            format = format.replace(\"||\", $type.PLACEHOLDER2);\r\n            // Split it up and deal with different formats\r\n            var parts = format.split(\"|\");\r\n            info.positive.source = parts[0];\r\n            if (typeof parts[2] === \"undefined\") {\r\n                info.zero = info.positive;\r\n            }\r\n            else {\r\n                info.zero.source = parts[2];\r\n            }\r\n            if (typeof parts[1] === \"undefined\") {\r\n                info.negative = info.positive;\r\n            }\r\n            else {\r\n                info.negative.source = parts[1];\r\n            }\r\n            // Parse each\r\n            $object.each(info, function (_part, item) {\r\n                // Already parsed\r\n                if (item.parsed) {\r\n                    return;\r\n                }\r\n                // Check cached\r\n                // TODO\r\n                // if (typeof this.getCache(item.source) !== \"undefined\") {\r\n                // \tinfo[part] = this.getCache(item.source);\r\n                // \treturn;\r\n                // }\r\n                // Begin parsing\r\n                var partFormat = item.source;\r\n                // Just \"Number\"?\r\n                if (partFormat.toLowerCase() === \"number\") {\r\n                    partFormat = _this.get(\"numberFormat\", \"#,###.#####\");\r\n                }\r\n                // Let TextFormatter split into chunks\r\n                var chunks = TextFormatter.chunk(partFormat, true);\r\n                for (var i = 0; i < chunks.length; i++) {\r\n                    var chunk = chunks[i];\r\n                    // replace back double vertical bar\r\n                    chunk.text = chunk.text.replace($type.PLACEHOLDER2, \"|\");\r\n                    if (chunk.type === \"value\") {\r\n                        // Parse format\r\n                        // Look for codes\r\n                        var matches = chunk.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP!]?/);\r\n                        if (matches) {\r\n                            if (matches === null || matches[0] === \"\") {\r\n                                // no codes here - assume string\r\n                                // nothing to do here\r\n                                item.template += chunk.text;\r\n                            }\r\n                            else {\r\n                                // look for the format modifiers at the end\r\n                                var mods = matches[0].match(/[abespABESP%!]{2}|[abespABESP%]{1}$/);\r\n                                if (mods) {\r\n                                    item.mod = mods[0].toLowerCase();\r\n                                    item.modSpacing = matches[0].match(/[ ]{1}[abespABESP%!]{1}$/) ? true : false;\r\n                                }\r\n                                // break the format up\r\n                                var a = matches[0].split(\".\");\r\n                                // Deal with thousands\r\n                                if (a[0] === \"\") {\r\n                                    // No directives for thousands\r\n                                    // Leave default settings (no formatting)\r\n                                }\r\n                                else {\r\n                                    // Counts\r\n                                    item.thousands.active = (a[0].match(/0/g) || []).length;\r\n                                    item.thousands.passive = (a[0].match(/\\#/g) || []).length + item.thousands.active;\r\n                                    // Separator interval\r\n                                    var b = a[0].split(\",\");\r\n                                    if (b.length === 1) {\r\n                                        // No thousands separators\r\n                                        // Do nothing\r\n                                    }\r\n                                    else {\r\n                                        // Use length fo the last chunk as thousands length\r\n                                        item.thousands.interval = (b.pop() || \"\").length;\r\n                                        if (item.thousands.interval === 0) {\r\n                                            item.thousands.interval = -1;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                // Deal with decimals\r\n                                if (typeof (a[1]) === \"undefined\") {\r\n                                    // No directives for decimals\r\n                                    // Leave at defaults (no formatting)\r\n                                }\r\n                                else {\r\n                                    // Counts\r\n                                    item.decimals.active = (a[1].match(/0/g) || []).length;\r\n                                    item.decimals.passive = (a[1].match(/\\#/g) || []).length + item.decimals.active;\r\n                                }\r\n                                // Add special code to template\r\n                                item.template += chunk.text.split(matches[0]).join($type.PLACEHOLDER);\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Quoted string - take it as it is\r\n                        item.template += chunk.text;\r\n                    }\r\n                }\r\n                // Apply style formatting\r\n                //item.template = getTextFormatter().format(item.template, this.outputFormat);\r\n                // Save cache\r\n                // TODO\r\n                //this.setCache(item.source, item);\r\n                // Mark this as parsed\r\n                item.parsed = true;\r\n            });\r\n            // Save cache (the whole thing)\r\n            // TODO\r\n            //this.setCache(format, info);\r\n            return info;\r\n        }\r\n    });\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by parseFormat()\r\n     * @return Formatted number\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(NumberFormatter.prototype, \"applyFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, details) {\r\n            // Use absolute values\r\n            var negative = value < 0;\r\n            value = Math.abs(value);\r\n            // Recalculate according to modifier\r\n            var prefix = \"\", suffix = \"\";\r\n            var mods = details.mod ? details.mod.split(\"\") : [];\r\n            if (mods.indexOf(\"b\") !== -1) {\r\n                var a_1 = this.applyPrefix(value, this.get(\"bytePrefixes\"), mods.indexOf(\"!\") !== -1);\r\n                value = a_1[0];\r\n                prefix = a_1[1];\r\n                suffix = a_1[2];\r\n                if (details.modSpacing) {\r\n                    suffix = \" \" + suffix;\r\n                }\r\n            }\r\n            else if (mods.indexOf(\"a\") !== -1) {\r\n                var a_2 = this.applyPrefix(value, value < this.get(\"smallNumberThreshold\") ? this.get(\"smallNumberPrefixes\") : this.get(\"bigNumberPrefixes\"), mods.indexOf(\"!\") !== -1);\r\n                value = a_2[0];\r\n                prefix = a_2[1];\r\n                suffix = a_2[2];\r\n                if (details.modSpacing) {\r\n                    suffix = \" \" + suffix;\r\n                }\r\n            }\r\n            else if (mods.indexOf(\"p\") !== -1) {\r\n                var ol = Math.min(value.toString().length + 2, 21);\r\n                //value *= 100;\r\n                value = parseFloat(value.toPrecision(ol));\r\n                prefix = this._root.language.translate(\"_percentPrefix\");\r\n                suffix = this._root.language.translate(\"_percentSuffix\");\r\n                if (prefix == \"\" && suffix == \"\") {\r\n                    suffix = \"%\";\r\n                }\r\n            }\r\n            else if (mods.indexOf(\"%\") !== -1) {\r\n                var ol = Math.min(value.toString().length + 2, 21);\r\n                value *= 100;\r\n                value = parseFloat(value.toPrecision(ol));\r\n                suffix = \"%\";\r\n            }\r\n            else if (mods.indexOf(\"\") !== -1) {\r\n                var ol = Math.min(value.toString().length + 3, 21);\r\n                value *= 1000;\r\n                value = parseFloat(value.toPrecision(ol));\r\n                suffix = \"\";\r\n            }\r\n            // Round to passive\r\n            if (mods.indexOf(\"e\") !== -1) {\r\n                // convert the value to exponential\r\n                var exp = void 0;\r\n                if (details.decimals.passive >= 0) {\r\n                    exp = value.toExponential(details.decimals.passive).split(\"e\");\r\n                }\r\n                else {\r\n                    exp = value.toExponential().split(\"e\");\r\n                }\r\n                value = Number(exp[0]);\r\n                suffix = \"e\" + exp[1];\r\n                if (details.modSpacing) {\r\n                    suffix = \" \" + suffix;\r\n                }\r\n            }\r\n            else if (details.decimals.passive === 0) {\r\n                value = Math.round(value);\r\n            }\r\n            else if (details.decimals.passive > 0) {\r\n                var d = Math.pow(10, details.decimals.passive);\r\n                value = Math.round(value * d) / d;\r\n            }\r\n            // Init return value\r\n            var res = \"\";\r\n            // Calc integer and decimal parts\r\n            var a = $type.numberToString(value).split(\".\");\r\n            // Format integers\r\n            var ints = a[0];\r\n            // Pad integers to active length\r\n            if (ints.length < details.thousands.active) {\r\n                ints = Array(details.thousands.active - ints.length + 1).join(\"0\") + ints;\r\n            }\r\n            // Insert thousands separators\r\n            if (details.thousands.interval > 0) {\r\n                var ip = [];\r\n                var intsr = ints.split(\"\").reverse().join(\"\");\r\n                for (var i = 0, len = ints.length; i <= len; i += details.thousands.interval) {\r\n                    var c = intsr.substr(i, details.thousands.interval).split(\"\").reverse().join(\"\");\r\n                    if (c !== \"\") {\r\n                        ip.unshift(c);\r\n                    }\r\n                }\r\n                ints = ip.join(details.thousands.separator);\r\n            }\r\n            // Add integers\r\n            res += ints;\r\n            // Add decimals\r\n            if (a.length === 1) {\r\n                a.push(\"\");\r\n            }\r\n            var decs = a[1];\r\n            // Fill zeros?\r\n            if (decs.length < details.decimals.active) {\r\n                decs += Array(details.decimals.active - decs.length + 1).join(\"0\");\r\n            }\r\n            if (decs !== \"\") {\r\n                res += details.decimals.separator + decs;\r\n            }\r\n            // Can't have empty return value\r\n            if (res === \"\") {\r\n                res = \"0\";\r\n            }\r\n            // Add minus sign back\r\n            if (value !== 0 && negative && (mods.indexOf(\"s\") === -1)) {\r\n                res = \"-\" + res;\r\n            }\r\n            // Add suffixes/prefixes\r\n            if (prefix) {\r\n                res = prefix + res;\r\n            }\r\n            if (suffix) {\r\n                res += suffix;\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    Object.defineProperty(NumberFormatter.prototype, \"applyPrefix\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, prefixes, force) {\r\n            if (force === void 0) { force = false; }\r\n            var newvalue = value;\r\n            var prefix = \"\";\r\n            var suffix = \"\";\r\n            var applied = false;\r\n            var k = 1;\r\n            for (var i = 0, len = prefixes.length; i < len; i++) {\r\n                if (prefixes[i].number <= value) {\r\n                    if (prefixes[i].number === 0) {\r\n                        newvalue = 0;\r\n                    }\r\n                    else {\r\n                        newvalue = value / prefixes[i].number;\r\n                        k = prefixes[i].number;\r\n                    }\r\n                    prefix = prefixes[i].prefix;\r\n                    suffix = prefixes[i].suffix;\r\n                    applied = true;\r\n                }\r\n            }\r\n            if (!applied && force && prefixes.length && value != 0) {\r\n                // Prefix was not applied. Use the first prefix.\r\n                newvalue = value / prefixes[0].number;\r\n                prefix = prefixes[0].prefix;\r\n                suffix = prefixes[0].suffix;\r\n                applied = true;\r\n            }\r\n            if (applied) {\r\n                newvalue = parseFloat(newvalue.toPrecision(Math.min(k.toString().length + Math.floor(newvalue).toString().replace(/[^0-9]*/g, \"\").length, 21)));\r\n            }\r\n            return [newvalue, prefix, suffix];\r\n        }\r\n    });\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    Object.defineProperty(NumberFormatter.prototype, \"escape\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            return text.replace(\"||\", $type.PLACEHOLDER2);\r\n        }\r\n    });\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    Object.defineProperty(NumberFormatter.prototype, \"unescape\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            return text.replace($type.PLACEHOLDER2, \"|\");\r\n        }\r\n    });\r\n    return NumberFormatter;\r\n}(Entity));\r\nexport { NumberFormatter };\r\n//# sourceMappingURL=NumberFormatter.js.map","function parseDate(timezone, date) {\r\n    var year = 0;\r\n    var month = 0;\r\n    var day = 1;\r\n    var hour = 0;\r\n    var minute = 0;\r\n    var second = 0;\r\n    var millisecond = 0;\r\n    var weekday = 0;\r\n    timezone.formatToParts(date).forEach(function (x) {\r\n        switch (x.type) {\r\n            case \"year\":\r\n                year = +x.value;\r\n                break;\r\n            case \"month\":\r\n                month = (+x.value) - 1;\r\n                break;\r\n            case \"day\":\r\n                day = +x.value;\r\n                break;\r\n            case \"hour\":\r\n                hour = +x.value;\r\n                break;\r\n            case \"minute\":\r\n                minute = +x.value;\r\n                break;\r\n            case \"second\":\r\n                second = +x.value;\r\n                break;\r\n            case \"fractionalSecond\":\r\n                millisecond = +x.value;\r\n                break;\r\n            case \"weekday\":\r\n                switch (x.value) {\r\n                    case \"Sun\":\r\n                        weekday = 0;\r\n                        break;\r\n                    case \"Mon\":\r\n                        weekday = 1;\r\n                        break;\r\n                    case \"Tue\":\r\n                        weekday = 2;\r\n                        break;\r\n                    case \"Wed\":\r\n                        weekday = 3;\r\n                        break;\r\n                    case \"Thu\":\r\n                        weekday = 4;\r\n                        break;\r\n                    case \"Fri\":\r\n                        weekday = 5;\r\n                        break;\r\n                    case \"Sat\":\r\n                        weekday = 6;\r\n                        break;\r\n                }\r\n        }\r\n    });\r\n    if (hour === 24) {\r\n        hour = 0;\r\n    }\r\n    return { year: year, month: month, day: day, hour: hour, minute: minute, second: second, millisecond: millisecond, weekday: weekday };\r\n}\r\nfunction toUTCDate(timezone, date) {\r\n    var _a = parseDate(timezone, date), year = _a.year, month = _a.month, day = _a.day, hour = _a.hour, minute = _a.minute, second = _a.second, millisecond = _a.millisecond;\r\n    return Date.UTC(year, month, day, hour, minute, second, millisecond);\r\n}\r\nvar Timezone = /** @class */ (function () {\r\n    function Timezone(timezone, isReal) {\r\n        Object.defineProperty(this, \"_utc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dtf\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"name\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this.name = timezone;\r\n        this._utc = new Intl.DateTimeFormat(\"UTC\", {\r\n            hour12: false,\r\n            timeZone: \"UTC\",\r\n            year: \"numeric\",\r\n            month: \"2-digit\",\r\n            day: \"2-digit\",\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n            weekday: \"short\",\r\n            fractionalSecondDigits: 3,\r\n        });\r\n        this._dtf = new Intl.DateTimeFormat(\"UTC\", {\r\n            hour12: false,\r\n            timeZone: timezone,\r\n            year: \"numeric\",\r\n            month: \"2-digit\",\r\n            day: \"2-digit\",\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n            weekday: \"short\",\r\n            fractionalSecondDigits: 3,\r\n        });\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   timezone  IANA timezone\r\n     * @return            Instantiated object\r\n     */\r\n    Object.defineProperty(Timezone, \"new\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (timezone) {\r\n            return (new this(timezone, true));\r\n        }\r\n    });\r\n    Object.defineProperty(Timezone.prototype, \"convertLocal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (date) {\r\n            var offset = this.offsetUTC(date);\r\n            var userOffset = date.getTimezoneOffset();\r\n            var output = new Date(date);\r\n            output.setUTCMinutes(output.getUTCMinutes() - (offset - userOffset));\r\n            var newUserOffset = output.getTimezoneOffset();\r\n            if (userOffset != newUserOffset) {\r\n                output.setUTCMinutes(output.getUTCMinutes() + newUserOffset - userOffset);\r\n            }\r\n            return output;\r\n        }\r\n    });\r\n    Object.defineProperty(Timezone.prototype, \"offsetUTC\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (date) {\r\n            var utc = toUTCDate(this._utc, date);\r\n            var dtf = toUTCDate(this._dtf, date);\r\n            return (utc - dtf) / 60000;\r\n        }\r\n    });\r\n    Object.defineProperty(Timezone.prototype, \"parseDate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (date) {\r\n            return parseDate(this._dtf, date);\r\n        }\r\n    });\r\n    return Timezone;\r\n}());\r\nexport { Timezone };\r\n//# sourceMappingURL=Timezone.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"./Entity\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\nimport { Timezone } from \"./Timezone\";\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\nvar DateFormatter = /** @class */ (function (_super) {\r\n    __extends(DateFormatter, _super);\r\n    function DateFormatter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(DateFormatter.prototype, \"_setDefaults\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // Defaults\r\n            this._setDefault(\"capitalize\", true);\r\n            this._setDefault(\"dateFormat\", \"yyyy-MM-dd\");\r\n            _super.prototype._setDefaults.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"format\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (source, format) {\r\n            // Locale?\r\n            // TODO\r\n            // No format passed in or it's empty\r\n            if (typeof format === \"undefined\" || format === \"\") {\r\n                format = this.get(\"dateFormat\", \"yyyy-MM-dd\");\r\n            }\r\n            // Init return value\r\n            var formatted;\r\n            // Cast?\r\n            // TODO: decide if we need to cast\r\n            var date = source;\r\n            // Is it a built-in format or Intl.DateTimeFormat\r\n            if ($type.isObject(format)) {\r\n                try {\r\n                    var locales = this.get(\"intlLocales\");\r\n                    if (locales) {\r\n                        return new Intl.DateTimeFormat(locales, format).format(date);\r\n                    }\r\n                    else {\r\n                        return new Intl.DateTimeFormat(undefined, format).format(date);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    return \"Invalid\";\r\n                }\r\n            }\r\n            // get format info (it will also deal with parser caching)\r\n            var info = this.parseFormat(format);\r\n            // Should we apply custom time zone?\r\n            var timezone = this._root.timezone;\r\n            if (timezone && !this._root.utc) {\r\n                date = timezone.convertLocal(date);\r\n            }\r\n            // Check if it's a valid date\r\n            if (!$type.isNumber(date.getTime())) {\r\n                // TODO translation\r\n                //return this._t(\"Invalid date\");\r\n                return \"Invalid date\";\r\n            }\r\n            // Apply format\r\n            formatted = this.applyFormat(date, info);\r\n            // Capitalize\r\n            if (this.get(\"capitalize\")) {\r\n                formatted = formatted.replace(/^.{1}/, formatted.substr(0, 1).toUpperCase());\r\n            }\r\n            // We're done\r\n            return formatted;\r\n        }\r\n    });\r\n    /**\r\n     * Applies format to Date.\r\n     *\r\n     * @param date      Date object\r\n     * @param info      Parsed format information\r\n     * @return Formatted date string\r\n     */\r\n    Object.defineProperty(DateFormatter.prototype, \"applyFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (date, info) {\r\n            // Init return value\r\n            var res = info.template;\r\n            // Get values\r\n            var fullYear, month, weekday, day, hours, minutes, seconds, milliseconds, timestamp = date.getTime();\r\n            if (this._root.utc) {\r\n                fullYear = date.getUTCFullYear();\r\n                month = date.getUTCMonth();\r\n                weekday = date.getUTCDay();\r\n                day = date.getUTCDate();\r\n                hours = date.getUTCHours();\r\n                minutes = date.getUTCMinutes();\r\n                seconds = date.getUTCSeconds();\r\n                milliseconds = date.getUTCMilliseconds();\r\n            }\r\n            else {\r\n                fullYear = date.getFullYear();\r\n                month = date.getMonth();\r\n                weekday = date.getDay();\r\n                day = date.getDate();\r\n                hours = date.getHours();\r\n                minutes = date.getMinutes();\r\n                seconds = date.getSeconds();\r\n                milliseconds = date.getMilliseconds();\r\n            }\r\n            // Go through each part and format/replace it in template\r\n            for (var i = 0, len = info.parts.length; i < len; i++) {\r\n                var value = \"\";\r\n                switch (info.parts[i]) {\r\n                    case \"G\":\r\n                        value = this._t(fullYear < 0\r\n                            ? \"_era_bc\"\r\n                            : \"_era_ad\");\r\n                        break;\r\n                    case \"yyyy\":\r\n                        value = Math.abs(fullYear).toString();\r\n                        if (fullYear < 0) {\r\n                            value += this._t(\"_era_bc\");\r\n                        }\r\n                        break;\r\n                    case \"yyy\":\r\n                    case \"yy\":\r\n                    case \"y\":\r\n                        value = Math.abs(fullYear).toString().substr(-info.parts[i].length);\r\n                        if (fullYear < 0) {\r\n                            value += this._t(\"_era_bc\");\r\n                        }\r\n                        break;\r\n                    case \"YYYY\":\r\n                    case \"YYY\":\r\n                    case \"YY\":\r\n                    case \"Y\":\r\n                        var week = $utils.getWeek(date);\r\n                        var year = fullYear;\r\n                        if (week == 1 && (weekday > 4)) {\r\n                            year--;\r\n                        }\r\n                        if (info.parts[i] == \"YYYY\") {\r\n                            value = Math.abs(year).toString();\r\n                        }\r\n                        else {\r\n                            value = Math.abs(year).toString().substr(-info.parts[i].length);\r\n                        }\r\n                        if (year < 0) {\r\n                            value += this._t(\"_era_bc\");\r\n                        }\r\n                        break;\r\n                    case \"u\":\r\n                        // @todo\r\n                        break;\r\n                    case \"q\":\r\n                        value = \"\" + Math.ceil((date.getMonth() + 1) / 3);\r\n                        break;\r\n                    case \"MMMMM\":\r\n                        value = this._t(this._getMonth(month)).substr(0, 1);\r\n                        break;\r\n                    case \"MMMM\":\r\n                        value = this._t(this._getMonth(month));\r\n                        break;\r\n                    case \"MMM\":\r\n                        value = this._t(this._getShortMonth(month));\r\n                        break;\r\n                    case \"MM\":\r\n                        value = $utils.padString(month + 1, 2, \"0\");\r\n                        break;\r\n                    case \"M\":\r\n                        value = (month + 1).toString();\r\n                        break;\r\n                    case \"ww\":\r\n                        value = $utils.padString($utils.getWeek(date, this._root.utc), 2, \"0\");\r\n                        break;\r\n                    case \"w\":\r\n                        value = $utils.getWeek(date, this._root.utc).toString();\r\n                        break;\r\n                    case \"W\":\r\n                        value = $utils.getMonthWeek(date, this._root.utc).toString();\r\n                        break;\r\n                    case \"dd\":\r\n                        value = $utils.padString(day, 2, \"0\");\r\n                        break;\r\n                    case \"d\":\r\n                        value = day.toString();\r\n                        break;\r\n                    case \"DD\":\r\n                    case \"DDD\":\r\n                        value = $utils.padString($utils.getYearDay(date, this._root.utc).toString(), info.parts[i].length, \"0\");\r\n                        break;\r\n                    case \"D\":\r\n                        value = $utils.getYearDay(date, this._root.utc).toString();\r\n                        break;\r\n                    case \"F\":\r\n                        // @todo\r\n                        break;\r\n                    case \"g\":\r\n                        // @todo\r\n                        break;\r\n                    case \"t\":\r\n                        value = this._root.language.translateFunc(\"_dateOrd\").call(this, day);\r\n                        break;\r\n                    case \"E\":\r\n                        value = (weekday || 7).toString();\r\n                        break;\r\n                    case \"EE\":\r\n                        value = $utils.padString((weekday || 7).toString(), 2, \"0\");\r\n                        break;\r\n                    case \"EEE\":\r\n                    case \"eee\":\r\n                        value = this._t(this._getShortWeekday(weekday));\r\n                        break;\r\n                    case \"EEEE\":\r\n                    case \"eeee\":\r\n                        value = this._t(this._getWeekday(weekday));\r\n                        break;\r\n                    case \"EEEEE\":\r\n                    case \"eeeee\":\r\n                        value = this._t(this._getShortWeekday(weekday)).substr(0, 1);\r\n                        break;\r\n                    case \"e\":\r\n                    case \"ee\":\r\n                        value = (weekday - (this._root.locale.firstDayOfWeek || 1) + 1).toString();\r\n                        if (info.parts[i] == \"ee\") {\r\n                            value = $utils.padString(value, 2, \"0\");\r\n                        }\r\n                        break;\r\n                    case \"a\":\r\n                        if (hours >= 12) {\r\n                            value = this._t(\"PM\");\r\n                        }\r\n                        else {\r\n                            value = this._t(\"AM\");\r\n                        }\r\n                        break;\r\n                    case \"aa\":\r\n                        if (hours >= 12) {\r\n                            value = this._t(\"P.M.\");\r\n                        }\r\n                        else {\r\n                            value = this._t(\"A.M.\");\r\n                        }\r\n                        break;\r\n                    case \"aaa\":\r\n                        if (hours >= 12) {\r\n                            value = this._t(\"P\");\r\n                        }\r\n                        else {\r\n                            value = this._t(\"A\");\r\n                        }\r\n                        break;\r\n                    case \"h\":\r\n                        value = $utils.get12Hours(hours).toString();\r\n                        break;\r\n                    case \"hh\":\r\n                        value = $utils.padString($utils.get12Hours(hours), 2, \"0\");\r\n                        break;\r\n                    case \"H\":\r\n                        value = hours.toString();\r\n                        break;\r\n                    case \"HH\":\r\n                        value = $utils.padString(hours, 2, \"0\");\r\n                        break;\r\n                    case \"K\":\r\n                        value = $utils.get12Hours(hours, 0).toString();\r\n                        break;\r\n                    case \"KK\":\r\n                        value = $utils.padString($utils.get12Hours(hours, 0), 2, \"0\");\r\n                        break;\r\n                    case \"k\":\r\n                        value = (hours + 1).toString();\r\n                        break;\r\n                    case \"kk\":\r\n                        value = $utils.padString(hours + 1, 2, \"0\");\r\n                        break;\r\n                    case \"m\":\r\n                        value = minutes.toString();\r\n                        break;\r\n                    case \"mm\":\r\n                        value = $utils.padString(minutes, 2, \"0\");\r\n                        break;\r\n                    case \"s\":\r\n                        value = seconds.toString();\r\n                        break;\r\n                    case \"ss\":\r\n                        value = $utils.padString(seconds, 2, \"0\");\r\n                        break;\r\n                    case \"S\":\r\n                    case \"SS\":\r\n                    case \"SSS\":\r\n                        value = Math.round((milliseconds / 1000) * Math.pow(10, info.parts[i].length)).toString();\r\n                        break;\r\n                    case \"x\":\r\n                        value = timestamp.toString();\r\n                        break;\r\n                    case \"n\":\r\n                    case \"nn\":\r\n                    case \"nnn\":\r\n                        value = $utils.padString(milliseconds, info.parts[i].length, \"0\");\r\n                        break;\r\n                    case \"z\":\r\n                        value = $utils.getTimeZone(date, false, false, this._root.utc);\r\n                        break;\r\n                    case \"zz\":\r\n                        value = $utils.getTimeZone(date, true, false, this._root.utc);\r\n                        break;\r\n                    case \"zzz\":\r\n                        value = $utils.getTimeZone(date, false, true, this._root.utc);\r\n                        break;\r\n                    case \"zzzz\":\r\n                        value = $utils.getTimeZone(date, true, true, this._root.utc);\r\n                        break;\r\n                    case \"Z\":\r\n                    case \"ZZ\":\r\n                        var timezone = this._root.utc ? \"UTC\" : this._root.timezone;\r\n                        if (timezone instanceof Timezone) {\r\n                            timezone = timezone.name;\r\n                        }\r\n                        var offset = timezone ? $utils.getTimezoneOffset(timezone) : date.getTimezoneOffset();\r\n                        var tz = Math.abs(offset) / 60;\r\n                        var tzh = Math.floor(tz);\r\n                        var tzm = tz * 60 - tzh * 60;\r\n                        if (this._root.utc) {\r\n                            tzh = 0;\r\n                            tzm = 0;\r\n                        }\r\n                        if (info.parts[i] == \"Z\") {\r\n                            value = \"GMT\";\r\n                            value += offset > 0 ? \"-\" : \"+\";\r\n                            value += $utils.padString(tzh, 2) + \":\" + $utils.padString(tzm, 2);\r\n                        }\r\n                        else {\r\n                            value = offset > 0 ? \"-\" : \"+\";\r\n                            value += $utils.padString(tzh, 2) + $utils.padString(tzm, 2);\r\n                        }\r\n                        break;\r\n                    case \"i\":\r\n                        value = date.toISOString();\r\n                        break;\r\n                    case \"I\":\r\n                        value = date.toUTCString();\r\n                        break;\r\n                }\r\n                res = res.replace($type.PLACEHOLDER, value);\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    /**\r\n     * Parses format into structured infromation.\r\n     *\r\n     * @param format Format template\r\n     */\r\n    Object.defineProperty(DateFormatter.prototype, \"parseFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (format) {\r\n            // Check cache\r\n            // TODO: implement caching of the parsed format\r\n            // Init format parse info holder\r\n            var info = {\r\n                \"template\": \"\",\r\n                \"parts\": []\r\n            };\r\n            // Let TextFormatter split into chunks\r\n            var chunks = TextFormatter.chunk(format, true);\r\n            for (var i = 0; i < chunks.length; i++) {\r\n                var chunk = chunks[i];\r\n                if (chunk.type === \"value\") {\r\n                    // Just \"Date\"?\r\n                    if (chunk.text.match(/^date$/i)) {\r\n                        var dateFormat = this.get(\"dateFormat\", \"yyyy-MM-dd\");\r\n                        if (!$type.isString(dateFormat)) {\r\n                            dateFormat = \"yyyy-MM-dd\";\r\n                        }\r\n                        chunk.text = dateFormat;\r\n                    }\r\n                    // Find all possible parts\r\n                    var matches = chunk.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);\r\n                    // Found?\r\n                    if (matches) {\r\n                        // Populate template\r\n                        for (var x = 0; x < matches.length; x++) {\r\n                            info.parts.push(matches[x]);\r\n                            chunk.text = chunk.text.replace(matches[x], $type.PLACEHOLDER);\r\n                        }\r\n                    }\r\n                }\r\n                // Apply to template\r\n                info.template += chunk.text;\r\n            }\r\n            // Save cache\r\n            // TODO\r\n            return info;\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_months\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_getMonth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            return this._months()[index];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_shortMonths\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May(short)\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_getShortMonth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            return this._shortMonths()[index];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_weekdays\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_getWeekday\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            return this._weekdays()[index];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_shortWeekdays\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_getShortWeekday\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            return this._shortWeekdays()[index];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"parse\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (source, format) {\r\n            // Is it already a Date\r\n            if (source instanceof Date) {\r\n                return source;\r\n            }\r\n            // Is it a numeric timestamp\r\n            if ($type.isNumber(source)) {\r\n                return new Date(source);\r\n            }\r\n            // No? Let's check if it's string, and try converting to it if nec\r\n            if (!$type.isString(source)) {\r\n                source = source.toString();\r\n            }\r\n            // Init return value\r\n            var res;\r\n            // Init RegEx for parsing\r\n            var reg = \"\";\r\n            // Clean format\r\n            format = $utils.cleanFormat(format);\r\n            // Clip format to length of the source string\r\n            format = format.substr(0, source.length);\r\n            // Parse format\r\n            var info = this.parseFormat(format);\r\n            // Init parsed items holder\r\n            var parsedIndexes = {\r\n                \"year\": -1,\r\n                \"year3\": -1,\r\n                \"year2\": -1,\r\n                \"year1\": -1,\r\n                \"month\": -1,\r\n                \"monthShort\": -1,\r\n                \"monthLong\": -1,\r\n                \"weekdayShort\": -1,\r\n                \"weekdayLong\": -1,\r\n                \"day\": -1,\r\n                \"yearDay\": -1,\r\n                \"week\": -1,\r\n                \"hourBase0\": -1,\r\n                \"hour12Base0\": -1,\r\n                \"hourBase1\": -1,\r\n                \"hour12Base1\": -1,\r\n                \"minute\": -1,\r\n                \"second\": -1,\r\n                \"millisecond\": -1,\r\n                \"millisecondDigits\": -1,\r\n                \"am\": -1,\r\n                \"zone\": -1,\r\n                \"timestamp\": -1,\r\n                \"iso\": -1\r\n            };\r\n            // Init values\r\n            var resValues = {\r\n                \"year\": 1970,\r\n                \"month\": 0,\r\n                \"day\": 1,\r\n                \"hour\": 0,\r\n                \"minute\": 0,\r\n                \"second\": 0,\r\n                \"millisecond\": 0,\r\n                \"timestamp\": null,\r\n                \"offset\": 0,\r\n                \"utc\": this._root.utc\r\n            };\r\n            // Index adjuster\r\n            var indexAdjust = 0;\r\n            var index = 0;\r\n            // Iterate through all of the parts\r\n            for (var i = 0; i < info.parts.length; i++) {\r\n                // Set current match index\r\n                index = i + indexAdjust + 1;\r\n                switch (info.parts[i]) {\r\n                    case \"yyyy\":\r\n                    case \"YYYY\":\r\n                        reg += \"([0-9]{4})\";\r\n                        parsedIndexes.year = index;\r\n                        break;\r\n                    case \"yyy\":\r\n                    case \"YYY\":\r\n                        reg += \"([0-9]{3})\";\r\n                        parsedIndexes.year3 = index;\r\n                        break;\r\n                    case \"yy\":\r\n                    case \"YY\":\r\n                        reg += \"([0-9]{2})\";\r\n                        parsedIndexes.year2 = index;\r\n                        break;\r\n                    case \"y\":\r\n                    case \"Y\":\r\n                        reg += \"([0-9]{1})\";\r\n                        parsedIndexes.year1 = index;\r\n                        break;\r\n                    case \"MMMM\":\r\n                        reg += \"(\" + this.getStringList(this._months()).join(\"|\") + \")\";\r\n                        parsedIndexes.monthLong = index;\r\n                        break;\r\n                    case \"MMM\":\r\n                        reg += \"(\" + this.getStringList(this._shortMonths()).join(\"|\") + \")\";\r\n                        parsedIndexes.monthShort = index;\r\n                        break;\r\n                    case \"MM\":\r\n                    case \"M\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.month = index;\r\n                        break;\r\n                    case \"ww\":\r\n                    case \"w\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.week = index;\r\n                        break;\r\n                    case \"dd\":\r\n                    case \"d\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.day = index;\r\n                        break;\r\n                    case \"DDD\":\r\n                    case \"DD\":\r\n                    case \"D\":\r\n                        reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.yearDay = index;\r\n                        break;\r\n                    case \"dddd\":\r\n                        reg += \"(\" + this.getStringList(this._weekdays()).join(\"|\") + \")\";\r\n                        parsedIndexes.weekdayLong = index;\r\n                        break;\r\n                    case \"ddd\":\r\n                        reg += \"(\" + this.getStringList(this._shortWeekdays()).join(\"|\") + \")\";\r\n                        parsedIndexes.weekdayShort = index;\r\n                        break;\r\n                    case \"aaa\":\r\n                    case \"aa\":\r\n                    case \"a\":\r\n                        // TODO: fix (escape regex)\r\n                        reg += \"(\" + this.getStringList([\"AM\", \"PM\", \"A\\.M\\.\", \"P\\.M\\.\", \"A\", \"P\"]).join(\"|\") + \")\";\r\n                        parsedIndexes.am = index;\r\n                        break;\r\n                    case \"hh\":\r\n                    case \"h\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.hour12Base1 = index;\r\n                        break;\r\n                    case \"HH\":\r\n                    case \"H\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.hourBase0 = index;\r\n                        break;\r\n                    case \"KK\":\r\n                    case \"K\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.hour12Base0 = index;\r\n                        break;\r\n                    case \"kk\":\r\n                    case \"k\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.hourBase1 = index;\r\n                        break;\r\n                    case \"mm\":\r\n                    case \"m\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.minute = index;\r\n                        break;\r\n                    case \"ss\":\r\n                    case \"s\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.second = index;\r\n                        break;\r\n                    case \"SSS\":\r\n                    case \"SS\":\r\n                    case \"S\":\r\n                        reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.millisecond = index;\r\n                        parsedIndexes.millisecondDigits = info.parts[i].length;\r\n                        break;\r\n                    case \"nnn\":\r\n                    case \"nn\":\r\n                    case \"n\":\r\n                        reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.millisecond = index;\r\n                        break;\r\n                    case \"x\":\r\n                        reg += \"([0-9]{1,})\";\r\n                        parsedIndexes.timestamp = index;\r\n                        break;\r\n                    case \"Z\":\r\n                        reg += \"GMT([-+]+[0-9]{2}:[0-9]{2})\";\r\n                        parsedIndexes.zone = index;\r\n                        break;\r\n                    case \"ZZ\":\r\n                        reg += \"([\\\\-+]+[0-9]{2}[0-9]{2})\";\r\n                        parsedIndexes.zone = index;\r\n                        break;\r\n                    case \"i\":\r\n                        reg += \"([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\\\.?([0-9]{0,3})([zZ]|[+\\\\-][0-9]{2}:?[0-9]{2}|$)\";\r\n                        parsedIndexes.iso = index;\r\n                        indexAdjust += 7;\r\n                        break;\r\n                    case \"G\":\r\n                    case \"YYYY\":\r\n                    case \"YYY\":\r\n                    case \"YY\":\r\n                    case \"Y\":\r\n                    case \"MMMMM\":\r\n                    case \"W\":\r\n                    case \"EEEEE\":\r\n                    case \"EEEE\":\r\n                    case \"EEE\":\r\n                    case \"EE\":\r\n                    case \"E\":\r\n                    case \"eeeee\":\r\n                    case \"eeee\":\r\n                    case \"eee\":\r\n                    case \"ee\":\r\n                    case \"e\":\r\n                    case \"zzzz\":\r\n                    case \"zzz\":\r\n                    case \"zz\":\r\n                    case \"z\":\r\n                    case \"t\":\r\n                        // Ignore\r\n                        indexAdjust--;\r\n                        break;\r\n                }\r\n                reg += \"[^0-9]*\";\r\n            }\r\n            // Try matching\r\n            var regex = new RegExp(reg);\r\n            var matches = source.match(regex);\r\n            if (matches) {\r\n                // Populate the date object\r\n                // Full year\r\n                if (parsedIndexes.year > -1) {\r\n                    resValues.year = parseInt(matches[parsedIndexes.year]);\r\n                }\r\n                // 3-digit year\r\n                if (parsedIndexes.year3 > -1) {\r\n                    var val = parseInt(matches[parsedIndexes.year3]);\r\n                    val += 1000;\r\n                    resValues.year = val;\r\n                }\r\n                // 2-digit year\r\n                if (parsedIndexes.year2 > -1) {\r\n                    var val = parseInt(matches[parsedIndexes.year2]);\r\n                    if (val > 50) {\r\n                        val += 1000;\r\n                    }\r\n                    else {\r\n                        val += 2000;\r\n                    }\r\n                    resValues.year = val;\r\n                }\r\n                // 1-digit year\r\n                if (parsedIndexes.year1 > -1) {\r\n                    var val = parseInt(matches[parsedIndexes.year1]);\r\n                    val = Math.floor((new Date().getFullYear()) / 10) * 10 + val;\r\n                    resValues.year = val;\r\n                }\r\n                // Full month\r\n                if (parsedIndexes.monthLong > -1) {\r\n                    resValues.month = this.resolveMonth(matches[parsedIndexes.monthLong]);\r\n                }\r\n                // Short month\r\n                if (parsedIndexes.monthShort > -1) {\r\n                    resValues.month = this.resolveShortMonth(matches[parsedIndexes.monthShort]);\r\n                }\r\n                // Numeric month\r\n                if (parsedIndexes.month > -1) {\r\n                    resValues.month = parseInt(matches[parsedIndexes.month]) - 1;\r\n                }\r\n                // Weekday\r\n                // @todo\r\n                // Week\r\n                if ((parsedIndexes.week > -1) && (parsedIndexes.day === -1)) {\r\n                    // We parse weeks ONLY if day is not explicitly set\r\n                    // TODO: this needs work\r\n                    // (but maybe later - I can hardly imagine anyone passing their dates in weeks)\r\n                    resValues.month = 0;\r\n                    resValues.day = $utils.getDayFromWeek(parseInt(matches[parsedIndexes.week]), resValues.year, 1, this._root.utc);\r\n                }\r\n                // Day\r\n                if (parsedIndexes.day > -1) {\r\n                    resValues.day = parseInt(matches[parsedIndexes.day]);\r\n                }\r\n                // Year day\r\n                if (parsedIndexes.yearDay > -1) {\r\n                    resValues.month = 0;\r\n                    resValues.day = parseInt(matches[parsedIndexes.yearDay]);\r\n                }\r\n                // 24 Hour (0-23)\r\n                if (parsedIndexes.hourBase0 > -1) {\r\n                    resValues.hour = parseInt(matches[parsedIndexes.hourBase0]);\r\n                }\r\n                // 24 Hour (1-24)\r\n                if (parsedIndexes.hourBase1 > -1) {\r\n                    resValues.hour = parseInt(matches[parsedIndexes.hourBase1]) - 1;\r\n                }\r\n                // 12 Hour (0-11)\r\n                if (parsedIndexes.hour12Base0 > -1) {\r\n                    var val = parseInt(matches[parsedIndexes.hour12Base0]);\r\n                    if (val == 11) {\r\n                        val = 0;\r\n                    }\r\n                    if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                        val += 12;\r\n                    }\r\n                    resValues.hour = val;\r\n                }\r\n                // 12 Hour (1-12)\r\n                if (parsedIndexes.hour12Base1 > -1) {\r\n                    var val = parseInt(matches[parsedIndexes.hour12Base1]);\r\n                    if (val == 12) {\r\n                        val = 0;\r\n                    }\r\n                    if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                        val += 12;\r\n                    }\r\n                    resValues.hour = val;\r\n                }\r\n                // Minute\r\n                if (parsedIndexes.minute > -1) {\r\n                    resValues.minute = parseInt(matches[parsedIndexes.minute]);\r\n                }\r\n                // Second\r\n                if (parsedIndexes.second > -1) {\r\n                    resValues.second = parseInt(matches[parsedIndexes.second]);\r\n                }\r\n                // Millisecond\r\n                if (parsedIndexes.millisecond > -1) {\r\n                    var val = parseInt(matches[parsedIndexes.millisecond]);\r\n                    if (parsedIndexes.millisecondDigits == 2) {\r\n                        val *= 10;\r\n                    }\r\n                    else if (parsedIndexes.millisecondDigits == 1) {\r\n                        val *= 100;\r\n                    }\r\n                    resValues.millisecond = val;\r\n                }\r\n                // Timestamp\r\n                if (parsedIndexes.timestamp > -1) {\r\n                    resValues.timestamp = parseInt(matches[parsedIndexes.timestamp]);\r\n                    var ts = new Date(resValues.timestamp);\r\n                    resValues.year = ts.getUTCFullYear();\r\n                    resValues.month = ts.getUTCMonth();\r\n                    resValues.day = ts.getUTCDate();\r\n                    resValues.hour = ts.getUTCHours();\r\n                    resValues.minute = ts.getUTCMinutes();\r\n                    resValues.second = ts.getUTCSeconds();\r\n                    resValues.millisecond = ts.getUTCMilliseconds();\r\n                }\r\n                // Adjust time zone\r\n                if (parsedIndexes.zone > -1) {\r\n                    resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.zone]);\r\n                }\r\n                // ISO\r\n                if (parsedIndexes.iso > -1) {\r\n                    resValues.year = $type.toNumber(matches[parsedIndexes.iso + 0]);\r\n                    resValues.month = $type.toNumber(matches[parsedIndexes.iso + 1]) - 1;\r\n                    resValues.day = $type.toNumber(matches[parsedIndexes.iso + 2]);\r\n                    resValues.hour = $type.toNumber(matches[parsedIndexes.iso + 3]);\r\n                    resValues.minute = $type.toNumber(matches[parsedIndexes.iso + 4]);\r\n                    resValues.second = $type.toNumber(matches[parsedIndexes.iso + 5]);\r\n                    resValues.millisecond = $type.toNumber(matches[parsedIndexes.iso + 6]);\r\n                    if (matches[parsedIndexes.iso + 7] == \"Z\" || matches[parsedIndexes.iso + 7] == \"z\") {\r\n                        resValues.utc = true;\r\n                    }\r\n                    else if (matches[parsedIndexes.iso + 7] != \"\") {\r\n                        resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.iso + 7]);\r\n                    }\r\n                }\r\n                // Create Date object\r\n                if (resValues.utc) {\r\n                    res = new Date(Date.UTC(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute, resValues.second, resValues.millisecond));\r\n                }\r\n                else {\r\n                    res = new Date(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute + resValues.offset, resValues.second, resValues.millisecond);\r\n                }\r\n            }\r\n            else {\r\n                // Didn't match anything\r\n                // Let's try dropping it into Date constructor and hope for the best\r\n                res = new Date(source);\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"resolveTimezoneOffset\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (date, zone) {\r\n            var value = zone.match(/([+\\-]?)([0-9]{2}):?([0-9]{2})/);\r\n            if (value) {\r\n                var match = zone.match(/([+\\-]?)([0-9]{2}):?([0-9]{2})/);\r\n                var dir = match[1];\r\n                var hour = match[2];\r\n                var minute = match[3];\r\n                var offset = parseInt(hour) * 60 + parseInt(minute);\r\n                // Adjust offset\r\n                // Making it negative does not seem to make sense, but it's right\r\n                // because of how JavaScript calculates GMT offsets\r\n                if (dir == \"+\") {\r\n                    offset *= -1;\r\n                }\r\n                // Check the difference in offset\r\n                var originalOffset = (date || new Date()).getTimezoneOffset();\r\n                var diff = offset - originalOffset;\r\n                return diff;\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * Resolves month name (i.e. \"December\") into a month number (11).\r\n     *\r\n     * @param value  Month name\r\n     * @return Month number\r\n     */\r\n    Object.defineProperty(DateFormatter.prototype, \"resolveMonth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            // Let's try English first\r\n            var month = this._months().indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n            // Try the translation\r\n            if (!this._root.language.isDefault()) {\r\n                month = this._root.language.translateAll(this._months()).indexOf(value);\r\n                if (month > -1) {\r\n                    return month;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * Resolves short month name (i.e. \"Dec\") into a month number.\r\n     *\r\n     * @param value  Short month name\r\n     * @return Month number\r\n     */\r\n    Object.defineProperty(DateFormatter.prototype, \"resolveShortMonth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            // Let's try English first\r\n            var month = this._shortMonths().indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n            // Maybe long month (workaround for May)\r\n            month = this._months().indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n            // Try the translation\r\n            if (this._root.language && !this._root.language.isDefault()) {\r\n                month = this._root.language.translateAll(this._shortMonths()).indexOf(value);\r\n                if (month > -1) {\r\n                    return month;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * Checks if passed in string represents AM/PM notation in many of its\r\n     * versions.\r\n     *\r\n     * @param value  Source string\r\n     * @return Is it AM/PM?\r\n     */\r\n    Object.defineProperty(DateFormatter.prototype, \"isAm\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var list = this.getStringList([\"AM\", \"A.M.\", \"A\"]);\r\n            return list.indexOf(value.toUpperCase()) > -1;\r\n        }\r\n    });\r\n    /**\r\n     * Translates list of strings.\r\n     *\r\n     * @param list  Source strings\r\n     * @return Translated strings\r\n     */\r\n    Object.defineProperty(DateFormatter.prototype, \"getStringList\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (list) {\r\n            var res = [];\r\n            for (var i = 0; i < list.length; i++) {\r\n                // translate?\r\n                if (this._root.language) {\r\n                    res.push($utils.escapeForRgex(this._t(list[i])));\r\n                }\r\n                else {\r\n                    res.push($utils.escapeForRgex(list[i]));\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    return DateFormatter;\r\n}(Entity));\r\nexport { DateFormatter };\r\n//# sourceMappingURL=DateFormatter.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"./Entity\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\nimport * as $object from \"./Object\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * A class used to format numberic values as time duration.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-durations/} for more info\r\n */\r\nvar DurationFormatter = /** @class */ (function (_super) {\r\n    __extends(DurationFormatter, _super);\r\n    function DurationFormatter() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * Collection of aliases for units.\r\n         */\r\n        Object.defineProperty(_this, \"_unitAliases\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {\r\n                \"Y\": \"y\",\r\n                \"D\": \"d\",\r\n                \"H\": \"h\",\r\n                \"K\": \"h\",\r\n                \"k\": \"h\",\r\n                \"n\": \"S\"\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DurationFormatter.prototype, \"_setDefaults\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var dmillisecond = \"_duration_millisecond\";\r\n            var dsecond = \"_duration_second\";\r\n            var dminute = \"_duration_minute\";\r\n            var dhour = \"_duration_hour\";\r\n            var dday = \"_duration_day\";\r\n            var dweek = \"_duration_week\";\r\n            var dmonth = \"_duration_month\";\r\n            var dyear = \"_duration_year\";\r\n            var asecond = \"_second\";\r\n            var aminute = \"_minute\";\r\n            var ahour = \"_hour\";\r\n            var aday = \"_day\";\r\n            var aweek = \"_week\";\r\n            var amonth = \"_week\";\r\n            var ayear = \"_year\";\r\n            // Defaults\r\n            this._setDefault(\"negativeBase\", 0);\r\n            this._setDefault(\"baseUnit\", \"second\");\r\n            this._setDefault(\"durationFormats\", {\r\n                \"millisecond\": {\r\n                    \"millisecond\": this._t(dmillisecond),\r\n                    \"second\": this._t((dmillisecond + asecond)),\r\n                    \"minute\": this._t((dmillisecond + aminute)),\r\n                    \"hour\": this._t((dmillisecond + ahour)),\r\n                    \"day\": this._t((dmillisecond + aday)),\r\n                    \"week\": this._t((dmillisecond + aweek)),\r\n                    \"month\": this._t((dmillisecond + amonth)),\r\n                    \"year\": this._t((dmillisecond + ayear))\r\n                },\r\n                \"second\": {\r\n                    \"second\": this._t((dsecond)),\r\n                    \"minute\": this._t((dsecond + aminute)),\r\n                    \"hour\": this._t((dsecond + ahour)),\r\n                    \"day\": this._t((dsecond + aday)),\r\n                    \"week\": this._t((dsecond + aweek)),\r\n                    \"month\": this._t((dsecond + amonth)),\r\n                    \"year\": this._t((dsecond + ayear))\r\n                },\r\n                \"minute\": {\r\n                    \"minute\": this._t((dminute)),\r\n                    \"hour\": this._t((dminute + ahour)),\r\n                    \"day\": this._t((dminute + aday)),\r\n                    \"week\": this._t((dminute + aweek)),\r\n                    \"month\": this._t((dminute + amonth)),\r\n                    \"year\": this._t((dminute + ayear))\r\n                },\r\n                \"hour\": {\r\n                    \"hour\": this._t((dhour)),\r\n                    \"day\": this._t((dhour + aday)),\r\n                    \"week\": this._t((dhour + aweek)),\r\n                    \"month\": this._t((dhour + amonth)),\r\n                    \"year\": this._t((dhour + ayear))\r\n                },\r\n                \"day\": {\r\n                    \"day\": this._t((dday)),\r\n                    \"week\": this._t((dday + aweek)),\r\n                    \"month\": this._t((dday + amonth)),\r\n                    \"year\": this._t((dday + ayear))\r\n                },\r\n                \"week\": {\r\n                    \"week\": this._t((dweek)),\r\n                    \"month\": this._t((dweek + amonth)),\r\n                    \"year\": this._t((dweek + ayear))\r\n                },\r\n                \"month\": {\r\n                    \"month\": this._t((dmonth)),\r\n                    \"year\": this._t((dmonth + ayear))\r\n                },\r\n                \"year\": {\r\n                    \"year\": this._t(dyear)\r\n                }\r\n            });\r\n            _super.prototype._setDefaults.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(DurationFormatter.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * Formats the number as duration.\r\n     *\r\n     * For example `1000` (base unit seconds) would be converted to `16:40` as in\r\n     * 16 minutes and 40 seconds.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @param base    Override base unit\r\n     * @return Formatted number\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"format\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, format, base) {\r\n            // no base unit?\r\n            var baseUnit = base || this.get(\"baseUnit\");\r\n            // no format passed in or empty\r\n            if (typeof format === \"undefined\" || format === \"\") {\r\n                if (this.get(\"durationFormat\") != null) {\r\n                    format = this.get(\"durationFormat\");\r\n                }\r\n                else {\r\n                    format = this.getFormat($type.toNumber(value), undefined, baseUnit);\r\n                }\r\n            }\r\n            // Clean format\r\n            format = $utils.cleanFormat(format);\r\n            // get format info (it will also deal with parser caching)\r\n            var info = this.parseFormat(format, baseUnit);\r\n            // cast to number just in case\r\n            // TODO: maybe use better casting\r\n            var source = Number(value);\r\n            // format and replace the number\r\n            var details;\r\n            if (source > this.get(\"negativeBase\")) {\r\n                details = info.positive;\r\n            }\r\n            else if (source < this.get(\"negativeBase\")) {\r\n                details = info.negative;\r\n            }\r\n            else {\r\n                details = info.zero;\r\n            }\r\n            // Format\r\n            var formatted = this.applyFormat(source, details);\r\n            // Apply color?\r\n            if (details.color !== \"\") {\r\n                formatted = \"[\" + details.color + \"]\" + formatted + \"[/]\";\r\n            }\r\n            return formatted;\r\n        }\r\n    });\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format  Format string, i.e. \"#,###.00\"\r\n     * @param base    Override base unit\r\n     * @return Parsed information\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"parseFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (format, base) {\r\n            // Check cache\r\n            // TODO\r\n            // let cached = this.getCache(format);\r\n            // if (cached != null) {\r\n            // \treturn cached;\r\n            // }\r\n            var _this = this;\r\n            // no base unit?\r\n            var baseUnit = base || this.get(\"baseUnit\");\r\n            // Initialize duration parsing info\r\n            var info = {\r\n                \"positive\": {\r\n                    \"color\": \"\",\r\n                    \"template\": \"\",\r\n                    \"parts\": [],\r\n                    \"source\": \"\",\r\n                    \"baseUnit\": baseUnit,\r\n                    \"parsed\": false,\r\n                    \"absolute\": false\r\n                },\r\n                \"negative\": {\r\n                    \"color\": \"\",\r\n                    \"template\": \"\",\r\n                    \"parts\": [],\r\n                    \"source\": \"\",\r\n                    \"baseUnit\": baseUnit,\r\n                    \"parsed\": false,\r\n                    \"absolute\": false\r\n                },\r\n                \"zero\": {\r\n                    \"color\": \"\",\r\n                    \"template\": \"\",\r\n                    \"parts\": [],\r\n                    \"source\": \"\",\r\n                    \"baseUnit\": baseUnit,\r\n                    \"parsed\": false,\r\n                    \"absolute\": false\r\n                }\r\n            };\r\n            // Escape double vertical bars (that mean display one vertical bar)\r\n            format = format.replace(\"||\", $type.PLACEHOLDER2);\r\n            // Split it up and deal with different formats\r\n            var parts = format.split(\"|\");\r\n            info.positive.source = parts[0];\r\n            if (typeof parts[2] === \"undefined\") {\r\n                info.zero = info.positive;\r\n            }\r\n            else {\r\n                info.zero.source = parts[2];\r\n            }\r\n            if (typeof parts[1] === \"undefined\") {\r\n                info.negative = info.positive;\r\n            }\r\n            else {\r\n                info.negative.source = parts[1];\r\n            }\r\n            // Parse each\r\n            $object.each(info, function (_part, item) {\r\n                // Already parsed\r\n                if (item.parsed) {\r\n                    return;\r\n                }\r\n                // Check cached\r\n                // TODO\r\n                // if (typeof this.getCache(item.source) !== \"undefined\") {\r\n                // \tinfo[part] = this.getCache(item.source);\r\n                // \treturn;\r\n                // }\r\n                // Begin parsing\r\n                var partFormat = item.source;\r\n                // Check for [] directives\r\n                var dirs = [];\r\n                dirs = item.source.match(/^\\[([^\\]]*)\\]/);\r\n                if (dirs && dirs.length && dirs[0] !== \"\") {\r\n                    partFormat = item.source.substr(dirs[0].length);\r\n                    item.color = dirs[1];\r\n                }\r\n                // Let TextFormatter split into chunks\r\n                var chunks = TextFormatter.chunk(partFormat, true);\r\n                for (var i = 0; i < chunks.length; i++) {\r\n                    var chunk = chunks[i];\r\n                    // replace back double vertical bar\r\n                    chunk.text = chunk.text.replace($type.PLACEHOLDER2, \"|\");\r\n                    if (chunk.type === \"value\") {\r\n                        // Just \"Duration\"?\r\n                        // if (chunk.text.toLowerCase() === \"duration\") {\r\n                        // \tchunk.text = durationFormat;\r\n                        // }\r\n                        // Check for \"a\" (absolute) modifier\r\n                        if (chunk.text.match(/[yYMdDwhHKkmsSn]+a/)) {\r\n                            item.absolute = true;\r\n                            chunk.text = chunk.text.replace(/([yYMdDwhHKkmsSn]+)a/, \"$1\");\r\n                        }\r\n                        // Find all possible parts\r\n                        var matches = chunk.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);\r\n                        if (matches) {\r\n                            // Populate template\r\n                            for (var x = 0; x < matches.length; x++) {\r\n                                // Is it an alias?\r\n                                if (matches[x] == null) {\r\n                                    matches[x] = _this._unitAliases[matches[x]];\r\n                                }\r\n                                item.parts.push(matches[x]);\r\n                                chunk.text = chunk.text.replace(matches[x], $type.PLACEHOLDER);\r\n                            }\r\n                        }\r\n                    }\r\n                    // Apply to template\r\n                    item.template += chunk.text;\r\n                }\r\n                // Apply style formatting\r\n                //item.template = TextFormatter.format(item.template, this.outputFormat);\r\n                // Save cache\r\n                // TODO\r\n                //this.setCache(item.source, item);\r\n                // Mark this as parsed\r\n                item.parsed = true;\r\n            });\r\n            // Save cache (the whole thing)\r\n            // TODO\r\n            //this.setCache(format, info);\r\n            return info;\r\n        }\r\n    });\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by {parseFormat}\r\n     * @return Formatted duration\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"applyFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, details) {\r\n            // Use absolute values\r\n            var negative = !details.absolute && (value < this.get(\"negativeBase\"));\r\n            value = Math.abs(value);\r\n            // Recalculate to milliseconds\r\n            var tstamp = this.toTimeStamp(value, details.baseUnit);\r\n            // Init return value\r\n            var res = details.template;\r\n            // Iterate through duration parts\r\n            for (var i = 0, len = details.parts.length; i < len; i++) {\r\n                // Gather the part\r\n                var part = details.parts[i];\r\n                var unit = this._toTimeUnit(part.substr(0, 1));\r\n                var digits = part.length;\r\n                // Calculate current unit value\r\n                var ints = Math.floor(tstamp / this._getUnitValue(unit));\r\n                res = res.replace($type.PLACEHOLDER, $utils.padString(ints, digits, \"0\"));\r\n                // Reduce timestamp\r\n                tstamp -= ints * this._getUnitValue(unit);\r\n            }\r\n            // Reapply negative sign\r\n            if (negative) {\r\n                res = \"-\" + res;\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    /**\r\n     * Converts numeric value to timestamp in milliseconds.\r\n     *\r\n     * @param value     A source value\r\n     * @param baseUnit  Base unit the source value is in: \"q\", \"s\", \"i\", \"h\", \"d\", \"w\", \"m\", \"y\"\r\n     * @return Value representation as a timestamp in milliseconds\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"toTimeStamp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, baseUnit) {\r\n            return value * this._getUnitValue(baseUnit);\r\n        }\r\n    });\r\n    Object.defineProperty(DurationFormatter.prototype, \"_toTimeUnit\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (code) {\r\n            switch (code) {\r\n                case \"S\":\r\n                    return \"millisecond\";\r\n                case \"s\":\r\n                    return \"second\";\r\n                case \"m\":\r\n                    return \"minute\";\r\n                case \"h\":\r\n                    return \"hour\";\r\n                case \"d\":\r\n                    return \"day\";\r\n                case \"w\":\r\n                    return \"week\";\r\n                case \"M\":\r\n                    return \"month\";\r\n                case \"y\":\r\n                    return \"year\";\r\n            }\r\n            ;\r\n        }\r\n    });\r\n    /**\r\n     * Returns appropriate default format for the value.\r\n     *\r\n     * If `maxValue` is sepcified, it will use that value to determine the time\r\n     * unit for the format.\r\n     *\r\n     * For example if your `baseUnit` is `\"second\"` and you pass in `10`, you\r\n     * will get `\"10\"`.\r\n     *\r\n     * However, you might want it to be formatted in the context of bigger scale,\r\n     * say 10 minutes (600 seconds). If you pass in `600` as `maxValue`, all\r\n     * values, including small ones will use format with minutes, e.g.:\r\n     * `00:10`, `00:50`, `12: 30`, etc.\r\n     *\r\n     * @param value     Value to format\r\n     * @param maxValue  Maximum value to be used to determine format\r\n     * @param baseUnit  Base unit of the value\r\n     * @return Format\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"getFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, maxValue, baseUnit) {\r\n            // Is format override set?\r\n            if (this.get(\"durationFormat\") != null) {\r\n                return this.get(\"durationFormat\");\r\n            }\r\n            // Get base unit\r\n            if (!baseUnit) {\r\n                baseUnit = this.get(\"baseUnit\");\r\n            }\r\n            if (maxValue != null && value != maxValue) {\r\n                value = Math.abs(value);\r\n                maxValue = Math.abs(maxValue);\r\n                var maxUnit = this.getValueUnit(Math.max(value, maxValue), baseUnit);\r\n                //let diffUnit = this.getValueUnit(Math.abs(maxValue - value), baseUnit);\r\n                //console.log(maxUnit, diffUnit);\r\n                return this.get(\"durationFormats\")[baseUnit][maxUnit];\r\n            }\r\n            else {\r\n                var unit = this.getValueUnit(value, baseUnit);\r\n                return this.get(\"durationFormats\")[baseUnit][unit];\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns value's closest denominator time unit, e.g 100 seconds is\r\n     * `\"minute\"`, while 59 seconds would still be `second`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Denominator\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"getValueUnit\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, baseUnit) {\r\n            // Get base unit\r\n            if (!baseUnit) {\r\n                baseUnit = this.get(\"baseUnit\");\r\n            }\r\n            // Convert to milliseconds\r\n            var currentUnit;\r\n            var ms = this.getMilliseconds(value, baseUnit);\r\n            $object.eachContinue(this._getUnitValues(), function (key, val) {\r\n                if (key == baseUnit || currentUnit) {\r\n                    var num = ms / val;\r\n                    if (num <= 1) {\r\n                        if (!currentUnit) {\r\n                            currentUnit = key;\r\n                        }\r\n                        return false;\r\n                    }\r\n                    currentUnit = key;\r\n                }\r\n                return true;\r\n            });\r\n            return currentUnit;\r\n        }\r\n    });\r\n    /**\r\n     * Converts value to milliseconds according to `baseUnit`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Value in milliseconds\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"getMilliseconds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, baseUnit) {\r\n            // Get base unit\r\n            if (!baseUnit) {\r\n                baseUnit = this.get(\"baseUnit\");\r\n            }\r\n            return value * this._getUnitValue(baseUnit);\r\n        }\r\n    });\r\n    Object.defineProperty(DurationFormatter.prototype, \"_getUnitValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (timeUnit) {\r\n            return this._getUnitValues()[timeUnit];\r\n        }\r\n    });\r\n    Object.defineProperty(DurationFormatter.prototype, \"_getUnitValues\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return {\r\n                \"millisecond\": 1,\r\n                \"second\": 1000,\r\n                \"minute\": 60000,\r\n                \"hour\": 3600000,\r\n                \"day\": 86400000,\r\n                \"week\": 604800000,\r\n                \"month\": 2592000000,\r\n                \"year\": 31536000000,\r\n            };\r\n        }\r\n    });\r\n    return DurationFormatter;\r\n}(Entity));\r\nexport { DurationFormatter };\r\n//# sourceMappingURL=DurationFormatter.js.map","/**\r\n * amCharts 5 locale\r\n *\r\n * Locale: en\r\n * Language: International English\r\n * Author: Martynas Majeris\r\n *\r\n * Follow instructions in [on this page](https://www.amcharts.com/docs/v5/tutorials/creating-translations/) to make corrections or add new translations.\r\n *\r\n * ---\r\n * Edit but leave the header section above this line. You can remove any\r\n * subsequent comment sections.\r\n * ---\r\n *\r\n * Use this file as a template to create translations. Leave the key part in\r\n * English intact. Fill the value with a translation.\r\n *\r\n * Empty string means no translation, so default \"International English\"\r\n * will be used.\r\n *\r\n * If you need the translation to literally be an empty string, use `null`\r\n * instead.\r\n *\r\n * IMPORTANT:\r\n * When translating make good effort to keep the translation length\r\n * at least the same chartcount as the English, especially for short prompts.\r\n *\r\n * Having significantly longer prompts may distort the actual charts.\r\n *\r\n * NOTE:\r\n * Some prompts - like months or weekdays - come in two versions: full and\r\n * shortened.\r\n *\r\n * If there's no official shortened version of these in your language, and it\r\n * would not be possible to invent such short versions that don't seem weird\r\n * to native speakers of that language, fill those with the same as full\r\n * version.\r\n *\r\n * PLACEHOLDERS:\r\n * Some prompts have placeholders like \"%1\". Those will be replaced by actual\r\n * values during translation and should be retained in the translated prompts.\r\n *\r\n * Placeholder positions may be changed to better suit structure of the\r\n * sentence.\r\n *\r\n * For example \"From %1 to %2\", when actually used will replace \"%1\" with an\r\n * actual value representing range start, and \"%2\" will be replaced by end\r\n * value.\r\n *\r\n * E.g. in a Scrollbar for Value axis \"From %1 to %2\" will become\r\n * \"From 100 to 200\". You may translate \"From\" and \"to\", as well as re-arrange\r\n * the order of the prompt itself, but make sure the \"%1\" and \"%2\" remain, in\r\n * places where they will make sense.\r\n *\r\n * Save the file as language_LOCALE, i.e. `en_GB.ts`, `fr_FR.ts`, etc.\r\n */\r\nexport default {\r\n    \"firstDayOfWeek\": 1,\r\n    // Number formatting options.\r\n    // \r\n    // Please check with the local standards which separator is accepted to be\r\n    // used for separating decimals, and which for thousands.\r\n    \"_decimalSeparator\": \".\",\r\n    \"_thousandSeparator\": \",\",\r\n    // Position of the percent sign in numbers\r\n    \"_percentPrefix\": null,\r\n    \"_percentSuffix\": \"%\",\r\n    // Suffixes for numbers\r\n    // When formatting numbers, big or small numers might be reformatted to\r\n    // shorter version, by applying a suffix.\r\n    // \r\n    // For example, 1000000 might become \"1m\".\r\n    // Or 1024 might become \"1KB\" if we're formatting byte numbers.\r\n    // \r\n    // This section defines such suffixes for all such cases.\r\n    \"_big_number_suffix_3\": \"k\",\r\n    \"_big_number_suffix_6\": \"M\",\r\n    \"_big_number_suffix_9\": \"G\",\r\n    \"_big_number_suffix_12\": \"T\",\r\n    \"_big_number_suffix_15\": \"P\",\r\n    \"_big_number_suffix_18\": \"E\",\r\n    \"_big_number_suffix_21\": \"Z\",\r\n    \"_big_number_suffix_24\": \"Y\",\r\n    \"_small_number_suffix_3\": \"m\",\r\n    \"_small_number_suffix_6\": \"\",\r\n    \"_small_number_suffix_9\": \"n\",\r\n    \"_small_number_suffix_12\": \"p\",\r\n    \"_small_number_suffix_15\": \"f\",\r\n    \"_small_number_suffix_18\": \"a\",\r\n    \"_small_number_suffix_21\": \"z\",\r\n    \"_small_number_suffix_24\": \"y\",\r\n    \"_byte_suffix_B\": \"B\",\r\n    \"_byte_suffix_KB\": \"KB\",\r\n    \"_byte_suffix_MB\": \"MB\",\r\n    \"_byte_suffix_GB\": \"GB\",\r\n    \"_byte_suffix_TB\": \"TB\",\r\n    \"_byte_suffix_PB\": \"PB\",\r\n    // Default date formats for various periods.\r\n    // \r\n    // This should reflect official or de facto formatting universally accepted\r\n    // in the country translation is being made for\r\n    // Available format codes here:\r\n    // https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#Format_codes\r\n    // \r\n    // This will be used when formatting date/time for particular granularity,\r\n    // e.g. \"_date_hour\" will be shown whenever we need to show time as hours.\r\n    // \r\n    // \"date\" is used as in default date format when showing standalone dates.\r\n    \"_date\": \"yyyy-MM-dd\",\r\n    \"_date_millisecond\": \"mm:ss SSS\",\r\n    \"_date_millisecond_full\": \"HH:mm:ss SSS\",\r\n    \"_date_second\": \"HH:mm:ss\",\r\n    \"_date_second_full\": \"HH:mm:ss\",\r\n    \"_date_minute\": \"HH:mm\",\r\n    \"_date_minute_full\": \"HH:mm - MMM dd, yyyy\",\r\n    \"_date_hour\": \"HH:mm\",\r\n    \"_date_hour_full\": \"HH:mm - MMM dd, yyyy\",\r\n    \"_date_day\": \"MMM dd\",\r\n    \"_date_day_full\": \"MMM dd, yyyy\",\r\n    \"_date_week\": \"ww\",\r\n    \"_date_week_full\": \"MMM dd, yyyy\",\r\n    \"_date_month\": \"MMM\",\r\n    \"_date_month_full\": \"MMM, yyyy\",\r\n    \"_date_year\": \"yyyy\",\r\n    // Default duration formats for various base units.\r\n    // \r\n    // This will be used by DurationFormatter to format numeric values into\r\n    // duration.\r\n    // \r\n    // Notice how each duration unit comes in several versions. This is to ensure\r\n    // that each base unit is shown correctly.\r\n    // \r\n    // For example, if we have baseUnit set to \"second\", meaning our duration is\r\n    // in seconds.\r\n    // \r\n    // If we pass in `50` to formatter, it will know that we have just 50 seconds\r\n    // (less than a minute) so it will use format in `\"_duration_second\"` (\"ss\"),\r\n    // and the formatted result will be in like `\"50\"`.\r\n    // \r\n    // If we pass in `70`, which is more than a minute, the formatter will switch\r\n    // to `\"_duration_second_minute\"` (\"mm:ss\"), resulting in \"01:10\" formatted\r\n    // text.\r\n    // \r\n    // Available codes here:\r\n    // https://www.amcharts.com/docs/v4/concepts/formatters/formatting-duration/#Available_Codes\r\n    \"_duration_millisecond\": \"SSS\",\r\n    \"_duration_millisecond_second\": \"ss.SSS\",\r\n    \"_duration_millisecond_minute\": \"mm:ss SSS\",\r\n    \"_duration_millisecond_hour\": \"hh:mm:ss SSS\",\r\n    \"_duration_millisecond_day\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_week\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_month\": \"M'm' dd'd' mm:ss SSS\",\r\n    \"_duration_millisecond_year\": \"y'y' MM'm' dd'd' mm:ss SSS\",\r\n    \"_duration_second\": \"ss\",\r\n    \"_duration_second_minute\": \"mm:ss\",\r\n    \"_duration_second_hour\": \"hh:mm:ss\",\r\n    \"_duration_second_day\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_week\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_month\": \"M'm' dd'd' hh:mm:ss\",\r\n    \"_duration_second_year\": \"y'y' MM'm' dd'd' hh:mm:ss\",\r\n    \"_duration_minute\": \"mm\",\r\n    \"_duration_minute_hour\": \"hh:mm\",\r\n    \"_duration_minute_day\": \"d'd' hh:mm\",\r\n    \"_duration_minute_week\": \"d'd' hh:mm\",\r\n    \"_duration_minute_month\": \"M'm' dd'd' hh:mm\",\r\n    \"_duration_minute_year\": \"y'y' MM'm' dd'd' hh:mm\",\r\n    \"_duration_hour\": \"hh'h'\",\r\n    \"_duration_hour_day\": \"d'd' hh'h'\",\r\n    \"_duration_hour_week\": \"d'd' hh'h'\",\r\n    \"_duration_hour_month\": \"M'm' dd'd' hh'h'\",\r\n    \"_duration_hour_year\": \"y'y' MM'm' dd'd' hh'h'\",\r\n    \"_duration_day\": \"d'd'\",\r\n    \"_duration_day_week\": \"d'd'\",\r\n    \"_duration_day_month\": \"M'm' dd'd'\",\r\n    \"_duration_day_year\": \"y'y' MM'm' dd'd'\",\r\n    \"_duration_week\": \"w'w'\",\r\n    \"_duration_week_month\": \"w'w'\",\r\n    \"_duration_week_year\": \"w'w'\",\r\n    \"_duration_month\": \"M'm'\",\r\n    \"_duration_month_year\": \"y'y' MM'm'\",\r\n    \"_duration_year\": \"y'y'\",\r\n    // Era translations\r\n    \"_era_ad\": \"AD\",\r\n    \"_era_bc\": \"BC\",\r\n    // Day part, used in 12-hour formats, e.g. 5 P.M.\r\n    // Please note that these come in 3 variants:\r\n    // * one letter (e.g. \"A\")\r\n    // * two letters (e.g. \"AM\")\r\n    // * two letters with dots (e.g. \"A.M.\")\r\n    // \r\n    // All three need to to be translated even if they are all the same. Some\r\n    // users might use one, some the other.\r\n    \"A\": \"\",\r\n    \"P\": \"\",\r\n    \"AM\": \"\",\r\n    \"PM\": \"\",\r\n    \"A.M.\": \"\",\r\n    \"P.M.\": \"\",\r\n    // Date-related stuff.\r\n    // \r\n    // When translating months, if there's a difference, use the form which is\r\n    // best for a full date, e.g. as you would use it in \"2018 January 1\".\r\n    // \r\n    // Note that May is listed twice. This is because in English May is the same\r\n    // in both long and short forms, while in other languages it may not be the\r\n    // case. Translate \"May\" to full word, while \"May(short)\" to shortened\r\n    // version.\r\n    // \r\n    // Should month names and weekdays be capitalized or not?\r\n    // \r\n    // Rule of thumb is this: if the names should always be capitalized,\r\n    // regardless of name position within date (\"January\", \"21st January 2018\",\r\n    // etc.) use capitalized names. Otherwise enter all lowercase.\r\n    // \r\n    // The date formatter will automatically capitalize names if they are the\r\n    // first (or only) word in resulting date.\r\n    \"January\": \"\",\r\n    \"February\": \"\",\r\n    \"March\": \"\",\r\n    \"April\": \"\",\r\n    \"May\": \"\",\r\n    \"June\": \"\",\r\n    \"July\": \"\",\r\n    \"August\": \"\",\r\n    \"September\": \"\",\r\n    \"October\": \"\",\r\n    \"November\": \"\",\r\n    \"December\": \"\",\r\n    \"Jan\": \"\",\r\n    \"Feb\": \"\",\r\n    \"Mar\": \"\",\r\n    \"Apr\": \"\",\r\n    \"May(short)\": \"May\",\r\n    \"Jun\": \"\",\r\n    \"Jul\": \"\",\r\n    \"Aug\": \"\",\r\n    \"Sep\": \"\",\r\n    \"Oct\": \"\",\r\n    \"Nov\": \"\",\r\n    \"Dec\": \"\",\r\n    // Weekdays.\r\n    \"Sunday\": \"\",\r\n    \"Monday\": \"\",\r\n    \"Tuesday\": \"\",\r\n    \"Wednesday\": \"\",\r\n    \"Thursday\": \"\",\r\n    \"Friday\": \"\",\r\n    \"Saturday\": \"\",\r\n    \"Sun\": \"\",\r\n    \"Mon\": \"\",\r\n    \"Tue\": \"\",\r\n    \"Wed\": \"\",\r\n    \"Thu\": \"\",\r\n    \"Fri\": \"\",\r\n    \"Sat\": \"\",\r\n    // Date ordinal function.\r\n    // \r\n    // This is used when adding number ordinal when formatting days in dates.\r\n    // \r\n    // E.g. \"January 1st\", \"February 2nd\".\r\n    // \r\n    // The function accepts day number, and returns a string to be added to the\r\n    // day, like in default English translation, if we pass in 2, we will receive\r\n    // \"nd\" back.\r\n    \"_dateOrd\": function (day) {\r\n        var res = \"th\";\r\n        if ((day < 11) || (day > 13)) {\r\n            switch (day % 10) {\r\n                case 1:\r\n                    res = \"st\";\r\n                    break;\r\n                case 2:\r\n                    res = \"nd\";\r\n                    break;\r\n                case 3:\r\n                    res = \"rd\";\r\n                    break;\r\n            }\r\n        }\r\n        return res;\r\n    },\r\n    // Various chart controls.\r\n    // Shown as a tooltip on zoom out button.\r\n    \"Zoom Out\": \"\",\r\n    // Timeline buttons\r\n    \"Play\": \"\",\r\n    \"Stop\": \"\",\r\n    // Chart's Legend screen reader title.\r\n    \"Legend\": \"\",\r\n    // Legend's item screen reader indicator.\r\n    \"Press ENTER to toggle\": \"\",\r\n    // Shown when the chart is busy loading something.\r\n    \"Loading\": \"\",\r\n    // Shown as the first button in the breadcrumb navigation, e.g.:\r\n    // Home > First level > ...\r\n    \"Home\": \"\",\r\n    // Chart types.\r\n    // Those are used as default screen reader titles for the main chart element\r\n    // unless developer has set some more descriptive title.\r\n    \"Chart\": \"\",\r\n    \"Serial chart\": \"\",\r\n    \"X/Y chart\": \"\",\r\n    \"Pie chart\": \"\",\r\n    \"Gauge chart\": \"\",\r\n    \"Radar chart\": \"\",\r\n    \"Sankey diagram\": \"\",\r\n    \"Flow diagram\": \"\",\r\n    \"Chord diagram\": \"\",\r\n    \"TreeMap chart\": \"\",\r\n    \"Force directed tree\": \"\",\r\n    \"Sliced chart\": \"\",\r\n    // Series types.\r\n    // Used to name series by type for screen readers if they do not have their\r\n    // name set.\r\n    \"Series\": \"\",\r\n    \"Candlestick Series\": \"\",\r\n    \"OHLC Series\": \"\",\r\n    \"Column Series\": \"\",\r\n    \"Line Series\": \"\",\r\n    \"Pie Slice Series\": \"\",\r\n    \"Funnel Series\": \"\",\r\n    \"Pyramid Series\": \"\",\r\n    \"X/Y Series\": \"\",\r\n    // Map-related stuff.\r\n    \"Map\": \"\",\r\n    \"Press ENTER to zoom in\": \"\",\r\n    \"Press ENTER to zoom out\": \"\",\r\n    \"Use arrow keys to zoom in and out\": \"\",\r\n    \"Use plus and minus keys on your keyboard to zoom in and out\": \"\",\r\n    // Export-related stuff.\r\n    // These prompts are used in Export menu labels.\r\n    // \r\n    // \"Export\" is the top-level menu item.\r\n    // \r\n    // \"Image\", \"Data\", \"Print\" as second-level indicating type of export\r\n    // operation.\r\n    // \r\n    // Leave actual format untranslated, unless you absolutely know that they\r\n    // would convey more meaning in some other way.\r\n    \"Export\": \"\",\r\n    \"Image\": \"\",\r\n    \"Data\": \"\",\r\n    \"Print\": \"\",\r\n    \"Press ENTER or use arrow keys to navigate\": \"\",\r\n    \"Press ENTER to open\": \"\",\r\n    \"Press ENTER to print.\": \"\",\r\n    \"Press ENTER to export as %1.\": \"\",\r\n    \"(Press ESC to close this message)\": \"\",\r\n    \"Image Export Complete\": \"\",\r\n    \"Export operation took longer than expected. Something might have gone wrong.\": \"\",\r\n    \"Saved from\": \"\",\r\n    \"PNG\": \"\",\r\n    \"JPG\": \"\",\r\n    \"GIF\": \"\",\r\n    \"SVG\": \"\",\r\n    \"PDF\": \"\",\r\n    \"JSON\": \"\",\r\n    \"CSV\": \"\",\r\n    \"XLSX\": \"\",\r\n    \"HTML\": \"\",\r\n    // Scrollbar-related stuff.\r\n    // \r\n    // Scrollbar is a control which can zoom and pan the axes on the chart.\r\n    // \r\n    // Each scrollbar has two grips: left or right (for horizontal scrollbar) or\r\n    // upper and lower (for vertical one).\r\n    // \r\n    // Prompts change in relation to whether Scrollbar is vertical or horizontal.\r\n    // \r\n    // The final section is used to indicate the current range of selection.\r\n    \"Use TAB to select grip buttons or left and right arrows to change selection\": \"\",\r\n    \"Use left and right arrows to move selection\": \"\",\r\n    \"Use left and right arrows to move left selection\": \"\",\r\n    \"Use left and right arrows to move right selection\": \"\",\r\n    \"Use TAB select grip buttons or up and down arrows to change selection\": \"\",\r\n    \"Use up and down arrows to move selection\": \"\",\r\n    \"Use up and down arrows to move lower selection\": \"\",\r\n    \"Use up and down arrows to move upper selection\": \"\",\r\n    \"From %1 to %2\": \"\",\r\n    \"From %1\": \"\",\r\n    \"To %1\": \"\",\r\n    // Data loader-related.\r\n    \"No parser available for file: %1\": \"\",\r\n    \"Error parsing file: %1\": \"\",\r\n    \"Unable to load file: %1\": \"\",\r\n    \"Invalid date\": \"\",\r\n    // Common actions\r\n    \"Close\": \"\",\r\n    \"Minimize\": \"\"\r\n};\r\n//# sourceMappingURL=en.js.map","import { __extends, __read, __spreadArray } from \"tslib\";\r\nimport { Entity } from \"./Entity\";\r\nimport * as $array from \"./Array\";\r\nimport en from \"../../../locales/en\";\r\n;\r\nvar Language = /** @class */ (function (_super) {\r\n    __extends(Language, _super);\r\n    function Language() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Language.prototype, \"_setDefaults\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setPrivate(\"defaultLocale\", en);\r\n            _super.prototype._setDefaults.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Language.prototype, \"translate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (prompt, locale) {\r\n            var rest = [];\r\n            for (var _i = 2; _i < arguments.length; _i++) {\r\n                rest[_i - 2] = arguments[_i];\r\n            }\r\n            // Get langauge\r\n            if (!locale) {\r\n                locale = this._root.locale || this.getPrivate(\"defaultLocale\");\r\n            }\r\n            // Init translation\r\n            var translation = prompt;\r\n            var value = locale[prompt];\r\n            // Try to look for the translation\r\n            if (value === null) {\r\n                translation = \"\";\r\n            }\r\n            else if (value != null) {\r\n                // It might be an empty string\r\n                if (value) {\r\n                    translation = value;\r\n                }\r\n            }\r\n            else if (locale !== this.getPrivate(\"defaultLocale\")) {\r\n                // Try to look in default language\r\n                return this.translate.apply(this, __spreadArray([prompt, this.getPrivate(\"defaultLocale\")], __read(rest), false));\r\n            }\r\n            // Replace %1, %2, etc params\r\n            if (rest.length) {\r\n                for (var len = rest.length, i = 0; i < len; ++i) {\r\n                    translation = translation.split(\"%\" + (i + 1)).join(rest[i]);\r\n                }\r\n            }\r\n            // Return the translation\r\n            return translation;\r\n        }\r\n    });\r\n    Object.defineProperty(Language.prototype, \"translateAny\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (prompt, locale) {\r\n            var rest = [];\r\n            for (var _i = 2; _i < arguments.length; _i++) {\r\n                rest[_i - 2] = arguments[_i];\r\n            }\r\n            return this.translate.apply(this, __spreadArray([prompt, locale], __read(rest), false));\r\n        }\r\n    });\r\n    Object.defineProperty(Language.prototype, \"setTranslationAny\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (prompt, translation, locale) {\r\n            var localeTarget = locale || this._root.locale;\r\n            localeTarget[prompt] = translation;\r\n        }\r\n    });\r\n    Object.defineProperty(Language.prototype, \"translateEmpty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (prompt, locale) {\r\n            var rest = [];\r\n            for (var _i = 2; _i < arguments.length; _i++) {\r\n                rest[_i - 2] = arguments[_i];\r\n            }\r\n            var translation = this.translate.apply(this, __spreadArray([prompt, locale], __read(rest), false));\r\n            return translation == prompt ? \"\" : translation;\r\n        }\r\n    });\r\n    Object.defineProperty(Language.prototype, \"translateFunc\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (prompt, locale) {\r\n            if (this._root.locale[prompt]) {\r\n                return this._root.locale[prompt];\r\n            }\r\n            // Try to look in default language\r\n            if (locale !== this.getPrivate(\"defaultLocale\")) {\r\n                return this.translateFunc(prompt, this.getPrivate(\"defaultLocale\"));\r\n            }\r\n            // Fail - return empty function\r\n            return function () {\r\n                return \"\";\r\n            };\r\n        }\r\n    });\r\n    Object.defineProperty(Language.prototype, \"translateAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (list, locale) {\r\n            var _this = this;\r\n            // Translate all items in the list\r\n            if (!this.isDefault()) {\r\n                return $array.map(list, function (x) { return _this.translate(x, locale); });\r\n            }\r\n            else {\r\n                return list;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if the currently selected locale is a default locale.\r\n     *\r\n     * @return `true` if locale is default; `false` if it is not.\r\n     */\r\n    Object.defineProperty(Language.prototype, \"isDefault\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.getPrivate(\"defaultLocale\") === this._root.locale;\r\n        }\r\n    });\r\n    return Language;\r\n}(Entity));\r\nexport { Language };\r\n//# sourceMappingURL=Language.js.map","import { Template } from \"./util/Template\";\r\nimport * as $order from \"./util/Order\";\r\nimport * as $array from \"./util/Array\";\r\n/**\r\n * A base class for an amCharts theme.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n * @important\r\n */\r\nvar Theme = /** @class */ (function () {\r\n    function Theme(root, isReal) {\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rules\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._root = root;\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    Object.defineProperty(Theme, \"new\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (root) {\r\n            var x = (new this(root, true));\r\n            x.setupDefaultRules();\r\n            return x;\r\n        }\r\n    });\r\n    Object.defineProperty(Theme.prototype, \"setupDefaultRules\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    /**\r\n     * Looks up the rules for a specific theme class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @return             Array<IRule<A>>\r\n     */\r\n    Object.defineProperty(Theme.prototype, \"_lookupRules\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (themeClass) {\r\n            return this._rules[themeClass];\r\n        }\r\n    });\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * NOTE: the difference from `rule()` is that `ruleRaw()` does not do any\r\n     * type checks.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    Object.defineProperty(Theme.prototype, \"ruleRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (themeClass, themeTags) {\r\n            if (themeTags === void 0) { themeTags = []; }\r\n            var rules = this._rules[themeClass];\r\n            if (!rules) {\r\n                rules = this._rules[themeClass] = [];\r\n            }\r\n            themeTags.sort($order.compare);\r\n            var _a = $array.getSortedIndex(rules, function (x) {\r\n                var order = $order.compare(x.tags.length, themeTags.length);\r\n                if (order === 0) {\r\n                    return $order.compareArray(x.tags, themeTags, $order.compare);\r\n                }\r\n                else {\r\n                    return order;\r\n                }\r\n            }), index = _a.index, found = _a.found;\r\n            if (found) {\r\n                return rules[index].template;\r\n            }\r\n            else {\r\n                var template = Template.new({});\r\n                rules.splice(index, 0, {\r\n                    tags: themeTags,\r\n                    template: template,\r\n                });\r\n                return template;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    Object.defineProperty(Theme.prototype, \"rule\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (themeClass, themeTags) {\r\n            if (themeTags === void 0) { themeTags = []; }\r\n            return this.ruleRaw(themeClass, themeTags);\r\n        }\r\n    });\r\n    return Theme;\r\n}());\r\nexport { Theme };\r\n//# sourceMappingURL=Theme.js.map","import { __extends } from \"tslib\";\r\nimport { Theme } from \"../core/Theme\";\r\nimport { p100, p50 } from \"../core/util/Percent\";\r\nimport { Color } from \"../core/util/Color\";\r\nimport { GridLayout } from \"../core/render/GridLayout\";\r\nimport * as $ease from \"../core/util/Ease\";\r\n/**\r\n * @ignore\r\n */\r\nexport function setColor(rule, key, ic, name) {\r\n    // TODO this shouldn't use get, figure out a better way\r\n    rule.set(key, ic.get(name));\r\n    ic.on(name, function (value) {\r\n        rule.set(key, value);\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nvar DefaultTheme = /** @class */ (function (_super) {\r\n    __extends(DefaultTheme, _super);\r\n    function DefaultTheme() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(DefaultTheme.prototype, \"setupDefaultRules\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.setupDefaultRules.call(this);\r\n            var language = this._root.language;\r\n            var ic = this._root.interfaceColors;\r\n            var horizontalLayout = this._root.horizontalLayout;\r\n            var verticalLayout = this._root.verticalLayout;\r\n            var r = this.rule.bind(this);\r\n            /**\r\n             * ========================================================================\r\n             * core\r\n             * ========================================================================\r\n             */\r\n            r(\"InterfaceColors\").setAll({\r\n                stroke: Color.fromHex(0xe5e5e5),\r\n                fill: Color.fromHex(0xf3f3f3),\r\n                primaryButton: Color.fromHex(0x6794dc),\r\n                primaryButtonHover: Color.fromHex(0x6771dc),\r\n                primaryButtonDown: Color.fromHex(0x68dc76),\r\n                primaryButtonActive: Color.fromHex(0x68dc76),\r\n                primaryButtonText: Color.fromHex(0xffffff),\r\n                primaryButtonStroke: Color.fromHex(0xffffff),\r\n                secondaryButton: Color.fromHex(0xd9d9d9),\r\n                secondaryButtonHover: Color.fromHex(0xa3a3a3),\r\n                secondaryButtonDown: Color.fromHex(0x8d8d8d),\r\n                secondaryButtonActive: Color.fromHex(0xe6e6e6),\r\n                secondaryButtonText: Color.fromHex(0x000000),\r\n                secondaryButtonStroke: Color.fromHex(0xffffff),\r\n                grid: Color.fromHex(0x000000),\r\n                background: Color.fromHex(0xffffff),\r\n                alternativeBackground: Color.fromHex(0x000000),\r\n                text: Color.fromHex(0x000000),\r\n                alternativeText: Color.fromHex(0xffffff),\r\n                disabled: Color.fromHex(0xadadad),\r\n                positive: Color.fromHex(0x50b300),\r\n                negative: Color.fromHex(0xb30000)\r\n            });\r\n            {\r\n                var rule = r(\"ColorSet\");\r\n                rule.setAll({\r\n                    passOptions: {\r\n                        hue: 0.05,\r\n                        saturation: 0,\r\n                        lightness: 0\r\n                    },\r\n                    colors: [\r\n                        Color.fromHex(0x67b7dc)\r\n                    ],\r\n                    step: 1,\r\n                    //baseColor: Color.fromRGB(103, 183, 220),\r\n                    //count: 20,\r\n                    reuse: false,\r\n                    startIndex: 0\r\n                });\r\n                rule.setPrivate(\"currentStep\", 0);\r\n                rule.setPrivate(\"currentPass\", 0);\r\n            }\r\n            r(\"Entity\").setAll({\r\n                stateAnimationDuration: 0,\r\n                stateAnimationEasing: $ease.out($ease.cubic)\r\n            });\r\n            r(\"Component\").setAll({\r\n                interpolationDuration: 0,\r\n                interpolationEasing: $ease.out($ease.cubic)\r\n            });\r\n            r(\"Sprite\").setAll({\r\n                visible: true,\r\n                scale: 1,\r\n                opacity: 1,\r\n                rotation: 0,\r\n                position: \"relative\",\r\n                tooltipX: p50,\r\n                tooltipY: p50,\r\n                tooltipPosition: \"fixed\",\r\n                isMeasured: true\r\n            });\r\n            r(\"Sprite\").states.create(\"default\", { \"visible\": true, opacity: 1 });\r\n            r(\"Container\").setAll({\r\n                interactiveChildren: true,\r\n                setStateOnChildren: false\r\n            });\r\n            r(\"Graphics\").setAll({\r\n                strokeWidth: 1\r\n            });\r\n            r(\"Chart\").setAll({\r\n                width: p100,\r\n                height: p100,\r\n                interactiveChildren: false\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: alignment\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Sprite\", [\"horizontal\", \"center\"]).setAll({\r\n                centerX: p50,\r\n                x: p50\r\n            });\r\n            r(\"Sprite\", [\"vertical\", \"center\"]).setAll({\r\n                centerY: p50,\r\n                y: p50\r\n            });\r\n            r(\"Container\", [\"horizontal\", \"layout\"]).setAll({\r\n                layout: horizontalLayout\r\n            });\r\n            r(\"Container\", [\"vertical\", \"layout\"]).setAll({\r\n                layout: verticalLayout\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: patterns\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Pattern\").setAll({\r\n                repetition: \"repeat\",\r\n                width: 50,\r\n                height: 50,\r\n                rotation: 0,\r\n                fillOpacity: 1\r\n            });\r\n            r(\"LinePattern\").setAll({\r\n                gap: 6,\r\n                colorOpacity: 1,\r\n                width: 49,\r\n                height: 49\r\n            });\r\n            r(\"RectanglePattern\").setAll({\r\n                gap: 6,\r\n                checkered: false,\r\n                centered: true,\r\n                maxWidth: 5,\r\n                maxHeight: 5,\r\n                width: 48,\r\n                height: 48,\r\n                strokeWidth: 0\r\n            });\r\n            r(\"CirclePattern\").setAll({\r\n                gap: 5,\r\n                checkered: false,\r\n                centered: false,\r\n                radius: 3,\r\n                strokeWidth: 0,\r\n                width: 45,\r\n                height: 45\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: gradients\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"LinearGradient\").setAll({\r\n                rotation: 90\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: Legend\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Legend\").setAll({\r\n                fillField: \"fill\",\r\n                strokeField: \"stroke\",\r\n                nameField: \"name\",\r\n                layout: GridLayout.new(this._root, {}),\r\n                layer: 30,\r\n                clickTarget: \"itemContainer\"\r\n            });\r\n            // Class: Container\r\n            r(\"Container\", [\"legend\", \"item\", \"itemcontainer\"]).setAll({\r\n                paddingLeft: 5,\r\n                paddingRight: 5,\r\n                paddingBottom: 5,\r\n                paddingTop: 5,\r\n                layout: horizontalLayout,\r\n                setStateOnChildren: true,\r\n                interactiveChildren: false,\r\n                ariaChecked: true,\r\n                focusable: true,\r\n                ariaLabel: language.translate(\"Press ENTER to toggle\")\r\n            });\r\n            {\r\n                var rule = r(\"Rectangle\", [\"legend\", \"item\", \"background\"]);\r\n                rule.setAll({\r\n                    fillOpacity: 0,\r\n                });\r\n                setColor(rule, \"fill\", ic, \"background\");\r\n            }\r\n            r(\"Container\", [\"legend\", \"marker\"]).setAll({\r\n                setStateOnChildren: true,\r\n                centerY: p50,\r\n                paddingLeft: 0,\r\n                paddingRight: 0,\r\n                paddingBottom: 0,\r\n                paddingTop: 0,\r\n                width: 18,\r\n                height: 18\r\n            });\r\n            r(\"RoundedRectangle\", [\"legend\", \"marker\", \"rectangle\"]).setAll({\r\n                width: p100,\r\n                height: p100,\r\n                cornerRadiusBL: 3,\r\n                cornerRadiusTL: 3,\r\n                cornerRadiusBR: 3,\r\n                cornerRadiusTR: 3\r\n            });\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"legend\", \"marker\", \"rectangle\"]).states.create(\"disabled\", {});\r\n                setColor(rule, \"fill\", ic, \"disabled\");\r\n                setColor(rule, \"stroke\", ic, \"disabled\");\r\n            }\r\n            r(\"Label\", [\"legend\", \"label\"]).setAll({\r\n                centerY: p50,\r\n                marginLeft: 5,\r\n                paddingRight: 0,\r\n                paddingLeft: 0,\r\n                paddingTop: 0,\r\n                paddingBottom: 0,\r\n                populateText: true\r\n            });\r\n            {\r\n                var rule = r(\"Label\", [\"legend\", \"label\"]).states.create(\"disabled\", {});\r\n                setColor(rule, \"fill\", ic, \"disabled\");\r\n            }\r\n            r(\"Label\", [\"legend\", \"value\", \"label\"]).setAll({\r\n                centerY: p50,\r\n                marginLeft: 5,\r\n                paddingRight: 0,\r\n                paddingLeft: 0,\r\n                paddingTop: 0,\r\n                paddingBottom: 0,\r\n                width: 50,\r\n                centerX: p100,\r\n                populateText: true\r\n            });\r\n            {\r\n                var rule = r(\"Label\", [\"legend\", \"value\", \"label\"]).states.create(\"disabled\", {});\r\n                setColor(rule, \"fill\", ic, \"disabled\");\r\n            }\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: HeatLegend\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"HeatLegend\").setAll({\r\n                stepCount: 1\r\n            });\r\n            r(\"RoundedRectangle\", [\"heatlegend\", \"marker\"]).setAll({\r\n                cornerRadiusTR: 0,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusTL: 0,\r\n                cornerRadiusBL: 0\r\n            });\r\n            r(\"RoundedRectangle\", [\"vertical\", \"heatlegend\", \"marker\"]).setAll({\r\n                height: p100,\r\n                width: 15\r\n            });\r\n            r(\"RoundedRectangle\", [\"horizontal\", \"heatlegend\", \"marker\"]).setAll({\r\n                width: p100,\r\n                height: 15\r\n            });\r\n            r(\"HeatLegend\", [\"vertical\"]).setAll({\r\n                height: p100\r\n            });\r\n            r(\"HeatLegend\", [\"horizontal\"]).setAll({\r\n                width: p100\r\n            });\r\n            r(\"Label\", [\"heatlegend\", \"start\"]).setAll({\r\n                paddingLeft: 5,\r\n                paddingRight: 5,\r\n                paddingTop: 5,\r\n                paddingBottom: 5\r\n            });\r\n            r(\"Label\", [\"heatlegend\", \"end\"]).setAll({\r\n                paddingLeft: 5,\r\n                paddingRight: 5,\r\n                paddingTop: 5,\r\n                paddingBottom: 5\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: Labels\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            {\r\n                var rule = r(\"Label\");\r\n                rule.setAll({\r\n                    paddingTop: 8,\r\n                    paddingBottom: 8,\r\n                    paddingLeft: 10,\r\n                    paddingRight: 10,\r\n                    fontFamily: \"-apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"\",\r\n                    fontSize: \"1em\",\r\n                    populateText: false\r\n                });\r\n                setColor(rule, \"fill\", ic, \"text\");\r\n            }\r\n            r(\"RadialLabel\").setAll({\r\n                textType: \"regular\",\r\n                centerY: p50,\r\n                centerX: p50,\r\n                inside: false,\r\n                radius: 0,\r\n                baseRadius: p100,\r\n                orientation: \"auto\",\r\n                textAlign: \"center\"\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: Elements and shapes\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"RoundedRectangle\").setAll({\r\n                cornerRadiusTL: 8,\r\n                cornerRadiusBL: 8,\r\n                cornerRadiusTR: 8,\r\n                cornerRadiusBR: 8\r\n            });\r\n            r(\"PointedRectangle\").setAll({\r\n                pointerBaseWidth: 15,\r\n                pointerLength: 10,\r\n                cornerRadius: 8\r\n            });\r\n            r(\"Slice\").setAll({\r\n                shiftRadius: 0,\r\n                dRadius: 0,\r\n                dInnerRadius: 0\r\n            });\r\n            {\r\n                var rule = r(\"Tick\");\r\n                rule.setAll({\r\n                    strokeOpacity: .15,\r\n                    isMeasured: false,\r\n                    length: 5,\r\n                    position: \"absolute\"\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"grid\");\r\n            }\r\n            r(\"Bullet\").setAll({\r\n                locationX: 0.5,\r\n                locationY: 0.5\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: Tooltip\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Tooltip\").setAll({\r\n                position: \"absolute\",\r\n                getFillFromSprite: true,\r\n                getStrokeFromSprite: false,\r\n                autoTextColor: true,\r\n                paddingTop: 9,\r\n                paddingBottom: 8,\r\n                paddingLeft: 10,\r\n                paddingRight: 10,\r\n                marginBottom: 5,\r\n                pointerOrientation: \"vertical\",\r\n                centerX: p50,\r\n                centerY: p50,\r\n                animationEasing: $ease.out($ease.cubic),\r\n                exportable: false\r\n                //layer: 100\r\n            });\r\n            {\r\n                var rule = r(\"PointedRectangle\", [\"tooltip\", \"background\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.9,\r\n                    cornerRadius: 4,\r\n                    pointerLength: 4,\r\n                    pointerBaseWidth: 8,\r\n                    fillOpacity: 0.9,\r\n                    stroke: Color.fromHex(0xffffff)\r\n                });\r\n            }\r\n            {\r\n                var rule = r(\"Label\", [\"tooltip\"]);\r\n                rule.setAll({\r\n                    role: \"tooltip\",\r\n                    populateText: true,\r\n                    paddingRight: 0,\r\n                    paddingTop: 0,\r\n                    paddingLeft: 0,\r\n                    paddingBottom: 0\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeText\");\r\n            }\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: Button\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Button\").setAll({\r\n                paddingTop: 8,\r\n                paddingBottom: 8,\r\n                paddingLeft: 10,\r\n                paddingRight: 10,\r\n                interactive: true,\r\n                layout: horizontalLayout,\r\n                interactiveChildren: false,\r\n                setStateOnChildren: true,\r\n                focusable: true\r\n            });\r\n            r(\"Button\").states.create(\"hover\", {});\r\n            r(\"Button\").states.create(\"down\", { stateAnimationDuration: 0 });\r\n            r(\"Button\").states.create(\"active\", {});\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"button\", \"background\"]);\r\n                setColor(rule, \"fill\", ic, \"primaryButton\");\r\n                setColor(rule, \"stroke\", ic, \"primaryButtonStroke\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"hover\", {});\r\n                setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n                setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"active\", {});\r\n                setColor(rule, \"fill\", ic, \"primaryButtonActive\");\r\n            }\r\n            {\r\n                var rule = r(\"Graphics\", [\"button\", \"icon\"]);\r\n                setColor(rule, \"stroke\", ic, \"primaryButtonText\");\r\n            }\r\n            {\r\n                var rule = r(\"Label\", [\"button\"]);\r\n                setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n            }\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/xy: ZoomOutButton\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Button\", [\"zoom\"]).setAll({\r\n                paddingTop: 18,\r\n                paddingBottom: 18,\r\n                paddingLeft: 12,\r\n                paddingRight: 12,\r\n                centerX: 46,\r\n                centerY: -10,\r\n                y: 0,\r\n                x: p100,\r\n                role: \"button\",\r\n                ariaLabel: language.translate(\"Zoom Out\"),\r\n                layer: 30\r\n            });\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]);\r\n                rule.setAll({\r\n                    cornerRadiusBL: 40,\r\n                    cornerRadiusBR: 40,\r\n                    cornerRadiusTL: 40,\r\n                    cornerRadiusTR: 40\r\n                });\r\n                setColor(rule, \"fill\", ic, \"primaryButton\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]).states.create(\"hover\", {});\r\n                setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n                setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n            }\r\n            {\r\n                var rule = r(\"Graphics\", [\"icon\", \"button\", \"zoom\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.7,\r\n                    draw: function (display) {\r\n                        display.moveTo(0, 0);\r\n                        display.lineTo(12, 0);\r\n                    }\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"primaryButtonText\");\r\n            }\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: ResizeButton\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Button\", [\"resize\"]).setAll({\r\n                paddingTop: 9,\r\n                paddingBottom: 9,\r\n                paddingLeft: 13,\r\n                paddingRight: 13,\r\n                draggable: true,\r\n                centerX: p50,\r\n                centerY: p50,\r\n                position: \"absolute\",\r\n                role: \"slider\",\r\n                ariaValueMin: \"0\",\r\n                ariaValueMax: \"100\",\r\n                ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n            });\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]);\r\n                rule.setAll({\r\n                    cornerRadiusBL: 40,\r\n                    cornerRadiusBR: 40,\r\n                    cornerRadiusTL: 40,\r\n                    cornerRadiusTR: 40\r\n                });\r\n                setColor(rule, \"fill\", ic, \"secondaryButton\");\r\n                setColor(rule, \"stroke\", ic, \"secondaryButtonStroke\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]).states.create(\"hover\", {});\r\n                setColor(rule, \"fill\", ic, \"secondaryButtonHover\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n                setColor(rule, \"fill\", ic, \"secondaryButtonDown\");\r\n            }\r\n            {\r\n                var rule = r(\"Graphics\", [\"resize\", \"button\", \"icon\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.7,\r\n                    draw: function (display) {\r\n                        display.moveTo(0, 0);\r\n                        display.lineTo(0, 12);\r\n                        display.moveTo(4, 0);\r\n                        display.lineTo(4, 12);\r\n                    }\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"secondaryButtonText\");\r\n            }\r\n            r(\"Button\", [\"resize\", \"vertical\"]).setAll({\r\n                rotation: 90,\r\n                cursorOverStyle: \"ns-resize\"\r\n            });\r\n            r(\"Button\", [\"resize\", \"horizontal\"]).setAll({\r\n                cursorOverStyle: \"ew-resize\"\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: PlayButton\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Button\", [\"play\"]).setAll({\r\n                paddingTop: 13,\r\n                paddingBottom: 13,\r\n                paddingLeft: 14,\r\n                paddingRight: 14,\r\n                ariaLabel: language.translate(\"Play\"),\r\n                toggleKey: \"active\"\r\n            });\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"play\", \"background\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.5,\r\n                    cornerRadiusBL: 100,\r\n                    cornerRadiusBR: 100,\r\n                    cornerRadiusTL: 100,\r\n                    cornerRadiusTR: 100\r\n                });\r\n                setColor(rule, \"fill\", ic, \"primaryButton\");\r\n            }\r\n            {\r\n                var rule = r(\"Graphics\", [\"play\", \"icon\"]);\r\n                rule.setAll({\r\n                    stateAnimationDuration: 0,\r\n                    dx: 1,\r\n                    draw: function (display) {\r\n                        display.moveTo(0, -5);\r\n                        display.lineTo(8, 0);\r\n                        display.lineTo(0, 5);\r\n                        display.lineTo(0, -5);\r\n                    }\r\n                });\r\n                setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n            }\r\n            r(\"Graphics\", [\"play\", \"icon\"]).states.create(\"default\", {\r\n                stateAnimationDuration: 0\r\n            });\r\n            r(\"Graphics\", [\"play\", \"icon\"]).states.create(\"active\", {\r\n                stateAnimationDuration: 0,\r\n                draw: function (display) {\r\n                    display.moveTo(-4, -5);\r\n                    display.lineTo(-1, -5);\r\n                    display.lineTo(-1, 5);\r\n                    display.lineTo(-4, 5);\r\n                    display.lineTo(-4, -5);\r\n                    display.moveTo(4, -5);\r\n                    display.lineTo(1, -5);\r\n                    display.lineTo(1, 5);\r\n                    display.lineTo(4, 5);\r\n                    display.lineTo(4, -5);\r\n                }\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: SwitchButton\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Button\", [\"switch\"]).setAll({\r\n                paddingTop: 4,\r\n                paddingBottom: 4,\r\n                paddingLeft: 4,\r\n                paddingRight: 4,\r\n                ariaLabel: language.translate(\"Press ENTER to toggle\"),\r\n                toggleKey: \"active\",\r\n                width: 40,\r\n                height: 24,\r\n                layout: null\r\n            });\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"switch\", \"background\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.5,\r\n                    cornerRadiusBL: 100,\r\n                    cornerRadiusBR: 100,\r\n                    cornerRadiusTL: 100,\r\n                    cornerRadiusTR: 100\r\n                });\r\n                setColor(rule, \"fill\", ic, \"primaryButton\");\r\n            }\r\n            {\r\n                var rule = r(\"Circle\", [\"switch\", \"icon\"]);\r\n                rule.setAll({\r\n                    radius: 8,\r\n                    centerY: 0,\r\n                    centerX: 0,\r\n                    dx: 0\r\n                });\r\n                setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n            }\r\n            r(\"Graphics\", [\"switch\", \"icon\"]).states.create(\"active\", {\r\n                dx: 16\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: Scrollbar\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Scrollbar\").setAll({\r\n                start: 0,\r\n                end: 1,\r\n                layer: 30,\r\n                animationEasing: $ease.out($ease.cubic)\r\n            });\r\n            r(\"Scrollbar\", [\"vertical\"]).setAll({\r\n                marginRight: 13,\r\n                marginLeft: 13,\r\n                minWidth: 12,\r\n                height: p100\r\n            });\r\n            r(\"Scrollbar\", [\"horizontal\"]).setAll({\r\n                marginTop: 13,\r\n                marginBottom: 13,\r\n                minHeight: 12,\r\n                width: p100\r\n            });\r\n            this.rule(\"Button\", [\"scrollbar\"]).setAll({\r\n                exportable: false\r\n            });\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"scrollbar\", \"main\", \"background\"]);\r\n                rule.setAll({\r\n                    cornerRadiusTL: 8,\r\n                    cornerRadiusBL: 8,\r\n                    cornerRadiusTR: 8,\r\n                    cornerRadiusBR: 8,\r\n                    fillOpacity: 0.8,\r\n                });\r\n                setColor(rule, \"fill\", ic, \"fill\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]);\r\n                rule.setAll({\r\n                    role: \"slider\",\r\n                    ariaLive: \"polite\",\r\n                    position: \"absolute\",\r\n                    draggable: true\r\n                });\r\n                setColor(rule, \"fill\", ic, \"secondaryButton\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]).states.create(\"hover\", {});\r\n                setColor(rule, \"fill\", ic, \"secondaryButtonHover\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n                setColor(rule, \"fill\", ic, \"secondaryButtonDown\");\r\n            }\r\n            r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\", \"vertical\"]).setAll({\r\n                x: p50,\r\n                width: p100,\r\n                centerX: p50,\r\n                ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n            });\r\n            r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\", \"horizontal\"]).setAll({\r\n                y: p50,\r\n                centerY: p50,\r\n                height: p100,\r\n                ariaLabel: language.translate(\"Use left and right arrows to move selection\")\r\n            });\r\n            // @todo: is this needed? used to be \"ContentScrollbar\"\r\n            // r(\"Scrollbar\", [\"content?\"]).setAll({\r\n            // \tmarginRight: 0,\r\n            // \tmarginLeft: 5,\r\n            // \tlayer: 5\r\n            // });\r\n            /**\r\n             * ========================================================================\r\n             * charts/xy\r\n             * ========================================================================\r\n             *\r\n             * This needs to be in DefaultTheme because it's the only theme that is\r\n             * automatically applied to Root, and tooltips different ancestors\r\n             * than actual charts using them.\r\n             */\r\n            {\r\n                var rule = r(\"PointedRectangle\", [\"axis\", \"tooltip\", \"background\"]);\r\n                rule.setAll({\r\n                    cornerRadius: 0\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n            }\r\n            r(\"Label\", [\"axis\", \"tooltip\"]).setAll({\r\n                role: undefined\r\n            });\r\n            r(\"Label\", [\"axis\", \"tooltip\", \"y\"]).setAll({\r\n                textAlign: \"right\"\r\n            });\r\n            r(\"Label\", [\"axis\", \"tooltip\", \"y\", \"opposite\"]).setAll({\r\n                textAlign: \"left\"\r\n            });\r\n            r(\"Label\", [\"axis\", \"tooltip\", \"x\"]).setAll({\r\n                textAlign: \"center\"\r\n            });\r\n            r(\"Tooltip\", [\"categoryaxis\"]).setAll({\r\n                labelText: \"{category}\"\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * Shapes\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            // Class: Graphics\r\n            r(\"Star\").setAll({\r\n                spikes: 5,\r\n                innerRadius: 5,\r\n                radius: 10\r\n            });\r\n            // STOCK\r\n            r(\"Tooltip\", [\"stock\"]).setAll({\r\n                paddingTop: 6,\r\n                paddingBottom: 5,\r\n                paddingLeft: 7,\r\n                paddingRight: 7\r\n            });\r\n            r(\"PointedRectangle\", [\"tooltip\", \"stock\", \"axis\"]).setAll({\r\n                pointerLength: 0,\r\n                pointerBaseWidth: 0,\r\n                cornerRadius: 3\r\n            });\r\n            r(\"Label\", [\"tooltip\", \"stock\"]).setAll({\r\n                fontSize: \"0.8em\"\r\n            });\r\n            // resizer\r\n            r(\"SpriteResizer\").setAll({\r\n                rotationStep: 10\r\n            });\r\n            {\r\n                var rule = r(\"Container\", [\"resizer\", \"grip\"]);\r\n                rule.states.create(\"hover\", {});\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"resizer\", \"grip\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.7,\r\n                    strokeWidth: 1,\r\n                    fillOpacity: 1,\r\n                    width: 12,\r\n                    height: 12\r\n                });\r\n                setColor(rule, \"fill\", ic, \"background\");\r\n                setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"outline\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0,\r\n                    fillOpacity: 0,\r\n                    width: 20,\r\n                    height: 20\r\n                });\r\n                rule.states.create(\"hover\", {\r\n                    fillOpacity: 0.3\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n            }\r\n            r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"left\"]).setAll({\r\n                cornerRadiusBL: 0,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusTL: 0,\r\n                cornerRadiusTR: 0\r\n            });\r\n            r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"right\"]).setAll({\r\n                cornerRadiusBL: 0,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusTL: 0,\r\n                cornerRadiusTR: 0\r\n            });\r\n            {\r\n                var rule = r(\"Rectangle\", [\"resizer\", \"rectangle\"]);\r\n                rule.setAll({\r\n                    strokeDasharray: [2, 2],\r\n                    strokeOpacity: 0.5,\r\n                    strokeWidth: 1\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n            }\r\n        }\r\n    });\r\n    return DefaultTheme;\r\n}(Theme));\r\nexport { DefaultTheme };\r\n//# sourceMappingURL=DefaultTheme.js.map","/**\r\n * Modified from Pixi:\r\n *\r\n * The MIT License\r\n *\r\n * Copyright (c) 2013-2017 Mathew Groves, Chad Engler\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar Matrix = /** @class */ (function () {\r\n    function Matrix(a, b, c, d, tx, ty) {\r\n        if (a === void 0) { a = 1; }\r\n        if (b === void 0) { b = 0; }\r\n        if (c === void 0) { c = 0; }\r\n        if (d === void 0) { d = 1; }\r\n        if (tx === void 0) { tx = 0; }\r\n        if (ty === void 0) { ty = 0; }\r\n        Object.defineProperty(this, \"a\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"b\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"c\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"d\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"ty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n        this.tx = tx;\r\n        this.ty = ty;\r\n    }\r\n    /**\r\n     * Sets the matrix based on all the available properties\r\n     */\r\n    Object.defineProperty(Matrix.prototype, \"setTransform\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y, pivotX, pivotY, rotation, scale) {\r\n            if (scale === void 0) { scale = 1; }\r\n            this.a = Math.cos(rotation) * scale;\r\n            this.b = Math.sin(rotation) * scale;\r\n            this.c = -Math.sin(rotation) * scale;\r\n            this.d = Math.cos(rotation) * scale;\r\n            this.tx = x - ((pivotX * this.a) + (pivotY * this.c));\r\n            this.ty = y - ((pivotX * this.b) + (pivotY * this.d));\r\n        }\r\n    });\r\n    /**\r\n     * Get a new position with the current transformation applied.\r\n     * Can be used to go from a child's coordinate space to the world coordinate space. (e.g. rendering)\r\n     */\r\n    Object.defineProperty(Matrix.prototype, \"apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (origin) {\r\n            return {\r\n                x: (this.a * origin.x) + (this.c * origin.y) + this.tx,\r\n                y: (this.b * origin.x) + (this.d * origin.y) + this.ty\r\n            };\r\n        }\r\n    });\r\n    /**\r\n     * Get a new position with the inverse of the current transformation applied.\r\n     * Can be used to go from the world coordinate space to a child's coordinate space. (e.g. input)\r\n     */\r\n    Object.defineProperty(Matrix.prototype, \"applyInverse\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (origin) {\r\n            var id = 1 / ((this.a * this.d) + (this.c * -this.b));\r\n            return {\r\n                x: (this.d * id * origin.x) + (-this.c * id * origin.y) + (((this.ty * this.c) - (this.tx * this.d)) * id),\r\n                y: (this.a * id * origin.y) + (-this.b * id * origin.x) + (((-this.ty * this.a) + (this.tx * this.b)) * id)\r\n            };\r\n        }\r\n    });\r\n    /**\r\n     * Appends the given Matrix to this Matrix.\r\n     */\r\n    Object.defineProperty(Matrix.prototype, \"append\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (matrix) {\r\n            var a1 = this.a;\r\n            var b1 = this.b;\r\n            var c1 = this.c;\r\n            var d1 = this.d;\r\n            this.a = (matrix.a * a1) + (matrix.b * c1);\r\n            this.b = (matrix.a * b1) + (matrix.b * d1);\r\n            this.c = (matrix.c * a1) + (matrix.d * c1);\r\n            this.d = (matrix.c * b1) + (matrix.d * d1);\r\n            this.tx = (matrix.tx * a1) + (matrix.ty * c1) + this.tx;\r\n            this.ty = (matrix.tx * b1) + (matrix.ty * d1) + this.ty;\r\n        }\r\n    });\r\n    /**\r\n     * Prepends the given Matrix to this Matrix.\r\n     */\r\n    Object.defineProperty(Matrix.prototype, \"prepend\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (matrix) {\r\n            var tx1 = this.tx;\r\n            if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {\r\n                var a1 = this.a;\r\n                var c1 = this.c;\r\n                this.a = (a1 * matrix.a) + (this.b * matrix.c);\r\n                this.b = (a1 * matrix.b) + (this.b * matrix.d);\r\n                this.c = (c1 * matrix.a) + (this.d * matrix.c);\r\n                this.d = (c1 * matrix.b) + (this.d * matrix.d);\r\n            }\r\n            this.tx = (tx1 * matrix.a) + (this.ty * matrix.c) + matrix.tx;\r\n            this.ty = (tx1 * matrix.b) + (this.ty * matrix.d) + matrix.ty;\r\n        }\r\n    });\r\n    /**\r\n     * Copies the other matrix's properties into this matrix\r\n     */\r\n    Object.defineProperty(Matrix.prototype, \"copyFrom\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (matrix) {\r\n            this.a = matrix.a;\r\n            this.b = matrix.b;\r\n            this.c = matrix.c;\r\n            this.d = matrix.d;\r\n            this.tx = matrix.tx;\r\n            this.ty = matrix.ty;\r\n        }\r\n    });\r\n    return Matrix;\r\n}());\r\nexport { Matrix };\r\n//# sourceMappingURL=Matrix.js.map","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar TAU = Math.PI * 2;\n\nvar mapToEllipse = function mapToEllipse(_ref, rx, ry, cosphi, sinphi, centerx, centery) {\n  var x = _ref.x,\n      y = _ref.y;\n\n  x *= rx;\n  y *= ry;\n\n  var xp = cosphi * x - sinphi * y;\n  var yp = sinphi * x + cosphi * y;\n\n  return {\n    x: xp + centerx,\n    y: yp + centery\n  };\n};\n\nvar approxUnitArc = function approxUnitArc(ang1, ang2) {\n  // If 90 degree circular arc, use a constant\n  // as derived from http://spencermortensen.com/articles/bezier-circle\n  var a = ang2 === 1.5707963267948966 ? 0.551915024494 : ang2 === -1.5707963267948966 ? -0.551915024494 : 4 / 3 * Math.tan(ang2 / 4);\n\n  var x1 = Math.cos(ang1);\n  var y1 = Math.sin(ang1);\n  var x2 = Math.cos(ang1 + ang2);\n  var y2 = Math.sin(ang1 + ang2);\n\n  return [{\n    x: x1 - y1 * a,\n    y: y1 + x1 * a\n  }, {\n    x: x2 + y2 * a,\n    y: y2 - x2 * a\n  }, {\n    x: x2,\n    y: y2\n  }];\n};\n\nvar vectorAngle = function vectorAngle(ux, uy, vx, vy) {\n  var sign = ux * vy - uy * vx < 0 ? -1 : 1;\n\n  var dot = ux * vx + uy * vy;\n\n  if (dot > 1) {\n    dot = 1;\n  }\n\n  if (dot < -1) {\n    dot = -1;\n  }\n\n  return sign * Math.acos(dot);\n};\n\nvar getArcCenter = function getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp) {\n  var rxsq = Math.pow(rx, 2);\n  var rysq = Math.pow(ry, 2);\n  var pxpsq = Math.pow(pxp, 2);\n  var pypsq = Math.pow(pyp, 2);\n\n  var radicant = rxsq * rysq - rxsq * pypsq - rysq * pxpsq;\n\n  if (radicant < 0) {\n    radicant = 0;\n  }\n\n  radicant /= rxsq * pypsq + rysq * pxpsq;\n  radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n\n  var centerxp = radicant * rx / ry * pyp;\n  var centeryp = radicant * -ry / rx * pxp;\n\n  var centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;\n  var centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;\n\n  var vx1 = (pxp - centerxp) / rx;\n  var vy1 = (pyp - centeryp) / ry;\n  var vx2 = (-pxp - centerxp) / rx;\n  var vy2 = (-pyp - centeryp) / ry;\n\n  var ang1 = vectorAngle(1, 0, vx1, vy1);\n  var ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n\n  if (sweepFlag === 0 && ang2 > 0) {\n    ang2 -= TAU;\n  }\n\n  if (sweepFlag === 1 && ang2 < 0) {\n    ang2 += TAU;\n  }\n\n  return [centerx, centery, ang1, ang2];\n};\n\nvar arcToBezier = function arcToBezier(_ref2) {\n  var px = _ref2.px,\n      py = _ref2.py,\n      cx = _ref2.cx,\n      cy = _ref2.cy,\n      rx = _ref2.rx,\n      ry = _ref2.ry,\n      _ref2$xAxisRotation = _ref2.xAxisRotation,\n      xAxisRotation = _ref2$xAxisRotation === undefined ? 0 : _ref2$xAxisRotation,\n      _ref2$largeArcFlag = _ref2.largeArcFlag,\n      largeArcFlag = _ref2$largeArcFlag === undefined ? 0 : _ref2$largeArcFlag,\n      _ref2$sweepFlag = _ref2.sweepFlag,\n      sweepFlag = _ref2$sweepFlag === undefined ? 0 : _ref2$sweepFlag;\n\n  var curves = [];\n\n  if (rx === 0 || ry === 0) {\n    return [];\n  }\n\n  var sinphi = Math.sin(xAxisRotation * TAU / 360);\n  var cosphi = Math.cos(xAxisRotation * TAU / 360);\n\n  var pxp = cosphi * (px - cx) / 2 + sinphi * (py - cy) / 2;\n  var pyp = -sinphi * (px - cx) / 2 + cosphi * (py - cy) / 2;\n\n  if (pxp === 0 && pyp === 0) {\n    return [];\n  }\n\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n\n  var lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);\n\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n\n  var _getArcCenter = getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp),\n      _getArcCenter2 = _slicedToArray(_getArcCenter, 4),\n      centerx = _getArcCenter2[0],\n      centery = _getArcCenter2[1],\n      ang1 = _getArcCenter2[2],\n      ang2 = _getArcCenter2[3];\n\n  // If 'ang2' == 90.0000000001, then `ratio` will evaluate to\n  // 1.0000000001. This causes `segments` to be greater than one, which is an\n  // unecessary split, and adds extra points to the bezier curve. To alleviate\n  // this issue, we round to 1.0 when the ratio is close to 1.0.\n\n\n  var ratio = Math.abs(ang2) / (TAU / 4);\n  if (Math.abs(1.0 - ratio) < 0.0000001) {\n    ratio = 1.0;\n  }\n\n  var segments = Math.max(Math.ceil(ratio), 1);\n\n  ang2 /= segments;\n\n  for (var i = 0; i < segments; i++) {\n    curves.push(approxUnitArc(ang1, ang2));\n    ang1 += ang2;\n  }\n\n  return curves.map(function (curve) {\n    var _mapToEllipse = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery),\n        x1 = _mapToEllipse.x,\n        y1 = _mapToEllipse.y;\n\n    var _mapToEllipse2 = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery),\n        x2 = _mapToEllipse2.x,\n        y2 = _mapToEllipse2.y;\n\n    var _mapToEllipse3 = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery),\n        x = _mapToEllipse3.x,\n        y = _mapToEllipse3.y;\n\n    return { x1: x1, y1: y1, x2: x2, y2: y2, x: x, y: y };\n  });\n};\n\nexport default arcToBezier;","/** @ignore */ /** */\r\nimport { __extends } from \"tslib\";\r\nimport { BlendMode } from \"./Renderer\";\r\nimport { Color } from \"../../util/Color\";\r\nimport { Matrix } from \"../../util/Matrix\";\r\nimport { Percent, percent } from \"../../util/Percent\";\r\n//import { Throttler } from \"../../util/Throttler\";\r\nimport { ArrayDisposer, Disposer, DisposerClass, CounterDisposer, MultiDisposer } from \"../../util/Disposer\";\r\nimport { TextFormatter } from \"../../util/TextFormatter\";\r\nimport * as $utils from \"../../util/Utils\";\r\nimport * as $array from \"../../util/Array\";\r\nimport * as $object from \"../../util/Object\";\r\nimport * as $type from \"../../util/Type\";\r\nimport * as $math from \"../../util/Math\";\r\nimport arcToBezier from 'svg-arc-to-cubic-bezier';\r\n/**\r\n * @ignore\r\n */\r\nfunction checkArgs(name, actual, expected) {\r\n    if (actual !== expected) {\r\n        throw new Error(\"Required \" + expected + \" arguments for \" + name + \" but got \" + actual);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction checkMinArgs(name, actual, expected) {\r\n    if (actual < expected) {\r\n        throw new Error(\"Required at least \" + expected + \" arguments for \" + name + \" but got \" + actual);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction checkEvenArgs(name, actual, expected) {\r\n    checkMinArgs(name, actual, expected);\r\n    if ((actual % expected) !== 0) {\r\n        throw new Error(\"Arguments for \" + name + \" must be in pairs of \" + expected);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction assertBinary(value) {\r\n    if (value === 0 || value === 1) {\r\n        return value;\r\n    }\r\n    else {\r\n        throw new Error(\"Flag must be 0 or 1\");\r\n    }\r\n}\r\n//  1 -> 0xffffff * (2 / 2)\r\n//  2 -> 0xffffff * (1 / 2)\r\n//\r\n//  3 -> 0xffffff * (3 / 4)\r\n//  4 -> 0xffffff * (1 / 4)\r\n//\r\n//  5 -> 0xffffff * (7 / 8)\r\n//  6 -> 0xffffff * (5 / 8)\r\n//  7 -> 0xffffff * (3 / 8)\r\n//  8 -> 0xffffff * (1 / 8)\r\n//\r\n//  9 -> 0xffffff * (15 / 16)\r\n// 10 -> 0xffffff * (13 / 16)\r\n// 11 -> 0xffffff * (11 / 16)\r\n// 12 -> 0xffffff *  (9 / 16)\r\n// 13 -> 0xffffff *  (7 / 16)\r\n// 14 -> 0xffffff *  (5 / 16)\r\n// 15 -> 0xffffff *  (3 / 16)\r\n// 16 -> 0xffffff *  (1 / 16)\r\n// @todo remove this old color distribution algo if the new one pans out\r\n// function distributeIdBAK(id: number): number {\r\n// \tif (id === 1) {\r\n// \t\treturn 0x000001;\r\n// \t} else {\r\n// \t\t// Finds the closest power of 2\r\n// \t\tconst base = Math.pow(2, Math.ceil(Math.log(id) / Math.log(2)));\r\n// \t\t// Translates the id into an odd fraction index\r\n// \t\tconst index = ((base - id) * 2) + 1;\r\n// \t\t// TODO is Math.round correct ?\r\n// \t\treturn Math.round(0xffffff * (index / base));\r\n// \t}\r\n// }\r\n/**\r\n * Function by smeans:\r\n * https://lowcode.life/generating-unique-contrasting-colors-in-javascript/\r\n * @ignore\r\n */\r\nfunction distributeId(id) {\r\n    var rgb = [0, 0, 0];\r\n    for (var i = 0; i < 24; i++) {\r\n        rgb[i % 3] <<= 1;\r\n        rgb[i % 3] |= id & 0x01;\r\n        id >>= 1;\r\n    }\r\n    return (rgb[2] | 0) + (rgb[1] << 8) + (rgb[0] << 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction eachTargets(hitTarget, f) {\r\n    for (;;) {\r\n        if (hitTarget.interactive) {\r\n            if (!f(hitTarget)) {\r\n                break;\r\n            }\r\n        }\r\n        if (hitTarget._parent) {\r\n            hitTarget = hitTarget._parent;\r\n        }\r\n        else {\r\n            break;\r\n        }\r\n    }\r\n}\r\n// TODO feature detection for mouse/touch/pointer\r\n/**\r\n * @ignore\r\n */\r\nfunction onPointerEvent(element, name, f) {\r\n    return $utils.addEventListener(element, $utils.getRendererEvent(name), function (event) {\r\n        var touches = event.touches;\r\n        if (touches) {\r\n            if (touches.length == 0) {\r\n                touches = event.changedTouches;\r\n            }\r\n            f($array.copy(touches));\r\n        }\r\n        else {\r\n            f([event]);\r\n        }\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction isTainted(image) {\r\n    var canvas = document.createElement(\"canvas\");\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    var context = canvas.getContext(\"2d\");\r\n    context.drawImage(image, 0, 0, 1, 1);\r\n    try {\r\n        context.getImageData(0, 0, 1, 1);\r\n        return false;\r\n    }\r\n    catch (err) {\r\n        console.warn(\"Image \\\"\" + image.src + \"\\\" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors\");\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * This is needed to workaround a bug in iOS which causes it to not GC canvas elements.\r\n *\r\n * @ignore\r\n */\r\nfunction clearCanvas(view) {\r\n    view.width = 0;\r\n    view.height = 0;\r\n    view.style.width = \"0px\";\r\n    view.style.height = \"0px\";\r\n}\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasPivot = /** @class */ (function () {\r\n    function CanvasPivot() {\r\n        Object.defineProperty(this, \"_x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    Object.defineProperty(CanvasPivot.prototype, \"x\", {\r\n        get: function () {\r\n            return this._x;\r\n        },\r\n        set: function (value) {\r\n            this._x = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CanvasPivot.prototype, \"y\", {\r\n        get: function () {\r\n            return this._y;\r\n        },\r\n        set: function (value) {\r\n            this._y = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return CanvasPivot;\r\n}());\r\nexport { CanvasPivot };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasDisplayObject = /** @class */ (function (_super) {\r\n    __extends(CanvasDisplayObject, _super);\r\n    function CanvasDisplayObject(renderer) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"_layer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"mask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(_this, \"visible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"exportable\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"interactive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"inactive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"wheelable\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"cancelTouch\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"isMeasured\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"buttonMode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"alpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"compoundAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"angle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"scale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"pivot\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new CanvasPivot()\r\n        });\r\n        Object.defineProperty(_this, \"filter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"cursorOverStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_replacedCursorStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_localMatrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Matrix()\r\n        });\r\n        Object.defineProperty(_this, \"_matrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Matrix()\r\n        });\r\n        // TODO can this be replaced with _localMatrix ?\r\n        Object.defineProperty(_this, \"_uMatrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Matrix()\r\n        });\r\n        Object.defineProperty(_this, \"_renderer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_parent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_localBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_bounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_colorId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this._renderer = renderer;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._renderer._removeObject(this);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"getCanvas\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.getLayer().view;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"getLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var self = this;\r\n            for (;;) {\r\n                if (self._layer) {\r\n                    return self._layer;\r\n                }\r\n                else if (self._parent) {\r\n                    self = self._parent;\r\n                }\r\n                else {\r\n                    return this._renderer.defaultLayer;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"setLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (order, visible) {\r\n            if (visible === void 0) { visible = true; }\r\n            if (order == null) {\r\n                this._layer = undefined;\r\n            }\r\n            else {\r\n                this._layer = this._renderer.getLayer(order, visible);\r\n                this._layer.visible = visible;\r\n                if (this._parent) {\r\n                    this._parent.registerChildLayer(this._layer);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"markDirtyLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.getLayer().dirty = true;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"clear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.invalidateBounds();\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"invalidateBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._localBounds = undefined;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_bounds) { }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_getColorId\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._colorId === undefined) {\r\n                this._colorId = this._renderer.paintId(this);\r\n            }\r\n            return this._colorId;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_isInteractive\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.inactive == false && (this.interactive || this._renderer._forceInteractive > 0);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_isInteractiveMask\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._isInteractive();\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"contains\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (child) {\r\n            for (;;) {\r\n                if (child === this) {\r\n                    return true;\r\n                }\r\n                else if (child._parent) {\r\n                    child = child._parent;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"toGlobal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return this._matrix.apply(point);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"toLocal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return this._matrix.applyInverse(point);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"getLocalMatrix\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._uMatrix.setTransform(0, 0, this.pivot.x, this.pivot.y, this.angle * Math.PI / 180, this.scale);\r\n            return this._uMatrix;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"getLocalBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._localBounds) {\r\n                var bn = 10000000;\r\n                this._localBounds = {\r\n                    left: bn,\r\n                    top: bn,\r\n                    right: -bn,\r\n                    bottom: -bn\r\n                };\r\n                this._addBounds(this._localBounds);\r\n            }\r\n            return this._localBounds;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"getAdjustedBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            this._setMatrix();\r\n            var matrix = this.getLocalMatrix();\r\n            var p0 = matrix.apply({ x: bounds.left, y: bounds.top });\r\n            var p1 = matrix.apply({ x: bounds.right, y: bounds.top });\r\n            var p2 = matrix.apply({ x: bounds.right, y: bounds.bottom });\r\n            var p3 = matrix.apply({ x: bounds.left, y: bounds.bottom });\r\n            return {\r\n                left: Math.min(p0.x, p1.x, p2.x, p3.x),\r\n                top: Math.min(p0.y, p1.y, p2.y, p3.y),\r\n                right: Math.max(p0.x, p1.x, p2.x, p3.x),\r\n                bottom: Math.max(p0.y, p1.y, p2.y, p3.y)\r\n            };\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"on\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback, context) {\r\n            if (this.interactive) {\r\n                return this._renderer._addEvent(this, key, callback, context);\r\n            }\r\n            else {\r\n                return new Disposer(function () { });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_setMatrix\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // TODO only calculate this if it has actually changed\r\n            this._localMatrix.setTransform(this.x, this.y, this.pivot.x, this.pivot.y, \r\n            // Converts degrees to radians\r\n            this.angle * Math.PI / 180, this.scale);\r\n            this._matrix.copyFrom(this._localMatrix);\r\n            if (this._parent) {\r\n                // TODO only calculate this if it has actually changed\r\n                this._matrix.prepend(this._parent._matrix);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_transform\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, resolution) {\r\n            var m = this._matrix;\r\n            context.setTransform(m.a * resolution, m.b * resolution, m.c * resolution, m.d * resolution, m.tx * resolution, m.ty * resolution);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            var _this = this;\r\n            if (this.visible && (this.exportable !== false || !this._renderer._omitTainted)) {\r\n                this._setMatrix();\r\n                var resolution_1 = this._renderer.resolution;\r\n                var layers = this._renderer.layers;\r\n                var ghostContext = this._renderer._ghostContext;\r\n                var mask_1 = this.mask;\r\n                if (mask_1) {\r\n                    mask_1._setMatrix();\r\n                }\r\n                // TODO improve this\r\n                $array.each(layers, function (layer) {\r\n                    if (layer) {\r\n                        var context = layer.context;\r\n                        context.save();\r\n                        // We must apply the mask before we transform the element\r\n                        if (mask_1) {\r\n                            mask_1._transform(context, layer.scale || resolution_1);\r\n                            mask_1._runPath(context);\r\n                            context.clip();\r\n                        }\r\n                        context.globalAlpha = _this.compoundAlpha * _this.alpha;\r\n                        _this._transform(context, layer.scale || resolution_1);\r\n                        if (_this.filter) {\r\n                            context.filter = _this.filter;\r\n                        }\r\n                    }\r\n                });\r\n                ghostContext.save();\r\n                // We must apply the mask before we transform the element\r\n                if (mask_1 && this._isInteractiveMask()) {\r\n                    mask_1._transform(ghostContext, resolution_1);\r\n                    mask_1._runPath(ghostContext);\r\n                    ghostContext.clip();\r\n                }\r\n                this._transform(ghostContext, resolution_1);\r\n                this._render(parentLayer);\r\n                ghostContext.restore();\r\n                $array.each(layers, function (layer) {\r\n                    if (layer) {\r\n                        layer.context.restore();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            if (this.exportable === false) {\r\n                var layer = this._layer || parentLayer;\r\n                layer.tainted = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"hovering\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._renderer._hovering.has(this);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"dragging\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            return this._renderer._dragging.some(function (x) { return x.value === _this; });\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.getLayer().dirty = true;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"shouldCancelTouch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var renderer = this._renderer;\r\n            if (renderer.tapToActivate && !renderer._touchActive) {\r\n                return false;\r\n            }\r\n            if (this.cancelTouch) {\r\n                return true;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.shouldCancelTouch();\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    return CanvasDisplayObject;\r\n}(DisposerClass));\r\nexport { CanvasDisplayObject };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasContainer = /** @class */ (function (_super) {\r\n    __extends(CanvasContainer, _super);\r\n    function CanvasContainer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"interactiveChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"_childLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_children\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasContainer.prototype, \"_isInteractiveMask\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.interactiveChildren || _super.prototype._isInteractiveMask.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"addChild\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (child) {\r\n            child._parent = this;\r\n            this._children.push(child);\r\n            if (child._layer) {\r\n                this.registerChildLayer(child._layer);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"addChildAt\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (child, index) {\r\n            child._parent = this;\r\n            this._children.splice(index, 0, child);\r\n            if (child._layer) {\r\n                this.registerChildLayer(child._layer);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"removeChild\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (child) {\r\n            child._parent = undefined;\r\n            $array.removeFirst(this._children, child);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            var _this = this;\r\n            _super.prototype._render.call(this, parentLayer);\r\n            var renderer = this._renderer;\r\n            if (this.interactive && this.interactiveChildren) {\r\n                ++renderer._forceInteractive;\r\n            }\r\n            var layer = this._layer || parentLayer;\r\n            $array.each(this._children, function (child) {\r\n                child.compoundAlpha = _this.compoundAlpha * _this.alpha;\r\n                child.render(layer);\r\n            });\r\n            if (this.interactive && this.interactiveChildren) {\r\n                --renderer._forceInteractive;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"registerChildLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (layer) {\r\n            if (!this._childLayers) {\r\n                this._childLayers = [];\r\n            }\r\n            $array.pushOne(this._childLayers, layer);\r\n            if (this._parent) {\r\n                this._parent.registerChildLayer(layer);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"markDirtyLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (deep) {\r\n            if (deep === void 0) { deep = false; }\r\n            _super.prototype.markDirtyLayer.call(this);\r\n            if (deep && this._childLayers) {\r\n                $array.each(this._childLayers, function (layer) { return layer.dirty = true; });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.dispose.call(this);\r\n            if (this._childLayers) {\r\n                $array.each(this._childLayers, function (layer) {\r\n                    layer.dirty = true;\r\n                });\r\n            }\r\n        }\r\n    });\r\n    return CanvasContainer;\r\n}(CanvasDisplayObject));\r\nexport { CanvasContainer };\r\n/**\r\n * @ignore\r\n */\r\nfunction setPoint(bounds, point) {\r\n    bounds.left = Math.min(bounds.left, point.x);\r\n    bounds.top = Math.min(bounds.top, point.y);\r\n    bounds.right = Math.max(bounds.right, point.x);\r\n    bounds.bottom = Math.max(bounds.bottom, point.y);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nvar Op = /** @class */ (function () {\r\n    function Op() {\r\n    }\r\n    Object.defineProperty(Op.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_context, _forceColor) { }\r\n    });\r\n    Object.defineProperty(Op.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_context) { }\r\n    });\r\n    Object.defineProperty(Op.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_bounds) { }\r\n    });\r\n    return Op;\r\n}());\r\n/**\r\n * @ignore\r\n */\r\nvar BeginFill = /** @class */ (function (_super) {\r\n    __extends(BeginFill, _super);\r\n    function BeginFill(color) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(BeginFill.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, forceColor) {\r\n            if (forceColor !== undefined) {\r\n                context.fillStyle = forceColor;\r\n            }\r\n            else {\r\n                context.fillStyle = this.color;\r\n            }\r\n        }\r\n    });\r\n    return BeginFill;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar EndFill = /** @class */ (function (_super) {\r\n    __extends(EndFill, _super);\r\n    function EndFill(clearShadow) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"clearShadow\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: clearShadow\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EndFill.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, _forceColor) {\r\n            context.fill();\r\n            if (this.clearShadow) {\r\n                context.shadowColor = \"\";\r\n                context.shadowBlur = 0;\r\n                context.shadowOffsetX = 0;\r\n                context.shadowOffsetY = 0;\r\n            }\r\n        }\r\n    });\r\n    return EndFill;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar EndStroke = /** @class */ (function (_super) {\r\n    __extends(EndStroke, _super);\r\n    function EndStroke() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(EndStroke.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, _forceColor) {\r\n            context.stroke();\r\n        }\r\n    });\r\n    return EndStroke;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar LineStyle = /** @class */ (function (_super) {\r\n    __extends(LineStyle, _super);\r\n    function LineStyle(width, color, lineJoin) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(_this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        Object.defineProperty(_this, \"lineJoin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: lineJoin\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(LineStyle.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, forceColor) {\r\n            if (forceColor !== undefined) {\r\n                context.strokeStyle = forceColor;\r\n            }\r\n            else {\r\n                context.strokeStyle = this.color;\r\n            }\r\n            context.lineWidth = this.width;\r\n            if (this.lineJoin) {\r\n                context.lineJoin = this.lineJoin;\r\n            }\r\n        }\r\n    });\r\n    return LineStyle;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar LineDash = /** @class */ (function (_super) {\r\n    __extends(LineDash, _super);\r\n    function LineDash(dash) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"dash\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: dash\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(LineDash.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, _forceColor) {\r\n            context.setLineDash(this.dash);\r\n        }\r\n    });\r\n    return LineDash;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar LineDashOffset = /** @class */ (function (_super) {\r\n    __extends(LineDashOffset, _super);\r\n    function LineDashOffset(dashOffset) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"dashOffset\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: dashOffset\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(LineDashOffset.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, _forceColor) {\r\n            context.lineDashOffset = this.dashOffset;\r\n        }\r\n    });\r\n    return LineDashOffset;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar DrawRect = /** @class */ (function (_super) {\r\n    __extends(DrawRect, _super);\r\n    function DrawRect(x, y, width, height) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(_this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(_this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: height\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DrawRect.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.rect(this.x, this.y, this.width, this.height);\r\n        }\r\n    });\r\n    Object.defineProperty(DrawRect.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            var l = this.x;\r\n            var t = this.y;\r\n            var r = l + this.width;\r\n            var b = t + this.height;\r\n            setPoint(bounds, { x: l, y: t });\r\n            setPoint(bounds, { x: r, y: t });\r\n            setPoint(bounds, { x: l, y: b });\r\n            setPoint(bounds, { x: r, y: b });\r\n        }\r\n    });\r\n    return DrawRect;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar DrawCircle = /** @class */ (function (_super) {\r\n    __extends(DrawCircle, _super);\r\n    function DrawCircle(x, y, radius) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(_this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DrawCircle.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.moveTo(this.x + this.radius, this.y);\r\n            context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\r\n        }\r\n    });\r\n    // TODO handle skewing and rotation\r\n    Object.defineProperty(DrawCircle.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.x - this.radius, y: this.y - this.radius });\r\n            setPoint(bounds, { x: this.x + this.radius, y: this.y + this.radius });\r\n        }\r\n    });\r\n    return DrawCircle;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar DrawEllipse = /** @class */ (function (_super) {\r\n    __extends(DrawEllipse, _super);\r\n    function DrawEllipse(x, y, radiusX, radiusY) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(_this, \"radiusX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radiusX\r\n        });\r\n        Object.defineProperty(_this, \"radiusY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radiusY\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DrawEllipse.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.ellipse(0, 0, this.radiusX, this.radiusY, 0, 0, Math.PI * 2);\r\n        }\r\n    });\r\n    // TODO handle skewing and rotation\r\n    Object.defineProperty(DrawEllipse.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.x - this.radiusX, y: this.y - this.radiusY });\r\n            setPoint(bounds, { x: this.x + this.radiusX, y: this.y + this.radiusY });\r\n        }\r\n    });\r\n    return DrawEllipse;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar Arc = /** @class */ (function (_super) {\r\n    __extends(Arc, _super);\r\n    function Arc(cx, cy, radius, startAngle, endAngle, anticlockwise) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"cx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cx\r\n        });\r\n        Object.defineProperty(_this, \"cy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cy\r\n        });\r\n        Object.defineProperty(_this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n        Object.defineProperty(_this, \"startAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: startAngle\r\n        });\r\n        Object.defineProperty(_this, \"endAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: endAngle\r\n        });\r\n        Object.defineProperty(_this, \"anticlockwise\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: anticlockwise\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Arc.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            if (this.radius > 0) {\r\n                context.arc(this.cx, this.cy, this.radius, this.startAngle, this.endAngle, this.anticlockwise);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Arc.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            var arcBounds = $math.getArcBounds(this.cx, this.cy, this.startAngle * $math.DEGREES, this.endAngle * $math.DEGREES, this.radius);\r\n            setPoint(bounds, { x: arcBounds.left, y: arcBounds.top });\r\n            setPoint(bounds, { x: arcBounds.right, y: arcBounds.bottom });\r\n        }\r\n    });\r\n    return Arc;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar ArcTo = /** @class */ (function (_super) {\r\n    __extends(ArcTo, _super);\r\n    function ArcTo(x1, y1, x2, y2, radius) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"x1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x1\r\n        });\r\n        Object.defineProperty(_this, \"y1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y1\r\n        });\r\n        Object.defineProperty(_this, \"x2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x2\r\n        });\r\n        Object.defineProperty(_this, \"y2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y2\r\n        });\r\n        Object.defineProperty(_this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ArcTo.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            if (this.radius > 0) {\r\n                context.arcTo(this.x1, this.y1, this.x2, this.y2, this.radius);\r\n            }\r\n        }\r\n    });\r\n    // TODO: add points\r\n    Object.defineProperty(ArcTo.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_bounds) {\r\n            /*\r\n            // not finished\r\n            https://math.stackexchange.com/questions/1781438/finding-the-center-of-a-circle-given-two-points-and-a-radius-algebraically\r\n    \r\n            if (prevPoint) {\r\n                let x1 = prevPoint.x;\r\n                let y1 = prevPoint.y;\r\n                let x2 = this.x2;\r\n                let y2 = this.y2;\r\n                let r = this.radius;\r\n    \r\n                let xa = (x2 - x1) / 2;\r\n                let ya = (y2 - y1) / 2;\r\n    \r\n                let x0 = x1 + xa;\r\n                let y0 = y1 + ya;\r\n    \r\n                let a = Math.hypot(xa, ya);\r\n                let b = Math.sqrt(r * r - a * a);\r\n    \r\n                let cx = x0 + b * ya / a;\r\n                let cy = y0 - b * xa / a;\r\n    \r\n                console.log(cx, cy);\r\n            }*/\r\n        }\r\n    });\r\n    return ArcTo;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar LineTo = /** @class */ (function (_super) {\r\n    __extends(LineTo, _super);\r\n    function LineTo(x, y) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(LineTo.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.lineTo(this.x, this.y);\r\n        }\r\n    });\r\n    Object.defineProperty(LineTo.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.x, y: this.y });\r\n        }\r\n    });\r\n    return LineTo;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar MoveTo = /** @class */ (function (_super) {\r\n    __extends(MoveTo, _super);\r\n    function MoveTo(x, y) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MoveTo.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.moveTo(this.x, this.y);\r\n        }\r\n    });\r\n    Object.defineProperty(MoveTo.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.x, y: this.y });\r\n        }\r\n    });\r\n    return MoveTo;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar ClosePath = /** @class */ (function (_super) {\r\n    __extends(ClosePath, _super);\r\n    function ClosePath() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(ClosePath.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.closePath();\r\n        }\r\n    });\r\n    return ClosePath;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar BezierCurveTo = /** @class */ (function (_super) {\r\n    __extends(BezierCurveTo, _super);\r\n    function BezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"cpX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX\r\n        });\r\n        Object.defineProperty(_this, \"cpY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY\r\n        });\r\n        Object.defineProperty(_this, \"cpX2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX2\r\n        });\r\n        Object.defineProperty(_this, \"cpY2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY2\r\n        });\r\n        Object.defineProperty(_this, \"toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toX\r\n        });\r\n        Object.defineProperty(_this, \"toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toY\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(BezierCurveTo.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.bezierCurveTo(this.cpX, this.cpY, this.cpX2, this.cpY2, this.toX, this.toY);\r\n        }\r\n    });\r\n    // TODO: OK?\r\n    Object.defineProperty(BezierCurveTo.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.cpX, y: this.cpY });\r\n            setPoint(bounds, { x: this.cpX2, y: this.cpY2 });\r\n            setPoint(bounds, { x: this.toX, y: this.toY });\r\n        }\r\n    });\r\n    return BezierCurveTo;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar QuadraticCurveTo = /** @class */ (function (_super) {\r\n    __extends(QuadraticCurveTo, _super);\r\n    function QuadraticCurveTo(cpX, cpY, toX, toY) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"cpX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX\r\n        });\r\n        Object.defineProperty(_this, \"cpY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY\r\n        });\r\n        Object.defineProperty(_this, \"toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toX\r\n        });\r\n        Object.defineProperty(_this, \"toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toY\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(QuadraticCurveTo.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.quadraticCurveTo(this.cpX, this.cpY, this.toX, this.toY);\r\n        }\r\n    });\r\n    // TODO: OK?\r\n    Object.defineProperty(QuadraticCurveTo.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.cpX, y: this.cpY });\r\n            setPoint(bounds, { x: this.toX, y: this.toY });\r\n        }\r\n    });\r\n    return QuadraticCurveTo;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar Shadow = /** @class */ (function (_super) {\r\n    __extends(Shadow, _super);\r\n    function Shadow(color, blur, offsetX, offsetY, opacity) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        Object.defineProperty(_this, \"blur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: blur\r\n        });\r\n        Object.defineProperty(_this, \"offsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: offsetX\r\n        });\r\n        Object.defineProperty(_this, \"offsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: offsetY\r\n        });\r\n        Object.defineProperty(_this, \"opacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: opacity\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Shadow.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, _forceColor) {\r\n            if (this.opacity) {\r\n                context.fillStyle = this.color;\r\n            }\r\n            context.shadowColor = this.color;\r\n            context.shadowBlur = this.blur;\r\n            context.shadowOffsetX = this.offsetX;\r\n            context.shadowOffsetY = this.offsetY;\r\n        }\r\n    });\r\n    return Shadow;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar GraphicsImage = /** @class */ (function (_super) {\r\n    __extends(GraphicsImage, _super);\r\n    function GraphicsImage(image, width, height, x, y) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: image\r\n        });\r\n        Object.defineProperty(_this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(_this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: height\r\n        });\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(GraphicsImage.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.drawImage(this.image, this.x, this.y, this.width, this.height);\r\n        }\r\n    });\r\n    // TODO: OK?\r\n    Object.defineProperty(GraphicsImage.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.x, y: this.y });\r\n            setPoint(bounds, { x: this.width, y: this.height });\r\n        }\r\n    });\r\n    return GraphicsImage;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasGraphics = /** @class */ (function (_super) {\r\n    __extends(CanvasGraphics, _super);\r\n    function CanvasGraphics() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_operations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"blendMode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: BlendMode.NORMAL\r\n        });\r\n        Object.defineProperty(_this, \"_hasShadows\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_fillAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_strokeAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasGraphics.prototype, \"clear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.clear.call(this);\r\n            this._operations.length = 0;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"_pushOp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (op) {\r\n            this._operations.push(op);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"beginFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (color, alpha) {\r\n            if (alpha === void 0) { alpha = 1; }\r\n            this._fillAlpha = alpha;\r\n            if (color) {\r\n                if (color instanceof Color) {\r\n                    this._pushOp(new BeginFill(color.toCSS(alpha)));\r\n                }\r\n                else {\r\n                    this.isMeasured = true;\r\n                    this._pushOp(new BeginFill(color));\r\n                }\r\n            }\r\n            else {\r\n                this._pushOp(new BeginFill(\"rgba(0, 0, 0, \" + alpha + \")\"));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"endFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._pushOp(new EndFill(this._hasShadows));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"endStroke\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._pushOp(new EndStroke());\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"lineStyle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (width, color, alpha, lineJoin) {\r\n            if (width === void 0) { width = 0; }\r\n            if (alpha === void 0) { alpha = 1; }\r\n            this._strokeAlpha = alpha;\r\n            if (color) {\r\n                if (color instanceof Color) {\r\n                    this._pushOp(new LineStyle(width, color.toCSS(alpha), lineJoin));\r\n                }\r\n                else {\r\n                    this._pushOp(new LineStyle(width, color, lineJoin));\r\n                }\r\n            }\r\n            else {\r\n                this._pushOp(new LineStyle(width, \"rgba(0, 0, 0, \" + alpha + \")\", lineJoin));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"setLineDash\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dash) {\r\n            this._pushOp(new LineDash(dash ? dash : []));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"setLineDashOffset\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dashOffset) {\r\n            if (dashOffset === void 0) { dashOffset = 0; }\r\n            this._pushOp(new LineDashOffset(dashOffset));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"drawRect\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y, width, height) {\r\n            this._pushOp(new DrawRect(x, y, width, height));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"drawCircle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y, radius) {\r\n            this._pushOp(new DrawCircle(x, y, radius));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"drawEllipse\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y, radiusX, radiusY) {\r\n            this._pushOp(new DrawEllipse(x, y, radiusX, radiusY));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"arc\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (cx, cy, radius, startAngle, endAngle, anticlockwise) {\r\n            if (anticlockwise === void 0) { anticlockwise = false; }\r\n            this._pushOp(new Arc(cx, cy, radius, startAngle, endAngle, anticlockwise));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"arcTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x1, y1, x2, y2, radius) {\r\n            this._pushOp(new ArcTo(x1, y1, x2, y2, radius));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"lineTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y) {\r\n            this._pushOp(new LineTo(x, y));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"moveTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y) {\r\n            this._pushOp(new MoveTo(x, y));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"bezierCurveTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (cpX, cpY, cpX2, cpY2, toX, toY) {\r\n            this._pushOp(new BezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"quadraticCurveTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (cpX, cpY, toX, toY) {\r\n            this._pushOp(new QuadraticCurveTo(cpX, cpY, toX, toY));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"closePath\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._pushOp(new ClosePath());\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"shadow\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (color, blur, offsetX, offsetY, opacity) {\r\n            if (blur === void 0) { blur = 0; }\r\n            if (offsetX === void 0) { offsetX = 0; }\r\n            if (offsetY === void 0) { offsetY = 0; }\r\n            this._hasShadows = true;\r\n            this._pushOp(new Shadow(opacity ? color.toCSS(opacity) : color.toCSS(this._fillAlpha || this._strokeAlpha), blur, offsetX, offsetY));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"image\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (image, width, height, x, y) {\r\n            this._pushOp(new GraphicsImage(image, width, height, x, y));\r\n        }\r\n    });\r\n    // https://svgwg.org/svg2-draft/paths.html#DProperty\r\n    // TODO better error checking\r\n    Object.defineProperty(CanvasGraphics.prototype, \"svgPath\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (path) {\r\n            var _this = this;\r\n            var x = 0;\r\n            var y = 0;\r\n            var cpx = null;\r\n            var cpy = null;\r\n            var qcpx = null;\r\n            var qcpy = null;\r\n            var SEGMENTS_REGEXP = /([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g;\r\n            var ARGS_REGEXP = /[\\u0009\\u0020\\u000A\\u000C\\u000D]*([\\+\\-]?[0-9]*\\.?[0-9]+(?:[eE][\\+\\-]?[0-9]+)?)[\\u0009\\u0020\\u000A\\u000C\\u000D]*,?/g;\r\n            var match;\r\n            while ((match = SEGMENTS_REGEXP.exec(path)) !== null) {\r\n                var name_1 = match[1];\r\n                var rest = match[2];\r\n                var args = [];\r\n                while ((match = ARGS_REGEXP.exec(rest)) !== null) {\r\n                    args.push(+match[1]);\r\n                }\r\n                // Reset control point\r\n                if (name_1 !== \"S\" && name_1 !== \"s\" && name_1 !== \"C\" && name_1 !== \"c\") {\r\n                    cpx = null;\r\n                    cpy = null;\r\n                }\r\n                // Reset control point\r\n                if (name_1 !== \"Q\" && name_1 !== \"q\" && name_1 !== \"T\" && name_1 !== \"t\") {\r\n                    qcpx = null;\r\n                    qcpy = null;\r\n                }\r\n                switch (name_1) {\r\n                    case \"M\":\r\n                        checkEvenArgs(name_1, args.length, 2);\r\n                        x = args[0];\r\n                        y = args[1];\r\n                        this.moveTo(x, y);\r\n                        for (var i = 2; i < args.length; i += 2) {\r\n                            x = args[i];\r\n                            y = args[i + 1];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"m\":\r\n                        checkEvenArgs(name_1, args.length, 2);\r\n                        x += args[0];\r\n                        y += args[1];\r\n                        this.moveTo(x, y);\r\n                        for (var i = 2; i < args.length; i += 2) {\r\n                            x += args[i];\r\n                            y += args[i + 1];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"L\":\r\n                        checkEvenArgs(name_1, args.length, 2);\r\n                        for (var i = 0; i < args.length; i += 2) {\r\n                            x = args[i];\r\n                            y = args[i + 1];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"l\":\r\n                        checkEvenArgs(name_1, args.length, 2);\r\n                        for (var i = 0; i < args.length; i += 2) {\r\n                            x += args[i];\r\n                            y += args[i + 1];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"H\":\r\n                        checkMinArgs(name_1, args.length, 1);\r\n                        for (var i = 0; i < args.length; ++i) {\r\n                            x = args[i];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"h\":\r\n                        checkMinArgs(name_1, args.length, 1);\r\n                        for (var i = 0; i < args.length; ++i) {\r\n                            x += args[i];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"V\":\r\n                        checkMinArgs(name_1, args.length, 1);\r\n                        for (var i = 0; i < args.length; ++i) {\r\n                            y = args[i];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"v\":\r\n                        checkMinArgs(name_1, args.length, 1);\r\n                        for (var i = 0; i < args.length; ++i) {\r\n                            y += args[i];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"C\":\r\n                        checkEvenArgs(name_1, args.length, 6);\r\n                        for (var i = 0; i < args.length; i += 6) {\r\n                            var x1 = args[i];\r\n                            var y1 = args[i + 1];\r\n                            cpx = args[i + 2];\r\n                            cpy = args[i + 3];\r\n                            x = args[i + 4];\r\n                            y = args[i + 5];\r\n                            this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"c\":\r\n                        checkEvenArgs(name_1, args.length, 6);\r\n                        for (var i = 0; i < args.length; i += 6) {\r\n                            var x1 = args[i] + x;\r\n                            var y1 = args[i + 1] + y;\r\n                            cpx = args[i + 2] + x;\r\n                            cpy = args[i + 3] + y;\r\n                            x += args[i + 4];\r\n                            y += args[i + 5];\r\n                            this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"S\":\r\n                        checkEvenArgs(name_1, args.length, 4);\r\n                        if (cpx === null || cpy === null) {\r\n                            cpx = x;\r\n                            cpy = y;\r\n                        }\r\n                        for (var i = 0; i < args.length; i += 4) {\r\n                            var x1 = 2 * x - cpx;\r\n                            var y1 = 2 * y - cpy;\r\n                            cpx = args[i];\r\n                            cpy = args[i + 1];\r\n                            x = args[i + 2];\r\n                            y = args[i + 3];\r\n                            this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"s\":\r\n                        checkEvenArgs(name_1, args.length, 4);\r\n                        if (cpx === null || cpy === null) {\r\n                            cpx = x;\r\n                            cpy = y;\r\n                        }\r\n                        for (var i = 0; i < args.length; i += 4) {\r\n                            var x1 = 2 * x - cpx;\r\n                            var y1 = 2 * y - cpy;\r\n                            cpx = args[i] + x;\r\n                            cpy = args[i + 1] + y;\r\n                            x += args[i + 2];\r\n                            y += args[i + 3];\r\n                            this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"Q\":\r\n                        checkEvenArgs(name_1, args.length, 4);\r\n                        for (var i = 0; i < args.length; i += 4) {\r\n                            qcpx = args[i];\r\n                            qcpy = args[i + 1];\r\n                            x = args[i + 2];\r\n                            y = args[i + 3];\r\n                            this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"q\":\r\n                        checkEvenArgs(name_1, args.length, 4);\r\n                        for (var i = 0; i < args.length; i += 4) {\r\n                            qcpx = args[i] + x;\r\n                            qcpy = args[i + 1] + y;\r\n                            x += args[i + 2];\r\n                            y += args[i + 3];\r\n                            this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"T\":\r\n                        checkEvenArgs(name_1, args.length, 2);\r\n                        if (qcpx === null || qcpy === null) {\r\n                            qcpx = x;\r\n                            qcpy = y;\r\n                        }\r\n                        for (var i = 0; i < args.length; i += 2) {\r\n                            qcpx = 2 * x - qcpx;\r\n                            qcpy = 2 * y - qcpy;\r\n                            x = args[i];\r\n                            y = args[i + 1];\r\n                            this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"t\":\r\n                        checkEvenArgs(name_1, args.length, 2);\r\n                        if (qcpx === null || qcpy === null) {\r\n                            qcpx = x;\r\n                            qcpy = y;\r\n                        }\r\n                        for (var i = 0; i < args.length; i += 2) {\r\n                            qcpx = 2 * x - qcpx;\r\n                            qcpy = 2 * y - qcpy;\r\n                            x += args[i];\r\n                            y += args[i + 1];\r\n                            this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"A\":\r\n                    case \"a\":\r\n                        var relative = (name_1 === \"a\");\r\n                        checkEvenArgs(name_1, args.length, 7);\r\n                        for (var i = 0; i < args.length; i += 7) {\r\n                            var cx = args[i + 5];\r\n                            var cy = args[i + 6];\r\n                            if (relative) {\r\n                                cx += x;\r\n                                cy += y;\r\n                            }\r\n                            var bs = arcToBezier({\r\n                                px: x,\r\n                                py: y,\r\n                                rx: args[i],\r\n                                ry: args[i + 1],\r\n                                xAxisRotation: args[i + 2],\r\n                                largeArcFlag: assertBinary(args[i + 3]),\r\n                                sweepFlag: assertBinary(args[i + 4]),\r\n                                cx: cx,\r\n                                cy: cy,\r\n                            });\r\n                            $array.each(bs, function (b) {\r\n                                _this.bezierCurveTo(b.x1, b.y1, b.x2, b.y2, b.x, b.y);\r\n                                x = b.x;\r\n                                y = b.y;\r\n                            });\r\n                        }\r\n                        break;\r\n                    case \"Z\":\r\n                    case \"z\":\r\n                        checkArgs(name_1, args.length, 0);\r\n                        this.closePath();\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"_runPath\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.beginPath();\r\n            $array.each(this._operations, function (op) {\r\n                op.path(context);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            _super.prototype._render.call(this, parentLayer);\r\n            var layer = this._layer || parentLayer;\r\n            var layerDirty = layer.dirty;\r\n            var interactive = this._isInteractive();\r\n            if (layerDirty || interactive) {\r\n                var context_1 = layer.context;\r\n                var ghostContext_1 = this._renderer._ghostContext;\r\n                if (layerDirty) {\r\n                    context_1.globalCompositeOperation = this.blendMode;\r\n                    context_1.beginPath();\r\n                }\r\n                var color_1;\r\n                if (interactive) {\r\n                    ghostContext_1.beginPath();\r\n                    color_1 = this._getColorId();\r\n                }\r\n                $array.each(this._operations, function (op) {\r\n                    if (layerDirty) {\r\n                        op.path(context_1);\r\n                        op.colorize(context_1, undefined);\r\n                    }\r\n                    if (interactive) {\r\n                        op.path(ghostContext_1);\r\n                        op.colorize(ghostContext_1, color_1);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"renderDetached\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            if (this.visible) {\r\n                this._setMatrix();\r\n                context.save();\r\n                // We must apply the mask before we transform the element\r\n                var mask = this.mask;\r\n                if (mask) {\r\n                    mask._setMatrix();\r\n                    mask._transform(context, 1);\r\n                    mask._runPath(context);\r\n                    context.clip();\r\n                }\r\n                // TODO handle compoundAlpha somehow ?\r\n                context.globalAlpha = this.compoundAlpha * this.alpha;\r\n                this._transform(context, 1);\r\n                if (this.filter) {\r\n                    context.filter = this.filter;\r\n                }\r\n                context.globalCompositeOperation = this.blendMode;\r\n                context.beginPath();\r\n                $array.each(this._operations, function (op) {\r\n                    op.path(context);\r\n                    op.colorize(context, undefined);\r\n                });\r\n                context.restore();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"_addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            if (this.visible && this.isMeasured) {\r\n                $array.each(this._operations, function (op) {\r\n                    op.addBounds(bounds);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    return CanvasGraphics;\r\n}(CanvasDisplayObject));\r\nexport { CanvasGraphics };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasText = /** @class */ (function (_super) {\r\n    __extends(CanvasText, _super);\r\n    function CanvasText(renderer, text, style) {\r\n        var _this = _super.call(this, renderer) || this;\r\n        Object.defineProperty(_this, \"text\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"style\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_textInfo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_textVisible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"_originalScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        _this.text = text;\r\n        _this.style = style;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasText.prototype, \"invalidateBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.invalidateBounds.call(this);\r\n            this._textInfo = undefined;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_shared\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            if (this.style.textAlign) {\r\n                context.textAlign = this.style.textAlign;\r\n            }\r\n            if (this.style.direction) {\r\n                context.direction = this.style.direction;\r\n            }\r\n            if (this.style.textBaseline) {\r\n                context.textBaseline = this.style.textBaseline;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_prerender\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (layer, ignoreGhost, ignoreFontWeight) {\r\n            if (ignoreGhost === void 0) { ignoreGhost = false; }\r\n            if (ignoreFontWeight === void 0) { ignoreFontWeight = false; }\r\n            _super.prototype._render.call(this, layer);\r\n            var context = layer.context;\r\n            var ghostContext = this._renderer._ghostContext;\r\n            // Font style\r\n            var style = this.style;\r\n            var fontStyle = this._getFontStyle(undefined, ignoreFontWeight);\r\n            context.font = fontStyle;\r\n            if (this._isInteractive() && !ignoreGhost) {\r\n                ghostContext.font = fontStyle;\r\n            }\r\n            // Other parameters\r\n            if (style.fill) {\r\n                if (style.fill instanceof Color) {\r\n                    context.fillStyle = style.fill.toCSS();\r\n                }\r\n                else {\r\n                    context.fillStyle = style.fill;\r\n                }\r\n            }\r\n            if (style.shadowColor) {\r\n                layer.context.shadowColor = style.shadowColor.toCSS(style.shadowOpacity || 1);\r\n            }\r\n            if (style.shadowBlur) {\r\n                layer.context.shadowBlur = style.shadowBlur;\r\n            }\r\n            if (style.shadowOffsetX) {\r\n                layer.context.shadowOffsetX = style.shadowOffsetX;\r\n            }\r\n            if (style.shadowOffsetY) {\r\n                layer.context.shadowOffsetY = style.shadowOffsetY;\r\n            }\r\n            this._shared(context);\r\n            if (this._isInteractive() && !ignoreGhost) {\r\n                ghostContext.fillStyle = this._getColorId();\r\n                this._shared(ghostContext);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_getFontStyle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (style2, ignoreFontWeight) {\r\n            if (ignoreFontWeight === void 0) { ignoreFontWeight = false; }\r\n            // Process defaults\r\n            var style = this.style;\r\n            var fontStyle = [];\r\n            if (style2 && style2.fontVariant) {\r\n                fontStyle.push(style2.fontVariant);\r\n            }\r\n            else if (style.fontVariant) {\r\n                fontStyle.push(style.fontVariant);\r\n            }\r\n            if (!ignoreFontWeight) {\r\n                if (style2 && style2.fontWeight) {\r\n                    fontStyle.push(style2.fontWeight);\r\n                }\r\n                else if (style.fontWeight) {\r\n                    fontStyle.push(style.fontWeight);\r\n                }\r\n            }\r\n            if (style2 && style2.fontStyle) {\r\n                fontStyle.push(style2.fontStyle);\r\n            }\r\n            else if (style.fontStyle) {\r\n                fontStyle.push(style.fontStyle);\r\n            }\r\n            if (style2 && style2.fontSize) {\r\n                if ($type.isNumber(style2.fontSize)) {\r\n                    style2.fontSize = style2.fontSize + \"px\";\r\n                }\r\n                fontStyle.push(style2.fontSize);\r\n            }\r\n            else if (style.fontSize) {\r\n                if ($type.isNumber(style.fontSize)) {\r\n                    style.fontSize = style.fontSize + \"px\";\r\n                }\r\n                fontStyle.push(style.fontSize);\r\n            }\r\n            if (style2 && style2.fontFamily) {\r\n                fontStyle.push(style2.fontFamily);\r\n            }\r\n            else if (style.fontFamily) {\r\n                fontStyle.push(style.fontFamily);\r\n            }\r\n            else if (fontStyle.length) {\r\n                fontStyle.push(\"Arial\");\r\n            }\r\n            return fontStyle.join(\" \");\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            var _this = this;\r\n            var layer = this._layer || parentLayer;\r\n            // We need measurements in order to properly position text for alignment\r\n            if (!this._textInfo) {\r\n                this._measure(layer);\r\n            }\r\n            if (this._textVisible) {\r\n                var interactive_1 = this._isInteractive();\r\n                var context_2 = layer.context;\r\n                var layerDirty_1 = layer.dirty;\r\n                var ghostContext_2 = this._renderer._ghostContext;\r\n                context_2.save();\r\n                ghostContext_2.save();\r\n                this._prerender(layer);\r\n                // const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n                // const x = this._localBounds && (this._localBounds.left < 0) ? Math.abs(this._localBounds.left) : 0;\r\n                // Process text info produced by _measure()\r\n                $array.each(this._textInfo, function (line, _index) {\r\n                    $array.each(line.textChunks, function (chunk, _index) {\r\n                        // Set style\r\n                        if (chunk.style) {\r\n                            context_2.save();\r\n                            ghostContext_2.save();\r\n                            context_2.font = chunk.style;\r\n                            if (_this._isInteractive()) {\r\n                                ghostContext_2.font = chunk.style;\r\n                            }\r\n                        }\r\n                        if (chunk.fill) {\r\n                            context_2.save();\r\n                            context_2.fillStyle = chunk.fill.toCSS();\r\n                            // Color does not affect ghostContext so we not set it\r\n                        }\r\n                        // Draw text\r\n                        if (layerDirty_1) {\r\n                            context_2.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\r\n                        }\r\n                        // Draw underline\r\n                        if (chunk.textDecoration == \"underline\" || chunk.textDecoration == \"line-through\") {\r\n                            var thickness = 1;\r\n                            var offset = 1;\r\n                            var fontSize = chunk.height;\r\n                            var offsetX = chunk.offsetX;\r\n                            switch (_this.style.textAlign) {\r\n                                case \"right\":\r\n                                case \"end\":\r\n                                    offsetX -= chunk.width;\r\n                                    break;\r\n                                case \"center\":\r\n                                    offsetX -= chunk.width / 2;\r\n                                    break;\r\n                            }\r\n                            if (chunk.style) {\r\n                                var format = TextFormatter.getTextStyle(chunk.style);\r\n                                switch (format.fontWeight) {\r\n                                    case \"bolder\":\r\n                                    case \"bold\":\r\n                                    case \"700\":\r\n                                    case \"800\":\r\n                                    case \"900\":\r\n                                        thickness = 2;\r\n                                        break;\r\n                                }\r\n                            }\r\n                            if (fontSize) {\r\n                                offset = fontSize / 20;\r\n                            }\r\n                            var y = void 0;\r\n                            if (chunk.textDecoration == \"line-through\") {\r\n                                y = thickness + line.offsetY + chunk.offsetY - chunk.height / 2;\r\n                            }\r\n                            else {\r\n                                y = thickness + offset * 1.5 + line.offsetY + chunk.offsetY;\r\n                            }\r\n                            context_2.save();\r\n                            context_2.beginPath();\r\n                            if (chunk.fill) {\r\n                                context_2.strokeStyle = chunk.fill.toCSS();\r\n                            }\r\n                            else if (_this.style.fill && _this.style.fill instanceof Color) {\r\n                                context_2.strokeStyle = _this.style.fill.toCSS();\r\n                            }\r\n                            context_2.lineWidth = thickness * offset;\r\n                            context_2.moveTo(offsetX, y);\r\n                            context_2.lineTo(offsetX + chunk.width, y);\r\n                            context_2.stroke();\r\n                            context_2.restore();\r\n                        }\r\n                        if (interactive_1 && _this.interactive) {\r\n                            // Draw text in ghost canvas ONLY if it is set as interactive\r\n                            // explicitly. This way we avoid hit test anomalies caused by anti\r\n                            // aliasing of text.\r\n                            ghostContext_2.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\r\n                        }\r\n                        if (chunk.fill) {\r\n                            context_2.restore();\r\n                            // Color does not affect ghostContext so we not set it\r\n                        }\r\n                        // Reset style\r\n                        if (chunk.style) {\r\n                            context_2.restore();\r\n                            ghostContext_2.restore();\r\n                        }\r\n                    });\r\n                });\r\n                context_2.restore();\r\n                ghostContext_2.restore();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            if (this.visible && this.isMeasured) {\r\n                //if (this._textVisible) {\r\n                var x = this._measure(this.getLayer());\r\n                setPoint(bounds, { x: x.left, y: x.top });\r\n                setPoint(bounds, { x: x.right, y: x.bottom });\r\n                //}\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_measure\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (layer) {\r\n            var _this = this;\r\n            var context = layer.context;\r\n            var ghostContext = this._renderer._ghostContext;\r\n            var rtl = this.style.direction == \"rtl\";\r\n            // Reset text info\r\n            this._textInfo = [];\r\n            // Init\r\n            var oversizedBehavior = this.style.oversizedBehavior;\r\n            var maxWidth = this.style.maxWidth;\r\n            var truncate = $type.isNumber(maxWidth) && oversizedBehavior == \"truncate\";\r\n            var wrap = $type.isNumber(maxWidth) && oversizedBehavior == \"wrap\";\r\n            // Pre-render\r\n            context.save();\r\n            ghostContext.save();\r\n            this._prerender(layer, true, true);\r\n            // Get default font metrix\r\n            var refText = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 \";\r\n            // Split up text into lines\r\n            var lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n            var styleRestored = true;\r\n            var minX = 0;\r\n            var maxX = 0;\r\n            // Iterate through the lines\r\n            var offsetY = 0;\r\n            var currentStyle;\r\n            $array.each(lines, function (line, _index) {\r\n                // Split up line into format/value chunks\r\n                var chunks;\r\n                if (line == \"\") {\r\n                    chunks = [{\r\n                            type: \"value\",\r\n                            text: \"\"\r\n                        }];\r\n                }\r\n                else {\r\n                    chunks = TextFormatter.chunk(line, false, _this.style.ignoreFormatting);\r\n                }\r\n                var _loop_1 = function () {\r\n                    // Init line object\r\n                    var lineInfo = {\r\n                        offsetY: offsetY,\r\n                        ascent: 0,\r\n                        width: 0,\r\n                        height: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        textChunks: []\r\n                    };\r\n                    // Measure reference text\r\n                    var metrics = _this._measureText(refText, context);\r\n                    var height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                    lineInfo.height = height;\r\n                    lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                    var currentFormat;\r\n                    var currentDecoration = _this.style.textDecoration;\r\n                    var currentFill;\r\n                    var currentChunkWidth;\r\n                    var skipFurtherText = false;\r\n                    var firstTextChunk = true;\r\n                    var leftoverChunks = [];\r\n                    var currentVerticalAlign;\r\n                    //let offsetX = 0;\r\n                    //let chunk;\r\n                    //while(chunk = chunks.shift()) {\r\n                    $array.eachContinue(chunks, function (chunk, index) {\r\n                        // Format chunk\r\n                        if (chunk.type == \"format\") {\r\n                            if (chunk.text == \"[/]\") {\r\n                                if (!styleRestored) {\r\n                                    context.restore();\r\n                                    ghostContext.restore();\r\n                                    styleRestored = true;\r\n                                }\r\n                                currentFill = undefined;\r\n                                currentStyle = undefined;\r\n                                currentChunkWidth = undefined;\r\n                                currentDecoration = _this.style.textDecoration;\r\n                                currentVerticalAlign = undefined;\r\n                                currentFormat = chunk.text;\r\n                            }\r\n                            else {\r\n                                if (!styleRestored) {\r\n                                    context.restore();\r\n                                    ghostContext.restore();\r\n                                }\r\n                                var format = TextFormatter.getTextStyle(chunk.text);\r\n                                var fontStyle = _this._getFontStyle(format);\r\n                                context.save();\r\n                                ghostContext.save();\r\n                                context.font = fontStyle;\r\n                                currentStyle = fontStyle;\r\n                                currentFormat = chunk.text;\r\n                                if (format.textDecoration) {\r\n                                    currentDecoration = format.textDecoration;\r\n                                }\r\n                                if (format.fill) {\r\n                                    currentFill = format.fill;\r\n                                }\r\n                                if (format.width) {\r\n                                    currentChunkWidth = $type.toNumber(format.width);\r\n                                }\r\n                                if (format.verticalAlign) {\r\n                                    currentVerticalAlign = format.verticalAlign;\r\n                                }\r\n                                styleRestored = false;\r\n                                // Measure reference text after change of format\r\n                                var metrics_1 = _this._measureText(refText, context);\r\n                                var height_1 = metrics_1.actualBoundingBoxAscent + metrics_1.actualBoundingBoxDescent;\r\n                                if (height_1 > lineInfo.height) {\r\n                                    lineInfo.height = height_1;\r\n                                }\r\n                                if (metrics_1.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                                    lineInfo.ascent = metrics_1.actualBoundingBoxAscent;\r\n                                }\r\n                            }\r\n                        }\r\n                        // Text chunk\r\n                        else if (chunk.type == \"value\" && !skipFurtherText) {\r\n                            // Measure\r\n                            var metrics_2 = _this._measureText(chunk.text, context);\r\n                            var chunkWidth = metrics_2.actualBoundingBoxLeft + metrics_2.actualBoundingBoxRight;\r\n                            // Check for fit\r\n                            if (truncate) {\r\n                                // Break words?\r\n                                var breakWords = firstTextChunk || _this.style.breakWords || false;\r\n                                // Measure ellipsis and check if it fits\r\n                                var ellipsis = _this.style.ellipsis || \"\";\r\n                                var ellipsisMetrics = _this._measureText(ellipsis, context);\r\n                                var ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;\r\n                                // Check fit\r\n                                if ((lineInfo.width + chunkWidth) > maxWidth) {\r\n                                    var excessWidth = maxWidth - lineInfo.width - ellipsisWidth;\r\n                                    chunk.text = _this._truncateText(context, chunk.text, excessWidth, breakWords);\r\n                                    chunk.text += ellipsis;\r\n                                    skipFurtherText = true;\r\n                                }\r\n                            }\r\n                            else if (wrap) {\r\n                                // Check fit\r\n                                if ((lineInfo.width + chunkWidth) > maxWidth) {\r\n                                    var excessWidth = maxWidth - lineInfo.width;\r\n                                    var tmpText = _this._truncateText(context, chunk.text, excessWidth, false, firstTextChunk);\r\n                                    if (tmpText == \"\") {\r\n                                        // Unable to fit a single letter - hide the whole label\r\n                                        _this._textVisible = true;\r\n                                        return false;\r\n                                    }\r\n                                    //skipFurtherText = true;\r\n                                    //Add remaining chunks for the next line\r\n                                    leftoverChunks = chunks.slice(index + 1);\r\n                                    //Add remaining text of current chunk if it was forced-cut\r\n                                    if ($utils.trim(tmpText) != $utils.trim(chunk.text)) {\r\n                                        leftoverChunks.unshift({\r\n                                            type: \"value\",\r\n                                            text: chunk.text.substr(tmpText.length)\r\n                                        });\r\n                                        if (currentFormat) {\r\n                                            leftoverChunks.unshift({\r\n                                                type: \"format\",\r\n                                                text: currentFormat\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                    // Set current chunk (truncated)\r\n                                    chunk.text = $utils.trim(tmpText);\r\n                                    chunks = [];\r\n                                    skipFurtherText = true;\r\n                                }\r\n                            }\r\n                            // Chunk width?\r\n                            var leftBoundMod = 1;\r\n                            var rightBoundMod = 1;\r\n                            if (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\r\n                                // increase horizontal bounding boxes accordingly\r\n                                var boundsMod = chunkWidth / currentChunkWidth;\r\n                                switch (_this.style.textAlign) {\r\n                                    case \"right\":\r\n                                    case \"end\":\r\n                                        leftBoundMod = boundsMod;\r\n                                        break;\r\n                                    case \"center\":\r\n                                        leftBoundMod = boundsMod;\r\n                                        rightBoundMod = boundsMod;\r\n                                        break;\r\n                                    default:\r\n                                        rightBoundMod = boundsMod;\r\n                                }\r\n                                chunkWidth = currentChunkWidth;\r\n                            }\r\n                            var chunkHeight = metrics_2.actualBoundingBoxAscent + metrics_2.actualBoundingBoxDescent;\r\n                            if (chunkHeight > lineInfo.height) {\r\n                                lineInfo.height = chunkHeight;\r\n                            }\r\n                            if (metrics_2.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                                lineInfo.ascent = metrics_2.actualBoundingBoxAscent;\r\n                            }\r\n                            lineInfo.width += chunkWidth;\r\n                            lineInfo.left += metrics_2.actualBoundingBoxLeft / leftBoundMod;\r\n                            lineInfo.right += metrics_2.actualBoundingBoxRight / rightBoundMod;\r\n                            lineInfo.textChunks.push({\r\n                                style: currentStyle,\r\n                                fill: currentFill,\r\n                                text: chunk.text,\r\n                                width: chunkWidth,\r\n                                height: chunkHeight,\r\n                                left: metrics_2.actualBoundingBoxLeft,\r\n                                right: metrics_2.actualBoundingBoxRight,\r\n                                ascent: metrics_2.actualBoundingBoxAscent,\r\n                                offsetX: 0,\r\n                                offsetY: 0,\r\n                                textDecoration: currentDecoration,\r\n                                verticalAlign: currentVerticalAlign\r\n                            });\r\n                            //offsetX += chunkWidth;\r\n                            firstTextChunk = false;\r\n                        }\r\n                        if (leftoverChunks) {\r\n                            //return false;\r\n                        }\r\n                        return true;\r\n                        //}\r\n                    });\r\n                    if (_this.style.lineHeight instanceof Percent) {\r\n                        lineInfo.height *= _this.style.lineHeight.value;\r\n                        lineInfo.ascent *= _this.style.lineHeight.value;\r\n                    }\r\n                    else {\r\n                        lineInfo.height *= _this.style.lineHeight || 1.2;\r\n                        lineInfo.ascent *= _this.style.lineHeight || 1.2;\r\n                    }\r\n                    if (minX < lineInfo.left) {\r\n                        minX = lineInfo.left;\r\n                    }\r\n                    if (maxX < lineInfo.right) {\r\n                        maxX = lineInfo.right;\r\n                    }\r\n                    _this._textInfo.push(lineInfo);\r\n                    //lineInfo.offsetY += lineInfo.ascent;\r\n                    offsetY += lineInfo.height;\r\n                    // Reset chunks so that it can proceed to the next line\r\n                    chunks = leftoverChunks || [];\r\n                };\r\n                while (chunks.length > 0) {\r\n                    _loop_1();\r\n                }\r\n            });\r\n            if (!styleRestored) {\r\n                context.restore();\r\n                ghostContext.restore();\r\n            }\r\n            // Adjust chunk internal offsets\r\n            $array.each(this._textInfo, function (lineInfo, _index) {\r\n                var currentChunkOffset = 0;\r\n                $array.each(lineInfo.textChunks, function (chunk) {\r\n                    chunk.offsetX = currentChunkOffset + chunk.left - lineInfo.left;\r\n                    chunk.offsetY += lineInfo.height - lineInfo.height * (_this.style.baselineRatio || 0.19);\r\n                    currentChunkOffset += chunk.width;\r\n                    if (chunk.verticalAlign) {\r\n                        switch (chunk.verticalAlign) {\r\n                            case \"super\":\r\n                                chunk.offsetY -= lineInfo.height / 2 - chunk.height / 2;\r\n                                break;\r\n                            case \"sub\":\r\n                                chunk.offsetY += chunk.height / 2;\r\n                                break;\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n            var bounds = {\r\n                left: rtl ? -maxX : -minX,\r\n                top: 0,\r\n                right: rtl ? minX : maxX,\r\n                bottom: offsetY,\r\n            };\r\n            // We need to fit?\r\n            if (oversizedBehavior !== \"none\") {\r\n                var ratio = this._fitRatio(bounds);\r\n                if (ratio < 1) {\r\n                    if (oversizedBehavior == \"fit\") {\r\n                        if ($type.isNumber(this.style.minScale) && (ratio < this.style.minScale)) {\r\n                            this._textVisible = false;\r\n                        }\r\n                        else {\r\n                            if (!this._originalScale || this._originalScale == 1) {\r\n                                this._originalScale = this.scale;\r\n                            }\r\n                            this.scale = ratio;\r\n                            this._textVisible = true;\r\n                        }\r\n                    }\r\n                    else if (oversizedBehavior == \"hide\") {\r\n                        this._textVisible = false;\r\n                    }\r\n                    else {\r\n                        switch (this.style.textAlign) {\r\n                            case \"right\":\r\n                            case \"end\":\r\n                                bounds.left = -maxWidth;\r\n                                bounds.right = 0;\r\n                                break;\r\n                            case \"center\":\r\n                                bounds.left = -maxWidth / 2;\r\n                                bounds.right = maxWidth / 2;\r\n                                break;\r\n                            default:\r\n                                bounds.left = 0;\r\n                                bounds.right = maxWidth;\r\n                        }\r\n                        this.scale = this._originalScale || 1;\r\n                        this._originalScale = undefined;\r\n                        this._textVisible = true;\r\n                    }\r\n                }\r\n                else {\r\n                    this.scale = this._originalScale || 1;\r\n                    this._originalScale = undefined;\r\n                    this._textVisible = true;\r\n                }\r\n            }\r\n            context.restore();\r\n            ghostContext.restore();\r\n            return bounds;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_fitRatio\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            var maxW = this.style.maxWidth;\r\n            var maxH = this.style.maxHeight;\r\n            if (!$type.isNumber(maxW) && !$type.isNumber(maxH)) {\r\n                return 1;\r\n            }\r\n            var w = bounds.right - bounds.left;\r\n            var h = bounds.bottom - bounds.top;\r\n            return Math.min(maxW / w || 1, maxH / h || 1);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_truncateText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, text, maxWidth, breakWords, fallbackBreakWords) {\r\n            if (breakWords === void 0) { breakWords = false; }\r\n            if (fallbackBreakWords === void 0) { fallbackBreakWords = true; }\r\n            var width;\r\n            do {\r\n                if (breakWords) {\r\n                    text = text.slice(0, -1);\r\n                }\r\n                else {\r\n                    var tmp = text.replace(/[^,;:!?\\\\\\/\\s]+[,;:!?\\\\\\/\\s]*$/g, \"\");\r\n                    if (tmp == \"\" && fallbackBreakWords) {\r\n                        breakWords = true;\r\n                    }\r\n                    else {\r\n                        text = tmp;\r\n                    }\r\n                }\r\n                var metrics = this._measureText(text, context);\r\n                width = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\r\n            } while ((width > maxWidth) && text != \"\");\r\n            return text;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_measureText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text, context) {\r\n            var metrics = context.measureText(text);\r\n            var fakeMetrics = {};\r\n            if (metrics.actualBoundingBoxAscent == null) {\r\n                var div = document.createElement(\"div\");\r\n                div.innerText = text;\r\n                div.style.visibility = \"hidden\";\r\n                div.style.position = \"absolute\";\r\n                div.style.top = \"-1000000px;\";\r\n                div.style.fontFamily = this.style.fontFamily || \"\";\r\n                div.style.fontSize = this.style.fontSize + \"\";\r\n                document.body.appendChild(div);\r\n                var bbox = div.getBoundingClientRect();\r\n                document.body.removeChild(div);\r\n                var h = bbox.height;\r\n                var w_1 = metrics.width;\r\n                var left = 0;\r\n                var right = w_1;\r\n                fakeMetrics = {\r\n                    actualBoundingBoxAscent: h,\r\n                    actualBoundingBoxDescent: 0,\r\n                    actualBoundingBoxLeft: left,\r\n                    actualBoundingBoxRight: right,\r\n                    fontBoundingBoxAscent: h,\r\n                    fontBoundingBoxDescent: 0,\r\n                    width: w_1\r\n                };\r\n                //return fake;\r\n            }\r\n            else {\r\n                fakeMetrics = {\r\n                    actualBoundingBoxAscent: metrics.actualBoundingBoxAscent,\r\n                    actualBoundingBoxDescent: metrics.actualBoundingBoxDescent,\r\n                    actualBoundingBoxLeft: metrics.actualBoundingBoxLeft,\r\n                    actualBoundingBoxRight: metrics.actualBoundingBoxRight,\r\n                    fontBoundingBoxAscent: metrics.actualBoundingBoxAscent,\r\n                    fontBoundingBoxDescent: metrics.actualBoundingBoxDescent,\r\n                    width: metrics.width\r\n                };\r\n            }\r\n            var w = metrics.width;\r\n            switch (this.style.textAlign) {\r\n                case \"right\":\r\n                case \"end\":\r\n                    fakeMetrics.actualBoundingBoxLeft = w;\r\n                    fakeMetrics.actualBoundingBoxRight = 0;\r\n                    break;\r\n                case \"center\":\r\n                    fakeMetrics.actualBoundingBoxLeft = w / 2;\r\n                    fakeMetrics.actualBoundingBoxRight = w / 2;\r\n                    break;\r\n                default:\r\n                    fakeMetrics.actualBoundingBoxLeft = 0;\r\n                    fakeMetrics.actualBoundingBoxRight = w;\r\n            }\r\n            return fakeMetrics;\r\n        }\r\n    });\r\n    return CanvasText;\r\n}(CanvasDisplayObject));\r\nexport { CanvasText };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasTextStyle = /** @class */ (function () {\r\n    function CanvasTextStyle() {\r\n        //public wordWrapWidth: number = 100;\r\n        Object.defineProperty(this, \"fill\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textAlign\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontFamily\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontSize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontWeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontVariant\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textDecoration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowColor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowBlur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // leading?: number;\r\n        // letterSpacing?: number;\r\n        Object.defineProperty(this, \"lineHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: percent(120)\r\n        });\r\n        Object.defineProperty(this, \"baselineRatio\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0.19\r\n        });\r\n        // padding?: number;\r\n        // stroke?: number;\r\n        // strokeThickness?: number;\r\n        // trim?: number;\r\n        // wordWrap?: boolean;\r\n        Object.defineProperty(this, \"direction\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textBaseline\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"oversizedBehavior\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"none\"\r\n        });\r\n        Object.defineProperty(this, \"breakWords\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"ellipsis\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"\"\r\n        });\r\n        Object.defineProperty(this, \"maxWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"maxHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"minScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"ignoreFormatting\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    return CanvasTextStyle;\r\n}());\r\nexport { CanvasTextStyle };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasRadialText = /** @class */ (function (_super) {\r\n    __extends(CanvasRadialText, _super);\r\n    function CanvasRadialText() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"textType\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"circular\"\r\n        });\r\n        Object.defineProperty(_this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"startAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"inside\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"orientation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"auto\"\r\n        });\r\n        Object.defineProperty(_this, \"kerning\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_textReversed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasRadialText.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            switch (this.textType) {\r\n                case \"circular\":\r\n                    this._renderCircular(parentLayer);\r\n                    break;\r\n                default:\r\n                    _super.prototype._render.call(this, parentLayer);\r\n                    break;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRadialText.prototype, \"_renderCircular\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            var layer = this._layer || parentLayer;\r\n            this._prerender(layer);\r\n            var interactive = this._isInteractive();\r\n            var context = layer.context;\r\n            var layerDirty = layer.dirty;\r\n            var ghostContext = this._renderer._ghostContext;\r\n            // Savepoint\r\n            context.save();\r\n            if (interactive) {\r\n                ghostContext.save();\r\n            }\r\n            // Init\r\n            var radius = (this.radius || 0);\r\n            var startAngle = (this.startAngle || 0);\r\n            var deltaAngle = 0;\r\n            var orientation = this.orientation;\r\n            var inward = orientation == \"auto\" ? \"auto\" : orientation == \"inward\";\r\n            var inside = this.inside;\r\n            var align = this.style.textAlign || \"left\";\r\n            var kerning = this.kerning || 0;\r\n            var clockwise = align == \"left\" ? 1 : -1;\r\n            var shouldReverse = !this._textReversed;\r\n            // We need measurements in order to properly position text for alignment\r\n            if (!this._textInfo) {\r\n                this._measure(layer);\r\n            }\r\n            // Check if we need to invert the whole stuff\r\n            if (inward == \"auto\") {\r\n                // Calc max angle so we know whether we need to flip it\r\n                var maxAngle_1 = 0;\r\n                var midAngle = 0;\r\n                $array.each(this._textInfo, function (line, _index) {\r\n                    var deltaAngle = startAngle + (line.width / (radius - line.height)) / 2 * -clockwise;\r\n                    if (deltaAngle > maxAngle_1) {\r\n                        maxAngle_1 = deltaAngle;\r\n                    }\r\n                });\r\n                if (align == \"left\") {\r\n                    midAngle = (maxAngle_1 + deltaAngle / 2) * $math.DEGREES;\r\n                }\r\n                else if (align == \"right\") {\r\n                    midAngle = (maxAngle_1 - deltaAngle / 2) * $math.DEGREES;\r\n                }\r\n                else {\r\n                    midAngle = startAngle * $math.DEGREES;\r\n                }\r\n                midAngle = $math.normalizeAngle(midAngle);\r\n                inward = (midAngle >= 270) || (midAngle <= 90);\r\n            }\r\n            if (inward == true && shouldReverse) {\r\n                this._textInfo.reverse();\r\n                this._textReversed = true;\r\n            }\r\n            // if ((inward == false && align == \"left\") || (inward == true && align == \"right\")) {\r\n            // \tclockwise *= -1;\r\n            // }\r\n            // Process text info produced by _measure()\r\n            $array.each(this._textInfo, function (line, _index) {\r\n                var textHeight = line.height;\r\n                // Adjust radius (for `inside = false`)\r\n                // Radius adjustment for `inside = false` is below the line calculation\r\n                if (!inside) {\r\n                    radius += textHeight;\r\n                }\r\n                // Reverse letters if we're painting them counter-clockwise\r\n                if (((clockwise == -1 && inward) || (clockwise == 1 && !inward)) && shouldReverse) {\r\n                    line.textChunks.reverse();\r\n                }\r\n                // Init angles\r\n                var lineStartAngle = startAngle;\r\n                deltaAngle = 0;\r\n                // Adjust for center-align\r\n                if (align == \"center\") {\r\n                    lineStartAngle += (line.width / (radius - textHeight)) / 2 * -clockwise;\r\n                    deltaAngle = lineStartAngle - startAngle;\r\n                }\r\n                // if (inward == \"auto\") {\r\n                // \tlet midAngle;\r\n                // \tif (align == \"left\") {\r\n                // \t\tmidAngle = (lineStartAngle + deltaAngle / 2) * $math.DEGREES;\r\n                // \t}\r\n                // \telse if () {\r\n                // \t\tmidAngle = (lineStartAngle - deltaAngle / 2) * $math.DEGREES;\r\n                // \t}\r\n                // \tinward = (midAngle >= 270) || (midAngle <= 90);\r\n                // }\r\n                // Rotate letters if they are facing outward\r\n                lineStartAngle += (Math.PI * (inward ? 0 : 1)); // Rotate 180 if outward\r\n                // Savepoint\r\n                context.save();\r\n                if (interactive) {\r\n                    ghostContext.save();\r\n                }\r\n                // Assume starting angle\r\n                context.rotate(lineStartAngle);\r\n                if (interactive) {\r\n                    ghostContext.rotate(lineStartAngle);\r\n                }\r\n                var angleShift = 0;\r\n                $array.each(line.textChunks, function (chunk, _index) {\r\n                    // Draw the letter\r\n                    var char = chunk.text;\r\n                    var charWidth = chunk.width;\r\n                    // Rotate half a letter\r\n                    angleShift = (charWidth / 2) / (radius - textHeight) * clockwise;\r\n                    context.rotate(angleShift);\r\n                    if (interactive) {\r\n                        ghostContext.rotate(angleShift);\r\n                    }\r\n                    // Set style\r\n                    if (chunk.style) {\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        context.font = chunk.style;\r\n                        if (interactive) {\r\n                            ghostContext.font = chunk.style;\r\n                        }\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.save();\r\n                        context.fillStyle = chunk.fill.toCSS();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Center letters\r\n                    context.textBaseline = \"middle\";\r\n                    context.textAlign = \"center\";\r\n                    if (interactive) {\r\n                        ghostContext.textBaseline = \"middle\";\r\n                        ghostContext.textAlign = \"center\";\r\n                    }\r\n                    // Plop the letter\r\n                    if (layerDirty) {\r\n                        context.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\r\n                    }\r\n                    if (interactive) {\r\n                        ghostContext.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.restore();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Reset style\r\n                    if (chunk.style) {\r\n                        context.restore();\r\n                        ghostContext.restore();\r\n                    }\r\n                    // Rotate half a letter and add spacing\r\n                    angleShift = (charWidth / 2 + kerning) / (radius - textHeight) * clockwise;\r\n                    context.rotate(angleShift);\r\n                    if (interactive) {\r\n                        ghostContext.rotate(angleShift);\r\n                    }\r\n                });\r\n                // Restore angle\r\n                context.restore();\r\n                if (interactive) {\r\n                    ghostContext.restore();\r\n                }\r\n                // Adjust radius (for `inside = true`)\r\n                if (inside) {\r\n                    radius -= textHeight;\r\n                }\r\n            });\r\n            // Restore\r\n            context.restore();\r\n            if (interactive) {\r\n                ghostContext.restore();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRadialText.prototype, \"_measure\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (layer) {\r\n            switch (this.textType) {\r\n                case \"circular\":\r\n                    return this._measureCircular(layer);\r\n                default:\r\n                    return _super.prototype._measure.call(this, layer);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRadialText.prototype, \"_measureCircular\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (layer) {\r\n            var _this = this;\r\n            var context = layer.context;\r\n            var ghostContext = this._renderer._ghostContext;\r\n            var rtl = this.style.direction == \"rtl\";\r\n            // Reset text info\r\n            this._textInfo = [];\r\n            this._textReversed = false;\r\n            // Pre-render\r\n            context.save();\r\n            ghostContext.save();\r\n            this._prerender(layer, true);\r\n            // Split up text into lines\r\n            var lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n            var styleRestored = true;\r\n            // Iterate through the lines\r\n            var offsetY = 0;\r\n            $array.each(lines, function (line, _index) {\r\n                // Split up line into format/value chunks\r\n                var chunks = TextFormatter.chunk(line, false, _this.style.ignoreFormatting);\r\n                // Init line object\r\n                var lineInfo = {\r\n                    offsetY: offsetY,\r\n                    ascent: 0,\r\n                    width: 0,\r\n                    height: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    textChunks: []\r\n                };\r\n                var currentStyle;\r\n                var currentFill;\r\n                var currentChunkWidth;\r\n                //while(chunk = chunks.shift()) {\r\n                $array.each(chunks, function (chunk, _index) {\r\n                    // Format chunk\r\n                    if (chunk.type == \"format\") {\r\n                        if (chunk.text == \"[/]\") {\r\n                            if (!styleRestored) {\r\n                                context.restore();\r\n                                ghostContext.restore();\r\n                                styleRestored = true;\r\n                            }\r\n                            currentFill = undefined;\r\n                            currentStyle = undefined;\r\n                            currentChunkWidth = undefined;\r\n                        }\r\n                        else {\r\n                            var format = TextFormatter.getTextStyle(chunk.text);\r\n                            var fontStyle = _this._getFontStyle(format);\r\n                            context.save();\r\n                            ghostContext.save();\r\n                            context.font = fontStyle;\r\n                            currentStyle = fontStyle;\r\n                            if (format.fill) {\r\n                                currentFill = format.fill;\r\n                            }\r\n                            if (format.width) {\r\n                                currentChunkWidth = $type.toNumber(format.width);\r\n                            }\r\n                            styleRestored = false;\r\n                        }\r\n                    }\r\n                    // Text format\r\n                    else if (chunk.type == \"value\") {\r\n                        // Measure each letter\r\n                        var chars = chunk.text.match(/./ug) || [];\r\n                        if (rtl) {\r\n                            chars.reverse();\r\n                        }\r\n                        for (var i = 0; i < chars.length; i++) {\r\n                            var char = chars[i];\r\n                            // Measure\r\n                            var metrics = _this._measureText(char, context);\r\n                            var chunkWidth = metrics.width;\r\n                            // Chunk width?\r\n                            if (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\r\n                                chunkWidth = currentChunkWidth;\r\n                            }\r\n                            var chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                            if (chunkHeight > lineInfo.height) {\r\n                                lineInfo.height = chunkHeight;\r\n                            }\r\n                            if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                                lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                            }\r\n                            lineInfo.width += chunkWidth;\r\n                            lineInfo.left += metrics.actualBoundingBoxLeft;\r\n                            lineInfo.right += metrics.actualBoundingBoxRight;\r\n                            lineInfo.textChunks.push({\r\n                                style: currentStyle,\r\n                                fill: currentFill,\r\n                                text: char,\r\n                                width: chunkWidth,\r\n                                height: chunkHeight + metrics.actualBoundingBoxDescent,\r\n                                left: metrics.actualBoundingBoxLeft,\r\n                                right: metrics.actualBoundingBoxRight,\r\n                                ascent: metrics.actualBoundingBoxAscent,\r\n                                offsetX: 0,\r\n                                offsetY: chunkHeight,\r\n                                textDecoration: undefined\r\n                            });\r\n                            if (rtl) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                if (_this.style.lineHeight instanceof Percent) {\r\n                    lineInfo.height *= _this.style.lineHeight.value;\r\n                }\r\n                else {\r\n                    lineInfo.height *= _this.style.lineHeight || 1.2;\r\n                }\r\n                _this._textInfo.push(lineInfo);\r\n                //lineInfo.offsetY += lineInfo.ascent;\r\n                offsetY += lineInfo.height;\r\n            });\r\n            if (!styleRestored) {\r\n                context.restore();\r\n                ghostContext.restore();\r\n            }\r\n            // Adjust chunk internal offsets\r\n            $array.each(this._textInfo, function (lineInfo) {\r\n                $array.each(lineInfo.textChunks, function (chunk) {\r\n                    chunk.offsetY += Math.round((lineInfo.height - chunk.height + (lineInfo.ascent - chunk.ascent)) / 2);\r\n                });\r\n            });\r\n            context.restore();\r\n            ghostContext.restore();\r\n            return {\r\n                left: 0,\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n            };\r\n        }\r\n    });\r\n    return CanvasRadialText;\r\n}(CanvasText));\r\nexport { CanvasRadialText };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasImage = /** @class */ (function (_super) {\r\n    __extends(CanvasImage, _super);\r\n    function CanvasImage(renderer, image) {\r\n        var _this = _super.call(this, renderer) || this;\r\n        Object.defineProperty(_this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"tainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"shadowColor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"shadowBlur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"shadowOffsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"shadowOffsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"shadowOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_imageMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this.image = image;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasImage.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._dispose.call(this);\r\n            if (this._imageMask) {\r\n                clearCanvas(this._imageMask);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasImage.prototype, \"getLocalBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._localBounds) {\r\n                var w = 0;\r\n                var h = 0;\r\n                if (this.width) {\r\n                    w = this.width;\r\n                }\r\n                if (this.height) {\r\n                    h = this.height;\r\n                }\r\n                this._localBounds = {\r\n                    left: 0,\r\n                    top: 0,\r\n                    right: w,\r\n                    bottom: h\r\n                };\r\n                this._addBounds(this._localBounds);\r\n            }\r\n            return this._localBounds;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasImage.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            _super.prototype._render.call(this, parentLayer);\r\n            if (this.image) {\r\n                var layer = this._layer || parentLayer;\r\n                if (this.tainted === undefined) {\r\n                    this.tainted = isTainted(this.image);\r\n                    layer.tainted = true;\r\n                }\r\n                if (this.tainted && this._renderer._omitTainted) {\r\n                    return;\r\n                }\r\n                if (layer.dirty) {\r\n                    if (this.shadowColor) {\r\n                        layer.context.shadowColor = this.shadowColor.toCSS(this.shadowOpacity || 1);\r\n                    }\r\n                    if (this.shadowBlur) {\r\n                        layer.context.shadowBlur = this.shadowBlur;\r\n                    }\r\n                    if (this.shadowOffsetX) {\r\n                        layer.context.shadowOffsetX = this.shadowOffsetX;\r\n                    }\r\n                    if (this.shadowOffsetY) {\r\n                        layer.context.shadowOffsetY = this.shadowOffsetY;\r\n                    }\r\n                    // TODO should this round ?\r\n                    var width = this.width || this.image.naturalWidth;\r\n                    var height = this.height || this.image.naturalHeight;\r\n                    layer.context.drawImage(this.image, 0, 0, width, height);\r\n                }\r\n                if (this.interactive && this._isInteractive()) {\r\n                    var mask = this._getMask(this.image);\r\n                    this._renderer._ghostContext.drawImage(mask, 0, 0);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasImage.prototype, \"clear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.clear.call(this);\r\n            this.image = undefined;\r\n            this._imageMask = undefined;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasImage.prototype, \"_getMask\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (image) {\r\n            if (this._imageMask === undefined) {\r\n                // TODO should this round ?\r\n                var width = this.width || image.naturalWidth;\r\n                var height = this.height || image.naturalHeight;\r\n                // We need to create a second canvas because destination-in clears out the entire canvas\r\n                var canvas = document.createElement(\"canvas\");\r\n                canvas.width = width;\r\n                canvas.height = height;\r\n                var context = canvas.getContext(\"2d\");\r\n                context.imageSmoothingEnabled = false;\r\n                context.fillStyle = this._getColorId();\r\n                context.fillRect(0, 0, width, height);\r\n                if (!isTainted(image)) {\r\n                    context.globalCompositeOperation = \"destination-in\";\r\n                    context.drawImage(image, 0, 0, width, height);\r\n                }\r\n                this._imageMask = canvas;\r\n            }\r\n            return this._imageMask;\r\n        }\r\n    });\r\n    return CanvasImage;\r\n}(CanvasDisplayObject));\r\nexport { CanvasImage };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasRendererEvent = /** @class */ (function () {\r\n    function CanvasRendererEvent(event, point, bbox) {\r\n        Object.defineProperty(this, \"event\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: event\r\n        });\r\n        Object.defineProperty(this, \"point\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: point\r\n        });\r\n        Object.defineProperty(this, \"bbox\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: bbox\r\n        });\r\n        Object.defineProperty(this, \"id\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"simulated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"native\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        if ($utils.supports(\"touchevents\") && event instanceof Touch) {\r\n            this.id = event.identifier;\r\n        }\r\n        else {\r\n            this.id = null;\r\n        }\r\n    }\r\n    return CanvasRendererEvent;\r\n}());\r\nexport { CanvasRendererEvent };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasRenderer = /** @class */ (function (_super) {\r\n    __extends(CanvasRenderer, _super);\r\n    /*protected _mouseMoveThrottler: Throttler = new Throttler(() => {\r\n        this._dispatchGlobalMousemove(this._lastPointerMoveEvent.event, this._lastPointerMoveEvent.native);\r\n    });\r\n    */\r\n    function CanvasRenderer(resolution) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"div\")\r\n        });\r\n        Object.defineProperty(_this, \"_layerDom\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"div\")\r\n        });\r\n        Object.defineProperty(_this, \"layers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_dirtyLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"defaultLayer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.getLayer(0)\r\n        });\r\n        Object.defineProperty(_this, \"_ghostView\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_ghostContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_patternCanvas\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"canvas\")\r\n        });\r\n        Object.defineProperty(_this, \"_patternContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._patternCanvas.getContext(\"2d\")\r\n        });\r\n        Object.defineProperty(_this, \"_width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_clientWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_clientHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"interactionsEnabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_colorId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_colorMap\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_forceInteractive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_omitTainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // TODO this should store the Id as well\r\n        Object.defineProperty(_this, \"_hovering\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Set()\r\n        });\r\n        Object.defineProperty(_this, \"_dragging\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_mousedown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_lastPointerMoveEvent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"tapToActivate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"tapToActivateTimeout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 3000\r\n        });\r\n        Object.defineProperty(_this, \"_touchActive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_touchActiveTimeout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (resolution == null) {\r\n            _this.resolution = window.devicePixelRatio;\r\n        }\r\n        else {\r\n            _this.resolution = resolution;\r\n        }\r\n        _this.view.style.position = \"absolute\";\r\n        _this.view.appendChild(_this._layerDom);\r\n        _this._disposers.push(new Disposer(function () {\r\n            $object.each(_this._events, function (_key, events) {\r\n                events.disposer.dispose();\r\n            });\r\n            $array.each(_this.layers, function (layer) {\r\n                clearCanvas(layer.view);\r\n                if (layer.exportableView) {\r\n                    clearCanvas(layer.exportableView);\r\n                }\r\n            });\r\n            clearCanvas(_this._ghostView);\r\n            clearCanvas(_this._patternCanvas);\r\n        }));\r\n        // @todo : do the same for ghost\r\n        _this._ghostView = document.createElement(\"canvas\");\r\n        _this._ghostContext = _this._ghostView.getContext(\"2d\", { alpha: false });\r\n        _this._ghostContext.imageSmoothingEnabled = false;\r\n        _this._ghostView.style.position = \"absolute\";\r\n        _this._ghostView.style.top = \"0px\";\r\n        _this._ghostView.style.left = \"0px\";\r\n        _this._disposers.push($utils.addEventListener(_this._ghostView, \"click\", function (originalEvent) {\r\n            var event = _this.getEvent(originalEvent);\r\n            var target = _this._getHitTarget(event.point, event.bbox);\r\n            console.debug(target);\r\n        }));\r\n        // Monitor for possible pixel ratio changes (when page is zoomed)\r\n        _this._disposers.push($utils.onZoom(function () {\r\n            if (resolution == null) {\r\n                _this.resolution = window.devicePixelRatio;\r\n            }\r\n        }));\r\n        // We need this in order top prevent default touch gestures when dragging\r\n        // draggable elements\r\n        if ($utils.supports(\"touchevents\")) {\r\n            var listener = function (ev) {\r\n                if (_this._dragging.length !== 0) {\r\n                    $array.eachContinue(_this._dragging, function (item) {\r\n                        if (item.value.shouldCancelTouch()) {\r\n                            ev.preventDefault();\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    });\r\n                }\r\n                // If touch down happends, delay touch out\r\n                if (_this._touchActiveTimeout) {\r\n                    _this._delayTouchDeactivate();\r\n                }\r\n            };\r\n            _this._disposers.push($utils.addEventListener(window, \"touchstart\", listener, { passive: false }));\r\n            _this._disposers.push($utils.addEventListener(_this.view, \"touchstart\", listener, { passive: false }));\r\n            _this._disposers.push($utils.addEventListener(_this.view, \"touchmove\", function () {\r\n                // If touch is moving, delay touch out\r\n                if (_this._touchActiveTimeout) {\r\n                    _this._delayTouchDeactivate();\r\n                }\r\n            }, { passive: true }));\r\n            _this._disposers.push($utils.addEventListener(window, \"click\", function (_ev) {\r\n                _this._touchActive = false;\r\n            }, { passive: true }));\r\n            _this._disposers.push($utils.addEventListener(_this.view, \"click\", function (_ev) {\r\n                window.setTimeout(function () {\r\n                    _this._touchActive = true;\r\n                    _this._delayTouchDeactivate();\r\n                }, 100);\r\n            }, { passive: true }));\r\n        }\r\n        // Prevent scrolling of the window when hovering on \"wheelable\" object\r\n        if ($utils.supports(\"wheelevents\")) {\r\n            _this._disposers.push($utils.addEventListener(_this.view, \"wheel\", function (ev) {\r\n                var prevent = false;\r\n                _this._hovering.forEach(function (obj) {\r\n                    if (obj.wheelable) {\r\n                        prevent = true;\r\n                        return false;\r\n                    }\r\n                });\r\n                if (prevent) {\r\n                    ev.preventDefault();\r\n                }\r\n            }, { passive: false }));\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_delayTouchDeactivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            if (this._touchActiveTimeout) {\r\n                clearTimeout(this._touchActiveTimeout);\r\n            }\r\n            if (this.tapToActivateTimeout > 0) {\r\n                this._touchActiveTimeout = window.setTimeout(function () {\r\n                    _this._touchActive = false;\r\n                }, this.tapToActivateTimeout);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"debugGhostView\", {\r\n        get: function () {\r\n            return !!this._ghostView.parentNode;\r\n        },\r\n        set: function (value) {\r\n            if (value) {\r\n                if (!this._ghostView.parentNode) {\r\n                    this.view.appendChild(this._ghostView);\r\n                }\r\n            }\r\n            else {\r\n                if (this._ghostView.parentNode) {\r\n                    this._ghostView.parentNode.removeChild(this._ghostView);\r\n                }\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"createLinearGradient\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x1, y1, x2, y2) {\r\n            return this.defaultLayer.context.createLinearGradient(x1, y1, x2, y2);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"createRadialGradient\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x1, y1, radius1, x2, y2, radius2) {\r\n            return this.defaultLayer.context.createRadialGradient(x1, y1, radius1, x2, y2, radius2);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"createPattern\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (graphics, background, repetition, width, height) {\r\n            // const patternCanvas = document.createElement(\"canvas\");\r\n            // const patternContext = patternCanvas.getContext(\"2d\")!;\r\n            // patternCanvas.width = width;\r\n            // patternCanvas.height = height;\r\n            // if (fill) {\r\n            // \tpatternContext.fillStyle = fill.toCSS();\r\n            // \tpatternContext.fillRect(0, 0, patternCanvas.width, patternCanvas.height);\r\n            // }\r\n            // const layer = {\r\n            // \tview: patternCanvas,\r\n            // \tcontext: patternContext,\r\n            // \tvisible: true,\r\n            // \torder: 0,\r\n            // \twidth: width,\r\n            // \theight: height,\r\n            // \tdirty: true\r\n            // };\r\n            // // patternContext.arc(0, 0, 50, 0, .5 * Math.PI);\r\n            // // patternContext.stroke();\r\n            // image.targetLayer = layer;\r\n            // image.render(layer);\r\n            //this._layerDom.appendChild(patternCanvas);\r\n            this._patternCanvas.width = width;\r\n            this._patternCanvas.height = height;\r\n            this._patternContext.clearRect(0, 0, width, height);\r\n            // patternCanvas.style.width = width * this.resolution + \"px\";\r\n            // patternCanvas.style.height = height * this.resolution + \"px\";\r\n            background.renderDetached(this._patternContext);\r\n            graphics.renderDetached(this._patternContext);\r\n            return this._patternContext.createPattern(this._patternCanvas, repetition);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"makeContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return new CanvasContainer(this);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"makeGraphics\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return new CanvasGraphics(this);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"makeText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text, style) {\r\n            return new CanvasText(this, text, style);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"makeTextStyle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return new CanvasTextStyle();\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"makeRadialText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text, style) {\r\n            return new CanvasRadialText(this, text, style);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"makePicture\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (image) {\r\n            return new CanvasImage(this, image);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"resize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (width, height) {\r\n            var _this = this;\r\n            this._clientWidth = width;\r\n            this._clientHeight = height;\r\n            this._width = Math.floor(width * this.resolution);\r\n            this._height = Math.floor(height * this.resolution);\r\n            $array.each(this.layers, function (layer) {\r\n                if (layer) {\r\n                    layer.dirty = true;\r\n                    if (layer.width != null) {\r\n                        layer.view.width = layer.width;\r\n                        layer.view.style.width = layer.width + \"px\";\r\n                    }\r\n                    else {\r\n                        layer.view.width = _this._width;\r\n                        layer.view.style.width = width + \"px\";\r\n                    }\r\n                    if (layer.height != null) {\r\n                        layer.view.height = layer.height;\r\n                        layer.view.style.height = layer.height + \"px\";\r\n                    }\r\n                    else {\r\n                        layer.view.height = _this._height;\r\n                        layer.view.style.height = height + \"px\";\r\n                    }\r\n                }\r\n            });\r\n            // @todo: do the same for ghost canvases\r\n            this._ghostView.width = this._width;\r\n            this._ghostView.height = this._height;\r\n            this._ghostView.style.width = width + \"px\";\r\n            this._ghostView.style.height = height + \"px\";\r\n            this.view.style.width = width + \"px\";\r\n            this.view.style.height = height + \"px\";\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"createDetachedLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var view = document.createElement(\"canvas\");\r\n            var context = view.getContext(\"2d\");\r\n            var layer = {\r\n                view: view,\r\n                context: context,\r\n                order: 0,\r\n                visible: true,\r\n                width: undefined,\r\n                height: undefined,\r\n                dirty: true,\r\n                tainted: false\r\n            };\r\n            view.style.position = \"absolute\";\r\n            view.style.top = \"0px\";\r\n            view.style.left = \"0px\";\r\n            return layer;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"getLayerByOrder\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (order) {\r\n            var layers = this.layers;\r\n            var length = layers.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var layer = layers[i];\r\n                if (layer.order == order) {\r\n                    return layer;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"getLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (order, visible) {\r\n            if (visible === void 0) { visible = true; }\r\n            var existingLayer = this.getLayerByOrder(order);\r\n            if (existingLayer) {\r\n                return existingLayer;\r\n            }\r\n            var layer = this.createDetachedLayer();\r\n            layer.order = order;\r\n            layer.visible = visible;\r\n            if (layer.visible && this._width) {\r\n                layer.view.width = this._width;\r\n                layer.view.style.width = this._clientWidth + \"px\";\r\n                layer.view.height = this._height;\r\n                layer.view.style.height = this._clientHeight + \"px\";\r\n            }\r\n            var layers = this.layers;\r\n            layers.push(layer);\r\n            layers.sort(function (a, b) {\r\n                if (a.order > b.order) {\r\n                    return 1;\r\n                }\r\n                else if (a.order < b.order) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            });\r\n            var length = layers.length;\r\n            var layerIndex = $array.indexOf(layers, layer);\r\n            var next;\r\n            for (var i = layerIndex + 1; i < length; i++) {\r\n                if (layers[i].visible) {\r\n                    next = layers[i];\r\n                    break;\r\n                }\r\n            }\r\n            if (layer.visible) {\r\n                if (next === undefined) {\r\n                    this._layerDom.appendChild(layer.view);\r\n                }\r\n                else {\r\n                    this._layerDom.insertBefore(layer.view, next.view);\r\n                }\r\n            }\r\n            return layer;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (root) {\r\n            var _this = this;\r\n            this._dirtyLayers.length = 0;\r\n            $array.each(this.layers, function (layer) {\r\n                if (layer) {\r\n                    if (layer.dirty && layer.visible) {\r\n                        var context = layer.context;\r\n                        _this._dirtyLayers.push(layer);\r\n                        context.save();\r\n                        context.clearRect(0, 0, _this._width, _this._height);\r\n                    }\r\n                }\r\n            });\r\n            this._ghostContext.save();\r\n            //this._ghostContext.clearRect(0, 0, this._width, this._height);\r\n            //this._ghostContext.beginPath();\r\n            this._ghostContext.fillStyle = '#000';\r\n            this._ghostContext.fillRect(0, 0, this._width, this._height);\r\n            root.render(this.defaultLayer);\r\n            this._ghostContext.restore();\r\n            //setTimeout(() => {\r\n            // Remove this after the Chrome bug is fixed:\r\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=1279394\r\n            $array.each(this.layers, function (layer) {\r\n                if (layer) {\r\n                    var context = layer.context;\r\n                    context.beginPath();\r\n                    context.moveTo(0, 0);\r\n                    context.stroke();\r\n                }\r\n            });\r\n            $array.each(this._dirtyLayers, function (layer) {\r\n                layer.context.restore();\r\n                layer.dirty = false;\r\n            });\r\n            //}, 100)\r\n            if (this._hovering.size && this._lastPointerMoveEvent) {\r\n                //this._mouseMoveThrottler.run();\r\n                var native_1 = this._lastPointerMoveEvent.native;\r\n                $array.each(this._lastPointerMoveEvent.events, function (event) {\r\n                    _this._dispatchGlobalMousemove(event, native_1);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"paintId\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (obj) {\r\n            var id = distributeId(++this._colorId);\r\n            var color = Color.fromHex(id).toCSS();\r\n            this._colorMap[color] = obj;\r\n            return color;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_removeObject\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (obj) {\r\n            if (obj._colorId !== undefined) {\r\n                delete this._colorMap[obj._colorId];\r\n            }\r\n        }\r\n    });\r\n    // protected _identifyObjectByColor(colorId: number): CanvasDisplayObject | undefined {\r\n    // \treturn this._colorMap[colorId];\r\n    // }\r\n    Object.defineProperty(CanvasRenderer.prototype, \"getEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent, adjustPoint) {\r\n            if (adjustPoint === void 0) { adjustPoint = true; }\r\n            var bbox = adjustPoint ? this.view.getBoundingClientRect() : new DOMRect(0, 0, 0, 0);\r\n            return new CanvasRendererEvent(originalEvent, (originalEvent.clientX || originalEvent.clientY ? {\r\n                x: originalEvent.clientX - (originalEvent.clientX ? bbox.left : 0),\r\n                y: originalEvent.clientY - (originalEvent.clientY ? bbox.top : 0),\r\n            } : {\r\n                x: 0,\r\n                y: 0\r\n            }), bbox);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_getHitTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point, bbox) {\r\n            if (point.x < 0 || point.x > bbox.width || point.y < 0 || point.y > bbox.height) {\r\n                return;\r\n            }\r\n            else {\r\n                var pixel = this._ghostContext.getImageData(\r\n                // TODO should this round ?\r\n                Math.round((point.x / bbox.width) * this._width), Math.round((point.y / bbox.height) * this._height), 1, 1);\r\n                if (pixel.data[0] === 0 && pixel.data[1] === 0 && pixel.data[2] === 0) {\r\n                    return false;\r\n                }\r\n                var colorId = Color.fromRGB(pixel.data[0], pixel.data[1], pixel.data[2]).toCSS();\r\n                var hit = this._colorMap[colorId];\r\n                return hit;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_withEvents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, f) {\r\n            var events = this._events[key];\r\n            if (events !== undefined) {\r\n                events.dispatching = true;\r\n                try {\r\n                    f(events);\r\n                }\r\n                finally {\r\n                    events.dispatching = false;\r\n                    if (events.cleanup) {\r\n                        events.cleanup = false;\r\n                        $array.keepIf(events.callbacks, function (callback) {\r\n                            return !callback.disposed;\r\n                        });\r\n                        if (events.callbacks.length === 0) {\r\n                            events.disposer.dispose();\r\n                            delete this._events[key];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchEventAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, event) {\r\n            if (!this.interactionsEnabled) {\r\n                return;\r\n            }\r\n            this._withEvents(key, function (events) {\r\n                $array.each(events.callbacks, function (callback) {\r\n                    if (!callback.disposed) {\r\n                        callback.callback.call(callback.context, event);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, target, event) {\r\n            if (!this.interactionsEnabled) {\r\n                return false;\r\n            }\r\n            var dispatched = false;\r\n            this._withEvents(key, function (events) {\r\n                $array.each(events.callbacks, function (callback) {\r\n                    if (!callback.disposed && callback.object === target) {\r\n                        callback.callback.call(callback.context, event);\r\n                        dispatched = true;\r\n                    }\r\n                });\r\n            });\r\n            return dispatched;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchMousedown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent) {\r\n            var _this = this;\r\n            var button = originalEvent.button;\r\n            if (button != 0 && button != 2 && button != 1 && button !== undefined) {\r\n                // Ignore non-primary mouse buttons\r\n                return;\r\n            }\r\n            var event = this.getEvent(originalEvent);\r\n            var target = this._getHitTarget(event.point, event.bbox);\r\n            if (target) {\r\n                var id_1 = event.id;\r\n                var dragged_1 = false;\r\n                eachTargets(target, function (obj) {\r\n                    var info = { id: id_1, value: obj };\r\n                    _this._mousedown.push(info);\r\n                    if (!dragged_1 && _this._dispatchEvent(\"pointerdown\", obj, event)) {\r\n                        // Only dispatch the first element which matches\r\n                        dragged_1 = true;\r\n                        var has = _this._dragging.some(function (x) {\r\n                            return x.value === obj && x.id === id_1;\r\n                        });\r\n                        if (!has) {\r\n                            _this._dragging.push(info);\r\n                        }\r\n                    }\r\n                    return true;\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchGlobalMousemove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent, native) {\r\n            var _this = this;\r\n            var event = this.getEvent(originalEvent);\r\n            var target = this._getHitTarget(event.point, event.bbox);\r\n            event.native = native;\r\n            if (target) {\r\n                this._hovering.forEach(function (obj) {\r\n                    if (!obj.contains(target)) {\r\n                        _this._hovering.delete(obj);\r\n                        if (obj.cursorOverStyle) {\r\n                            $utils.setStyle(document.body, \"cursor\", obj._replacedCursorStyle);\r\n                        }\r\n                        _this._dispatchEvent(\"pointerout\", obj, event);\r\n                    }\r\n                });\r\n                if (event.native) {\r\n                    eachTargets(target, function (obj) {\r\n                        if (!_this._hovering.has(obj)) {\r\n                            _this._hovering.add(obj);\r\n                            if (obj.cursorOverStyle) {\r\n                                obj._replacedCursorStyle = $utils.getStyle(document.body, \"cursor\");\r\n                                $utils.setStyle(document.body, \"cursor\", obj.cursorOverStyle);\r\n                            }\r\n                            _this._dispatchEvent(\"pointerover\", obj, event);\r\n                        }\r\n                        return true;\r\n                    });\r\n                }\r\n                //} else if (target === false) {\r\n            }\r\n            else {\r\n                this._hovering.forEach(function (obj) {\r\n                    if (obj.cursorOverStyle) {\r\n                        $utils.setStyle(document.body, \"cursor\", obj._replacedCursorStyle);\r\n                    }\r\n                    _this._dispatchEvent(\"pointerout\", obj, event);\r\n                });\r\n                this._hovering.clear();\r\n            }\r\n            this._dispatchEventAll(\"globalpointermove\", event);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchGlobalMouseup\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent, native) {\r\n            var event = this.getEvent(originalEvent);\r\n            event.native = native;\r\n            //const target = this._getHitTarget(event.point);\r\n            this._dispatchEventAll(\"globalpointerup\", event);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchDragMove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent) {\r\n            var _this = this;\r\n            if (this._dragging.length !== 0) {\r\n                var event_1 = this.getEvent(originalEvent);\r\n                var id_2 = event_1.id;\r\n                this._dragging.forEach(function (obj) {\r\n                    if (obj.id === id_2) {\r\n                        _this._dispatchEvent(\"pointermove\", obj.value, event_1);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchDragEnd\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent) {\r\n            var _this = this;\r\n            var button = originalEvent.button;\r\n            var clickevent;\r\n            if (button == 0 || button === undefined) {\r\n                clickevent = \"click\";\r\n            }\r\n            else if (button == 2) {\r\n                clickevent = \"rightclick\";\r\n            }\r\n            else if (button == 1) {\r\n                clickevent = \"middleclick\";\r\n            }\r\n            else {\r\n                // Ignore non-primary mouse buttons\r\n                return;\r\n            }\r\n            var event = this.getEvent(originalEvent);\r\n            var id = event.id;\r\n            if (this._mousedown.length !== 0) {\r\n                var target_1 = this._getHitTarget(event.point, event.bbox);\r\n                if (target_1) {\r\n                    this._mousedown.forEach(function (obj) {\r\n                        if (obj.id === id && obj.value.contains(target_1)) {\r\n                            _this._dispatchEvent(clickevent, obj.value, event);\r\n                        }\r\n                    });\r\n                }\r\n                this._mousedown.length = 0;\r\n            }\r\n            if (this._dragging.length !== 0) {\r\n                this._dragging.forEach(function (obj) {\r\n                    if (obj.id === id) {\r\n                        _this._dispatchEvent(\"pointerup\", obj.value, event);\r\n                    }\r\n                });\r\n                this._dragging.length = 0;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchDoubleClick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent) {\r\n            var _this = this;\r\n            var event = this.getEvent(originalEvent);\r\n            var target = this._getHitTarget(event.point, event.bbox);\r\n            if (target) {\r\n                eachTargets(target, function (obj) {\r\n                    if (_this._dispatchEvent(\"dblclick\", obj, event)) {\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchWheel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent) {\r\n            var _this = this;\r\n            var event = this.getEvent(originalEvent);\r\n            var target = this._getHitTarget(event.point, event.bbox);\r\n            if (target) {\r\n                eachTargets(target, function (obj) {\r\n                    if (_this._dispatchEvent(\"wheel\", obj, event)) {\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_makeSharedEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, f) {\r\n            var _this = this;\r\n            if (this._listeners[key] === undefined) {\r\n                var listener_1 = f();\r\n                this._listeners[key] = new CounterDisposer(function () {\r\n                    delete _this._listeners[key];\r\n                    listener_1.dispose();\r\n                });\r\n            }\r\n            return this._listeners[key].increment();\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_onPointerEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name, f) {\r\n            var native = false;\r\n            var timer = null;\r\n            function clear() {\r\n                timer = null;\r\n                native = false;\r\n            }\r\n            return new MultiDisposer([\r\n                new Disposer(function () {\r\n                    if (timer !== null) {\r\n                        clearTimeout(timer);\r\n                    }\r\n                    clear();\r\n                }),\r\n                $utils.addEventListener(this.view, $utils.getRendererEvent(name), function (_) {\r\n                    native = true;\r\n                    if (timer !== null) {\r\n                        clearTimeout(timer);\r\n                    }\r\n                    timer = window.setTimeout(clear, 0);\r\n                }),\r\n                onPointerEvent(window, name, function (ev) {\r\n                    if (timer !== null) {\r\n                        clearTimeout(timer);\r\n                        timer = null;\r\n                    }\r\n                    f(ev, native);\r\n                    native = false;\r\n                }),\r\n            ]);\r\n        }\r\n    });\r\n    // This ensures that only a single DOM event is added (e.g. only a single mousemove event listener)\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_initEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var _this = this;\r\n            switch (key) {\r\n                case \"globalpointermove\":\r\n                case \"pointerover\":\r\n                case \"pointerout\":\r\n                    return this._makeSharedEvent(\"pointermove\", function () {\r\n                        var listener = function (events, native) {\r\n                            _this._lastPointerMoveEvent = { events: events, native: native };\r\n                            $array.each(events, function (event) {\r\n                                _this._dispatchGlobalMousemove(event, native);\r\n                            });\r\n                        };\r\n                        return new MultiDisposer([\r\n                            _this._onPointerEvent(\"pointerdown\", listener),\r\n                            _this._onPointerEvent(\"pointermove\", listener),\r\n                        ]);\r\n                    });\r\n                case \"globalpointerup\":\r\n                    return this._makeSharedEvent(\"pointerup\", function () {\r\n                        var mouseup = _this._onPointerEvent(\"pointerup\", function (events, native) {\r\n                            $array.each(events, function (event) {\r\n                                _this._dispatchGlobalMouseup(event, native);\r\n                            });\r\n                            _this._lastPointerMoveEvent = { events: events, native: native };\r\n                        });\r\n                        var pointercancel = _this._onPointerEvent(\"pointercancel\", function (events, native) {\r\n                            $array.each(events, function (event) {\r\n                                _this._dispatchGlobalMouseup(event, native);\r\n                            });\r\n                            _this._lastPointerMoveEvent = { events: events, native: native };\r\n                        });\r\n                        return new Disposer(function () {\r\n                            mouseup.dispose();\r\n                            pointercancel.dispose();\r\n                        });\r\n                    });\r\n                case \"click\":\r\n                case \"rightclick\":\r\n                case \"middleclick\":\r\n                case \"pointerdown\":\r\n                /*\r\n                    return this._makeSharedEvent(\"pointerdown\", () => {\r\n                        return this._onPointerEvent(\"pointerdown\", (event, native) => {\r\n                            this._lastPointerMoveEvent = { event, native };\r\n                            this._dispatchMousedown(event)\r\n                        });\r\n                    });\r\n                */\r\n                case \"pointermove\":\r\n                case \"pointerup\":\r\n                    return this._makeSharedEvent(\"pointerdown\", function () {\r\n                        //const throttler = new Throttler();\r\n                        var mousedown = onPointerEvent(_this.view, \"pointerdown\", function (events) {\r\n                            $array.each(events, function (ev) {\r\n                                _this._dispatchMousedown(ev);\r\n                            });\r\n                        });\r\n                        // TODO handle throttling properly for multitouch\r\n                        var mousemove = _this._onPointerEvent(\"pointermove\", function (ev) {\r\n                            //throttler.throttle(() => {\r\n                            $array.each(ev, function (ev) {\r\n                                _this._dispatchDragMove(ev);\r\n                            });\r\n                            //});\r\n                        });\r\n                        var mouseup = _this._onPointerEvent(\"pointerup\", function (ev) {\r\n                            $array.each(ev, function (ev) {\r\n                                _this._dispatchDragEnd(ev);\r\n                            });\r\n                        });\r\n                        var pointercancel = _this._onPointerEvent(\"pointercancel\", function (ev) {\r\n                            $array.each(ev, function (ev) {\r\n                                _this._dispatchDragEnd(ev);\r\n                            });\r\n                        });\r\n                        return new Disposer(function () {\r\n                            mousedown.dispose();\r\n                            mousemove.dispose();\r\n                            mouseup.dispose();\r\n                            pointercancel.dispose();\r\n                        });\r\n                    });\r\n                case \"dblclick\":\r\n                    return this._makeSharedEvent(\"dblclick\", function () {\r\n                        return _this._onPointerEvent(\"dblclick\", function (ev) {\r\n                            $array.each(ev, function (ev) {\r\n                                _this._dispatchDoubleClick(ev);\r\n                            });\r\n                        });\r\n                    });\r\n                case \"wheel\":\r\n                    return this._makeSharedEvent(\"wheel\", function () {\r\n                        return $utils.addEventListener(window, $utils.getRendererEvent(\"wheel\"), function (event) {\r\n                            _this._dispatchWheel(event);\r\n                        }, { passive: false });\r\n                    });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_addEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (object, key, callback, context) {\r\n            var _this = this;\r\n            var events = this._events[key];\r\n            if (events === undefined) {\r\n                events = this._events[key] = {\r\n                    disposer: this._initEvent(key),\r\n                    callbacks: [],\r\n                    dispatching: false,\r\n                    cleanup: false,\r\n                };\r\n            }\r\n            var listener = { object: object, context: context, callback: callback, disposed: false };\r\n            events.callbacks.push(listener);\r\n            return new Disposer(function () {\r\n                listener.disposed = true;\r\n                if (events.dispatching) {\r\n                    events.cleanup = true;\r\n                }\r\n                else {\r\n                    $array.removeFirst(events.callbacks, listener);\r\n                    if (events.callbacks.length === 0) {\r\n                        events.disposer.dispose();\r\n                        delete _this._events[key];\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"getCanvas\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (root, options) {\r\n            var _this = this;\r\n            // Make sure everything is rendered\r\n            this.render(root);\r\n            if (!options) {\r\n                options = {};\r\n            }\r\n            var scale = this.resolution;\r\n            // Check if we need to scale\r\n            if (options.minWidth && (options.minWidth > this._width)) {\r\n                var minScale = options.minWidth / this._width;\r\n                if (minScale > scale) {\r\n                    scale = minScale * this.resolution;\r\n                }\r\n            }\r\n            if (options.minHeight && (options.minHeight > this._height)) {\r\n                var minScale = options.minHeight / this._height;\r\n                if (minScale > scale) {\r\n                    scale = minScale * this.resolution;\r\n                }\r\n            }\r\n            if (options.maxWidth && (options.maxWidth < this._width)) {\r\n                var maxScale = options.maxWidth / this._width;\r\n                if (maxScale < scale) {\r\n                    scale = maxScale * this.resolution;\r\n                }\r\n            }\r\n            if (options.maxHeight && (options.maxHeight > this._height)) {\r\n                var maxScale = options.maxHeight / this._height;\r\n                if (maxScale < scale) {\r\n                    scale = maxScale * this.resolution;\r\n                }\r\n            }\r\n            // Check if we need to compensate for pixel ratio\r\n            if (options.maintainPixelRatio) {\r\n                scale /= this.resolution;\r\n            }\r\n            // Init list canvases to remove from DOM after export\r\n            var canvases = [];\r\n            // Set up new canvas for export\r\n            var forceRender = false;\r\n            var canvasWidth = this._width;\r\n            var canvasHeight = this._height;\r\n            var canvas = document.createElement(\"canvas\");\r\n            if (scale != this.resolution) {\r\n                forceRender = true;\r\n                canvasWidth = this._width * scale / this.resolution;\r\n                canvasHeight = this._height * scale / this.resolution;\r\n            }\r\n            canvas.width = canvasWidth;\r\n            canvas.height = canvasHeight;\r\n            // Add to DOM so it inherits CSS\r\n            canvas.style.position = \"fixed\";\r\n            canvas.style.top = \"-10000px\";\r\n            this.view.appendChild(canvas);\r\n            canvases.push(canvas);\r\n            // Context\r\n            var context = canvas.getContext(\"2d\");\r\n            var width = 0;\r\n            var height = 0;\r\n            var needRerender = false;\r\n            $array.each(this.layers, function (layer) {\r\n                if (layer && layer.visible) {\r\n                    if (layer.tainted || forceRender) {\r\n                        needRerender = true;\r\n                        layer.exportableView = layer.view;\r\n                        layer.exportableContext = layer.context;\r\n                        layer.view = document.createElement(\"canvas\");\r\n                        // Add to DOM so it inherits CSS\r\n                        layer.view.style.position = \"fixed\";\r\n                        layer.view.style.top = \"-10000px\";\r\n                        _this.view.appendChild(layer.view);\r\n                        canvases.push(layer.view);\r\n                        layer.view.width = canvasWidth;\r\n                        layer.view.height = canvasHeight;\r\n                        layer.context = layer.view.getContext(\"2d\");\r\n                        layer.dirty = true;\r\n                        layer.scale = scale;\r\n                    }\r\n                }\r\n            });\r\n            if (needRerender) {\r\n                this._omitTainted = true;\r\n                this.render(root);\r\n                this._omitTainted = false;\r\n            }\r\n            $array.each(this.layers, function (layer) {\r\n                if (layer && layer.visible) {\r\n                    // Layer is fine. Just plop it into our target canvas\r\n                    context.drawImage(layer.view, 0, 0);\r\n                    // Restore layer original canvas\r\n                    if (layer.exportableView) {\r\n                        layer.view = layer.exportableView;\r\n                        layer.exportableView = undefined;\r\n                    }\r\n                    if (layer.exportableContext) {\r\n                        layer.context = layer.exportableContext;\r\n                        layer.exportableContext = undefined;\r\n                    }\r\n                    if (width < layer.view.clientWidth) {\r\n                        width = layer.view.clientWidth;\r\n                    }\r\n                    if (height < layer.view.clientHeight) {\r\n                        height = layer.view.clientHeight;\r\n                    }\r\n                    layer.scale = undefined;\r\n                }\r\n            });\r\n            canvas.style.width = width + \"px\";\r\n            canvas.style.height = height + \"px\";\r\n            $array.each(canvases, function (canvas) {\r\n                canvas.style.position = \"\";\r\n                canvas.style.top = \"\";\r\n                _this.view.removeChild(canvas);\r\n            });\r\n            return canvas;\r\n        }\r\n    });\r\n    return CanvasRenderer;\r\n}(ArrayDisposer));\r\nexport { CanvasRenderer };\r\n//# sourceMappingURL=CanvasRenderer.js.map","import { Container } from \"./render/Container\";\r\nimport { Text } from \"./render/Text\";\r\nimport { HorizontalLayout } from \"./render/HorizontalLayout\";\r\nimport { VerticalLayout } from \"./render/VerticalLayout\";\r\nimport { GridLayout } from \"./render/GridLayout\";\r\nimport { Disposer } from \"./util/Disposer\";\r\nimport { ResizeSensor } from \"./util/ResizeSensor\";\r\nimport { InterfaceColors } from \"./util/InterfaceColors\";\r\nimport { Graphics } from \"./render/Graphics\";\r\nimport { Rectangle } from \"./render/Rectangle\";\r\nimport { Tooltip } from \"./render/Tooltip\";\r\nimport { NumberFormatter } from \"./util/NumberFormatter\";\r\nimport { DateFormatter } from \"./util/DateFormatter\";\r\nimport { DurationFormatter } from \"./util/DurationFormatter\";\r\nimport { Language } from \"./util/Language\";\r\nimport { EventDispatcher } from \"./util/EventDispatcher\";\r\nimport { DefaultTheme } from \"../themes/DefaultTheme\";\r\nimport { CanvasRenderer } from \"./render/backend/CanvasRenderer\";\r\nimport { p100, percent } from \"./util/Percent\";\r\nimport { color } from \"./util/Color\";\r\nimport { populateString } from \"./util/PopulateString\";\r\nimport { registry } from \"./Registry\";\r\nimport * as $order from \"./util/Order\";\r\nimport * as $array from \"./util/Array\";\r\nimport * as $object from \"./util/Object\";\r\nimport * as $utils from \"./util/Utils\";\r\nimport * as $type from \"./util/Type\";\r\nimport en from \"../../locales/en\";\r\nfunction rAF(fps, callback) {\r\n    if (fps == null) {\r\n        requestAnimationFrame(callback);\r\n    }\r\n    else {\r\n        setTimeout(function () {\r\n            requestAnimationFrame(callback);\r\n        }, 1000 / fps);\r\n    }\r\n}\r\n// TODO implement Disposer\r\n/**\r\n * Root element of the chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/getting-started/#Root_element} for more info\r\n */\r\nvar Root = /** @class */ (function () {\r\n    function Root(id, settings, isReal) {\r\n        if (settings === void 0) { settings = {}; }\r\n        /**\r\n         * A reference to original chart container (div element).\r\n         */\r\n        Object.defineProperty(this, \"dom\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_inner\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isDirtyParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyPositions\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_ticker\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_tickers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * Root's event dispatcher.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n         */\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        /**\r\n         * @ignore\r\n         * @todo needs description\r\n         */\r\n        Object.defineProperty(this, \"animationTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_animations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_renderer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rootContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Main content container.\r\n         */\r\n        Object.defineProperty(this, \"container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A [[Container]] used to display tooltips in.\r\n         */\r\n        Object.defineProperty(this, \"tooltipContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltip\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Locale-related\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"language\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Language.new(this, {})\r\n        });\r\n        /**\r\n         * Locale used by the chart.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/}\r\n         */\r\n        Object.defineProperty(this, \"locale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: en\r\n        });\r\n        // Date-time related\r\n        /**\r\n         * Use UTC when formatting date/time.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#UTC_and_time_zones} for more info\r\n         */\r\n        Object.defineProperty(this, \"utc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * If set, will format date/time in specific time zone.\r\n         *\r\n         * The value should be named time zone, e.g.:\r\n         * `\"America/Vancouver\"`, `\"Australia/Sydney\"`, `\"UTC\"`.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Time_zone} for more info\r\n         * @since 5.1.0\r\n         */\r\n        Object.defineProperty(this, \"timezone\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * The maximum FPS that the Root will run at.\r\n         *\r\n         * If `undefined` it will run at the highest FPS.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Performance} for more info\r\n         */\r\n        Object.defineProperty(this, \"fps\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Number formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n         */\r\n        Object.defineProperty(this, \"numberFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: NumberFormatter.new(this, {})\r\n        });\r\n        /**\r\n         * Date/time formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n         */\r\n        Object.defineProperty(this, \"dateFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: DateFormatter.new(this, {})\r\n        });\r\n        /**\r\n         * Duration formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n         */\r\n        Object.defineProperty(this, \"durationFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: DurationFormatter.new(this, {})\r\n        });\r\n        // Accessibility\r\n        /**\r\n         * Global tab index for using for the whole chart\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n         */\r\n        Object.defineProperty(this, \"tabindex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        //@todo maybe make this better\r\n        Object.defineProperty(this, \"_tabindexes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_focusElementDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_focusElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_focusedSprite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isShift\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_keyboardDragPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_readerAlertElement\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_logo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipDiv\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Used for dynamically-created CSS and JavaScript with strict source policies.\r\n         */\r\n        Object.defineProperty(this, \"nonce\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Special color set to be used for various controls.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Interface_colors} for more info\r\n         */\r\n        Object.defineProperty(this, \"interfaceColors\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * An instance of vertical layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default VerticalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"verticalLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: VerticalLayout.new(this, {})\r\n        });\r\n        /**\r\n         * An instance of horizontal layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default HorizontalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"horizontalLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: HorizontalLayout.new(this, {})\r\n        });\r\n        /**\r\n         * An instance of grid layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default VerticalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"gridLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: GridLayout.new(this, {})\r\n        });\r\n        /**\r\n         * Indicates whether chart should resized automatically when parent container\r\n         * width and/or height changes.\r\n         *\r\n         * If disabled (`autoResize = false`) you can make the chart resize manually\r\n         * by calling root element's `resize()` method.\r\n         */\r\n        Object.defineProperty(this, \"autoResize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_fontHash\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"\"\r\n        });\r\n        Object.defineProperty(this, \"_isDisposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_resizeSensorDisposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltips\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_htmlElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_htmlEnabledContainers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"tooltipRoot\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        if (settings.useSafeResolution == null) {\r\n            settings.useSafeResolution = true;\r\n        }\r\n        var resolution;\r\n        if (settings.useSafeResolution) {\r\n            resolution = $utils.getSafeResolution();\r\n        }\r\n        this._renderer = new CanvasRenderer(resolution);\r\n        var dom;\r\n        if (id instanceof HTMLElement) {\r\n            dom = id;\r\n        }\r\n        else {\r\n            dom = document.getElementById(id);\r\n        }\r\n        $array.each(registry.rootElements, function (root) {\r\n            if (root.dom === dom) {\r\n                throw new Error(\"You cannot have multiple Roots on the same DOM node\");\r\n            }\r\n        });\r\n        this.interfaceColors = InterfaceColors.new(this, {});\r\n        if (dom === null) {\r\n            throw new Error(\"Could not find HTML element with id `\" + id + \"`\");\r\n        }\r\n        this.dom = dom;\r\n        var inner = document.createElement(\"div\");\r\n        inner.style.position = \"relative\";\r\n        inner.style.height = \"100%\";\r\n        dom.appendChild(inner);\r\n        var tooltipContainerBounds = settings.tooltipContainerBounds;\r\n        if (tooltipContainerBounds) {\r\n            var tooltipDiv = document.createElement(\"div\");\r\n            $utils.setInteractive(tooltipDiv, false);\r\n            var tooltipDivStyle = tooltipDiv.style;\r\n            tooltipDivStyle.position = \"absolute\";\r\n            tooltipDivStyle.top = -tooltipContainerBounds.top + \"px\";\r\n            tooltipDivStyle.left = -tooltipContainerBounds.left + \"px\";\r\n            tooltipDivStyle.width = \"calc(100% + \" + (tooltipContainerBounds.left + tooltipContainerBounds.right) + \"px)\";\r\n            tooltipDivStyle.height = \"calc(100% + \" + (tooltipContainerBounds.top + tooltipContainerBounds.bottom) + \"px)\";\r\n            tooltipDivStyle.zIndex = \"1\";\r\n            inner.appendChild(tooltipDiv);\r\n            this.tooltipRoot = new Root(tooltipDiv, {}, true);\r\n            this.tooltipRoot._init();\r\n            this.tooltipRoot.tooltipContainer.setAll({ x: tooltipContainerBounds.left, y: tooltipContainerBounds.top });\r\n        }\r\n        this._inner = inner;\r\n        this._updateComputedStyles();\r\n        registry.rootElements.push(this);\r\n    }\r\n    Object.defineProperty(Root, \"new\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (id, settings) {\r\n            var root = new Root(id, settings, true);\r\n            root._init();\r\n            return root;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"moveDOM\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (id) {\r\n            var dom;\r\n            if (id instanceof HTMLElement) {\r\n                dom = id;\r\n            }\r\n            else {\r\n                dom = document.getElementById(id);\r\n            }\r\n            if (dom) {\r\n                while (this.dom.childNodes.length > 0) {\r\n                    dom.appendChild(this.dom.childNodes[0]);\r\n                }\r\n                this.dom = dom;\r\n                this._initResizeSensor();\r\n                this.resize();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_handleLogo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._logo) {\r\n                var w = this.dom.offsetWidth;\r\n                var h = this.dom.offsetHeight;\r\n                if ((w <= 150) || (h <= 60)) {\r\n                    this._logo.hide();\r\n                }\r\n                else {\r\n                    this._logo.show();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_showBranding\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._logo) {\r\n                var logo = this.tooltipContainer.children.push(Container.new(this, {\r\n                    interactive: true,\r\n                    interactiveChildren: false,\r\n                    position: \"absolute\",\r\n                    setStateOnChildren: true,\r\n                    paddingTop: 9,\r\n                    paddingRight: 9,\r\n                    paddingBottom: 9,\r\n                    paddingLeft: 9,\r\n                    scale: .6,\r\n                    y: percent(100),\r\n                    centerY: p100,\r\n                    tooltipText: \"Created using amCharts 5\",\r\n                    tooltipX: p100,\r\n                    cursorOverStyle: \"pointer\",\r\n                    background: Rectangle.new(this, {\r\n                        fill: color(0x474758),\r\n                        fillOpacity: 0,\r\n                        tooltipY: 5\r\n                    })\r\n                }));\r\n                var tooltipRoot = this.tooltipRoot;\r\n                if (!tooltipRoot) {\r\n                    tooltipRoot = this;\r\n                }\r\n                var tooltip = Tooltip.new(tooltipRoot, {\r\n                    pointerOrientation: \"horizontal\",\r\n                    paddingTop: 4,\r\n                    paddingRight: 7,\r\n                    paddingBottom: 4,\r\n                    paddingLeft: 7\r\n                });\r\n                tooltip.label.setAll({\r\n                    fontSize: 12\r\n                });\r\n                tooltip.get(\"background\").setAll({\r\n                    fill: this.interfaceColors.get(\"background\"),\r\n                    stroke: this.interfaceColors.get(\"grid\"),\r\n                    strokeOpacity: 0.3\r\n                });\r\n                logo.set(\"tooltip\", tooltip);\r\n                logo.events.on(\"click\", function () {\r\n                    window.open(\"https://www.amcharts.com/\", \"_blank\");\r\n                });\r\n                logo.states.create(\"hover\", {});\r\n                var m = logo.children.push(Graphics.new(this, {\r\n                    stroke: color(0xcccccc),\r\n                    strokeWidth: 3,\r\n                    svgPath: \"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6\"\r\n                }));\r\n                m.states.create(\"hover\", { stroke: color(0x3CABFF) });\r\n                var a = logo.children.push(Graphics.new(this, {\r\n                    stroke: color(0x888888),\r\n                    strokeWidth: 3,\r\n                    svgPath: \"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0\"\r\n                }));\r\n                a.states.create(\"hover\", { stroke: color(0x474758) });\r\n                //logo.set(\"tooltip\", this._tooltip);\r\n                //logo.setPrivate(\"tooltipTarget\", logo.get(\"background\"));\r\n                this._logo = logo;\r\n                this._handleLogo();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_init\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var renderer = this._renderer;\r\n            var rect = this.dom.getBoundingClientRect();\r\n            var width = Math.floor(rect.width);\r\n            var height = Math.floor(rect.height);\r\n            var rootContainer = Container.new(this, { visible: true, width: width, height: height });\r\n            this._rootContainer = rootContainer;\r\n            this._rootContainer._defaultThemes.push(DefaultTheme.new(this));\r\n            var container = rootContainer.children.push(Container.new(this, { visible: true, width: p100, height: p100 }));\r\n            this.container = container;\r\n            renderer.resize(width, height);\r\n            //@todo: better appendChild - refer\r\n            this._inner.appendChild(renderer.view);\r\n            // TODO: TMP TMP TMP for testing only, remove\r\n            //document.body.appendChild((<any>renderer)._ghostView);\r\n            this._initResizeSensor();\r\n            // HTML content holder\r\n            this._htmlElementContainer = document.createElement(\"div\");\r\n            this._htmlElementContainer.style.overflow = \"hidden\";\r\n            this._inner.appendChild(this._htmlElementContainer);\r\n            // Create element which is used to make announcements to screen reader\r\n            var readerAlertElement = document.createElement(\"div\");\r\n            readerAlertElement.setAttribute(\"role\", \"alert\");\r\n            readerAlertElement.style.zIndex = \"-100000\";\r\n            readerAlertElement.style.opacity = \"0\";\r\n            readerAlertElement.style.position = \"absolute\";\r\n            readerAlertElement.style.top = \"0\";\r\n            this._readerAlertElement = readerAlertElement;\r\n            this._inner.appendChild(this._readerAlertElement);\r\n            var focusElementContainer = document.createElement(\"div\");\r\n            focusElementContainer.style.position = \"absolute\";\r\n            focusElementContainer.style.pointerEvents = \"none\";\r\n            focusElementContainer.style.top = \"0px\";\r\n            focusElementContainer.style.left = \"0px\";\r\n            focusElementContainer.style.overflow = \"hidden\";\r\n            focusElementContainer.style.width = width + \"px\";\r\n            focusElementContainer.style.height = height + \"px\";\r\n            focusElementContainer.setAttribute(\"role\", \"application\");\r\n            $utils.setInteractive(focusElementContainer, false);\r\n            this._focusElementContainer = focusElementContainer;\r\n            this._inner.appendChild(this._focusElementContainer);\r\n            this._tooltipElementContainer = document.createElement(\"div\");\r\n            this._inner.appendChild(this._tooltipElementContainer);\r\n            // Add keyboard events for accessibility, e.g. simulating drag with arrow\r\n            // keys and click with ENTER\r\n            if ($utils.supports(\"keyboardevents\")) {\r\n                this._disposers.push($utils.addEventListener(window, \"keydown\", function (ev) {\r\n                    if (ev.keyCode == 16) {\r\n                        _this._isShift = true;\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(window, \"keyup\", function (ev) {\r\n                    if (ev.keyCode == 16) {\r\n                        _this._isShift = false;\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(focusElementContainer, \"keydown\", function (ev) {\r\n                    var focusedSprite = _this._focusedSprite;\r\n                    if (focusedSprite) {\r\n                        if (ev.keyCode == 27) {\r\n                            // ESC pressed - lose current focus\r\n                            $utils.blur();\r\n                            _this._focusedSprite = undefined;\r\n                        }\r\n                        var dragOffsetX = 0;\r\n                        var dragOffsetY = 0;\r\n                        // TODO: figure out if using bogus MouseEvent is fine, or it will\r\n                        // fail on some platforms\r\n                        switch (ev.keyCode) {\r\n                            case 13:\r\n                                ev.preventDefault();\r\n                                var downEvent = renderer.getEvent(new MouseEvent(\"click\"));\r\n                                focusedSprite.events.dispatch(\"click\", {\r\n                                    type: \"click\",\r\n                                    originalEvent: downEvent.event,\r\n                                    point: downEvent.point,\r\n                                    simulated: true,\r\n                                    target: focusedSprite\r\n                                });\r\n                                return;\r\n                            case 37:\r\n                                dragOffsetX = -6;\r\n                                break;\r\n                            case 39:\r\n                                dragOffsetX = 6;\r\n                                break;\r\n                            case 38:\r\n                                dragOffsetY = -6;\r\n                                break;\r\n                            case 40:\r\n                                dragOffsetY = 6;\r\n                                break;\r\n                            default:\r\n                                return;\r\n                        }\r\n                        if (dragOffsetX != 0 || dragOffsetY != 0) {\r\n                            ev.preventDefault();\r\n                            if (!focusedSprite.isDragging()) {\r\n                                // Start dragging\r\n                                _this._keyboardDragPoint = {\r\n                                    x: 0,\r\n                                    y: 0\r\n                                };\r\n                                var downEvent = renderer.getEvent(new MouseEvent(\"mousedown\", {\r\n                                    clientX: 0,\r\n                                    clientY: 0\r\n                                }));\r\n                                if (focusedSprite.events.isEnabled(\"pointerdown\")) {\r\n                                    focusedSprite.events.dispatch(\"pointerdown\", {\r\n                                        type: \"pointerdown\",\r\n                                        originalEvent: downEvent.event,\r\n                                        point: downEvent.point,\r\n                                        simulated: true,\r\n                                        target: focusedSprite\r\n                                    });\r\n                                }\r\n                            }\r\n                            else {\r\n                                // Move focus marker\r\n                                //this._positionFocusElement(focusedSprite);\r\n                            }\r\n                            // Move incrementally\r\n                            var dragPoint = _this._keyboardDragPoint;\r\n                            dragPoint.x += dragOffsetX;\r\n                            dragPoint.y += dragOffsetY;\r\n                            var moveEvent = renderer.getEvent(new MouseEvent(\"mousemove\", {\r\n                                clientX: dragPoint.x,\r\n                                clientY: dragPoint.y\r\n                            }), false);\r\n                            if (focusedSprite.events.isEnabled(\"globalpointermove\")) {\r\n                                focusedSprite.events.dispatch(\"globalpointermove\", {\r\n                                    type: \"globalpointermove\",\r\n                                    originalEvent: moveEvent.event,\r\n                                    point: moveEvent.point,\r\n                                    simulated: true,\r\n                                    target: focusedSprite\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(focusElementContainer, \"keyup\", function (ev) {\r\n                    if (_this._focusedSprite) {\r\n                        var focusedSprite = _this._focusedSprite;\r\n                        var keyCode = ev.keyCode;\r\n                        switch (keyCode) {\r\n                            case 37:\r\n                            case 39:\r\n                            case 38:\r\n                            case 40:\r\n                                if (focusedSprite.isDragging()) {\r\n                                    // Simulate drag stop\r\n                                    var dragPoint = _this._keyboardDragPoint;\r\n                                    var upEvent = renderer.getEvent(new MouseEvent(\"mouseup\", {\r\n                                        clientX: dragPoint.x,\r\n                                        clientY: dragPoint.y\r\n                                    }));\r\n                                    if (focusedSprite.events.isEnabled(\"globalpointerup\")) {\r\n                                        focusedSprite.events.dispatch(\"globalpointerup\", {\r\n                                            type: \"globalpointerup\",\r\n                                            originalEvent: upEvent.event,\r\n                                            point: upEvent.point,\r\n                                            simulated: true,\r\n                                            target: focusedSprite\r\n                                        });\r\n                                    }\r\n                                    //this._positionFocusElement(focusedSprite);\r\n                                    _this._keyboardDragPoint = undefined;\r\n                                    // @todo dispatch mouseup event instead of calling dragStop?\r\n                                    // this._dispatchEvent(\"globalpointerup\", target, upEvent);\r\n                                    return;\r\n                                }\r\n                                else if (focusedSprite.get(\"focusableGroup\")) {\r\n                                    // Find next item in focusable group\r\n                                    var group_1 = focusedSprite.get(\"focusableGroup\");\r\n                                    var items = _this._tabindexes.filter(function (item) { return item.get(\"focusableGroup\") == group_1; });\r\n                                    var index = items.indexOf(focusedSprite);\r\n                                    var lastIndex = items.length - 1;\r\n                                    index += (keyCode == 39 || keyCode == 40) ? 1 : -1;\r\n                                    if (index < 0) {\r\n                                        index = lastIndex;\r\n                                    }\r\n                                    else if (index > lastIndex) {\r\n                                        index = 0;\r\n                                    }\r\n                                    $utils.focus(items[index].getPrivate(\"focusElement\").dom);\r\n                                }\r\n                                break;\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n            this._startTicker();\r\n            this.setThemes([]);\r\n            this._addTooltip();\r\n            if (!this._hasLicense()) {\r\n                this._showBranding();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_initResizeSensor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            if (this._resizeSensorDisposer) {\r\n                this._resizeSensorDisposer.dispose();\r\n            }\r\n            this._resizeSensorDisposer = new ResizeSensor(this.dom, function () {\r\n                if (_this.autoResize) {\r\n                    _this.resize();\r\n                }\r\n            });\r\n            this._disposers.push(this._resizeSensorDisposer);\r\n        }\r\n    });\r\n    /**\r\n     * If automatic resizing of char is disabled (`root.autoResize = false`), it\r\n     * can be resized manually by calling this method.\r\n     */\r\n    Object.defineProperty(Root.prototype, \"resize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var dom = this.dom;\r\n            var rect = dom.getBoundingClientRect();\r\n            var w = Math.floor(rect.width);\r\n            var h = Math.floor(rect.height);\r\n            if (w > 0 && h > 0) {\r\n                var htmlElementContainer = this._htmlElementContainer;\r\n                htmlElementContainer.style.width = w + \"px\";\r\n                htmlElementContainer.style.height = h + \"px\";\r\n                var focusElementContainer = this._focusElementContainer;\r\n                focusElementContainer.style.width = w + \"px\";\r\n                focusElementContainer.style.height = h + \"px\";\r\n                this._renderer.resize(w, h);\r\n                var rootContainer = this._rootContainer;\r\n                rootContainer.setPrivate(\"width\", w);\r\n                rootContainer.setPrivate(\"height\", h);\r\n                this._render();\r\n                this._handleLogo();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._renderer.render(this._rootContainer._display);\r\n            if (this._focusElementDirty) {\r\n                this._updateCurrentFocus();\r\n                this._focusElementDirty = false;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_runTickers\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            $array.each(this._tickers, function (f) {\r\n                f(currentTime);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_runAnimations\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            $array.keepIf(this._animations, function (animation) {\r\n                return animation._runAnimation(currentTime);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_runDirties\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            //console.log(\"tick **************************************************************\");\r\n            var allParents = {};\r\n            while (this._isDirtyParents) {\r\n                // This must be before calling _prepareChildren\r\n                this._isDirtyParents = false;\r\n                $object.keys(this._dirtyParents).forEach(function (key) {\r\n                    var parent = _this._dirtyParents[key];\r\n                    delete _this._dirtyParents[key];\r\n                    if (!parent.isDisposed()) {\r\n                        allParents[parent.uid] = parent;\r\n                        parent._prepareChildren();\r\n                    }\r\n                });\r\n            }\r\n            $object.keys(allParents).forEach(function (key) {\r\n                allParents[key]._updateChildren();\r\n            });\r\n            var objects = [];\r\n            //\t\tconsole.log(\"_beforeChanged\")\r\n            $object.keys(this._dirty).forEach(function (key) {\r\n                var entity = _this._dirty[key];\r\n                if (entity.isDisposed()) {\r\n                    delete _this._dirty[entity.uid];\r\n                }\r\n                else {\r\n                    objects.push(entity);\r\n                    entity._beforeChanged();\r\n                }\r\n            });\r\n            //\t\tconsole.log(\"_changed\")\r\n            objects.forEach(function (entity) {\r\n                entity._changed();\r\n                delete _this._dirty[entity.uid];\r\n                entity._clearDirty();\r\n            });\r\n            this._isDirty = false;\r\n            var depths = {};\r\n            var bounds = [];\r\n            $object.keys(this._dirtyBounds).forEach(function (key) {\r\n                var entity = _this._dirtyBounds[key];\r\n                delete _this._dirtyBounds[key];\r\n                if (!entity.isDisposed()) {\r\n                    depths[entity.uid] = entity.depth();\r\n                    bounds.push(entity);\r\n                }\r\n            });\r\n            // High depth -> low depth\r\n            bounds.sort(function (x, y) {\r\n                return $order.compare(depths[y.uid], depths[x.uid]);\r\n            });\r\n            //\t\tconsole.log(\"_updateBounds\")\r\n            bounds.forEach(function (entity) {\r\n                entity._updateBounds();\r\n            });\r\n            //\t\tconsole.log(\"_updatePosition\")\r\n            var dirtyPositions = this._dirtyPositions;\r\n            $object.keys(dirtyPositions).forEach(function (key) {\r\n                var sprite = dirtyPositions[key];\r\n                delete dirtyPositions[key];\r\n                if (!sprite.isDisposed()) {\r\n                    sprite._updatePosition();\r\n                }\r\n            });\r\n            //\t\tconsole.log(\"_afterChanged\")\r\n            objects.forEach(function (entity) {\r\n                entity._afterChanged();\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_renderFrame\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            if (this.events.isEnabled(\"framestarted\")) {\r\n                this.events.dispatch(\"framestarted\", {\r\n                    type: \"framestarted\",\r\n                    target: this,\r\n                    timestamp: currentTime,\r\n                });\r\n            }\r\n            this._checkComputedStyles();\r\n            this._runTickers(currentTime);\r\n            this._runAnimations(currentTime);\r\n            this._runDirties();\r\n            this._render();\r\n            this._positionHTMLElements();\r\n            if (this.events.isEnabled(\"frameended\")) {\r\n                this.events.dispatch(\"frameended\", {\r\n                    type: \"frameended\",\r\n                    target: this,\r\n                    timestamp: currentTime,\r\n                });\r\n            }\r\n            return this._tickers.length === 0 &&\r\n                this._animations.length === 0 &&\r\n                !this._isDirty;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_runTicker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            if (!this.isDisposed()) {\r\n                this.animationTime = currentTime;\r\n                var done = this._renderFrame(currentTime);\r\n                // No more work to do\r\n                if (done) {\r\n                    this._ticker = null;\r\n                    this.animationTime = null;\r\n                }\r\n                else {\r\n                    rAF(this.fps, this._ticker);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_runTickerNow\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.isDisposed()) {\r\n                for (;;) {\r\n                    var currentTime = performance.now();\r\n                    this.animationTime = currentTime;\r\n                    var done = this._renderFrame(currentTime);\r\n                    if (done) {\r\n                        this.animationTime = null;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_startTicker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            if (this._ticker === null) {\r\n                this.animationTime = null;\r\n                this._ticker = function (currentTime) {\r\n                    _this._runTicker(currentTime);\r\n                };\r\n                rAF(this.fps, this._ticker);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_addDirtyEntity\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity) {\r\n            if (this._dirty[entity.uid] === undefined) {\r\n                this._isDirty = true;\r\n                this._dirty[entity.uid] = entity;\r\n                this._startTicker();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_addDirtyParent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parent) {\r\n            if (this._dirtyParents[parent.uid] === undefined) {\r\n                this._isDirty = true;\r\n                this._isDirtyParents = true;\r\n                this._dirtyParents[parent.uid] = parent;\r\n                this._startTicker();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_addDirtyBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity) {\r\n            if (this._dirtyBounds[entity.uid] === undefined) {\r\n                this._isDirty = true;\r\n                this._dirtyBounds[entity.uid] = entity;\r\n                this._startTicker();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_addDirtyPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (sprite) {\r\n            if (this._dirtyPositions[sprite.uid] === undefined) {\r\n                this._isDirty = true;\r\n                this._dirtyPositions[sprite.uid] = sprite;\r\n                this._startTicker();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_addAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (animation) {\r\n            // TODO use numeric id instead\r\n            if (this._animations.indexOf(animation) === -1) {\r\n                this._animations.push(animation);\r\n                this._startTicker();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_markDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._isDirty = true;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_markDirtyRedraw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this.events.once(\"frameended\", function () {\r\n                _this._isDirty = true;\r\n                _this._startTicker();\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"eachFrame\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            var _this = this;\r\n            this._tickers.push(f);\r\n            this._startTicker();\r\n            return new Disposer(function () {\r\n                $array.removeFirst(_this._tickers, f);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"markDirtyGlobal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (container) {\r\n            var _this = this;\r\n            if (!container) {\r\n                container = this.container;\r\n            }\r\n            console.log(this.width());\r\n            container.walkChildren(function (child) {\r\n                if (child instanceof Container) {\r\n                    _this.markDirtyGlobal(child);\r\n                }\r\n                child.markDirty();\r\n                child.markDirtyBounds();\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Returns width of the target container, in pixels.\r\n     *\r\n     * @return Width\r\n     */\r\n    Object.defineProperty(Root.prototype, \"width\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // TODO make this more efficient, maybe just return the renderer's width ?\r\n            return Math.floor(this.dom.getBoundingClientRect().width);\r\n        }\r\n    });\r\n    /**\r\n     * Returns height of the target container, in pixels.\r\n     *\r\n     * @return Height\r\n     */\r\n    Object.defineProperty(Root.prototype, \"height\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // TODO make this more efficient, maybe just return the renderer's height ?\r\n            return Math.floor(this.dom.getBoundingClientRect().height);\r\n        }\r\n    });\r\n    /**\r\n     * Disposes root and all the content in it.\r\n     */\r\n    Object.defineProperty(Root.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._isDisposed) {\r\n                this._isDisposed = true;\r\n                this._rootContainer.dispose();\r\n                this._renderer.dispose();\r\n                this.horizontalLayout.dispose();\r\n                this.verticalLayout.dispose();\r\n                this.interfaceColors.dispose();\r\n                $array.each(this._disposers, function (x) {\r\n                    x.dispose();\r\n                });\r\n                if (this._inner) {\r\n                    $utils.removeElement(this._inner);\r\n                }\r\n                var tooltipRoot = this.tooltipRoot;\r\n                if (tooltipRoot) {\r\n                    tooltipRoot.dispose();\r\n                }\r\n                $array.remove(registry.rootElements, this);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if root element is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    Object.defineProperty(Root.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._isDisposed;\r\n        }\r\n    });\r\n    /**\r\n     * Triggers screen reader read out a message.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n     * @param  text  Alert text\r\n     */\r\n    Object.defineProperty(Root.prototype, \"readerAlert\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            this._readerAlertElement.innerHTML = $utils.stripTags(text);\r\n        }\r\n    });\r\n    /**\r\n     * Sets themes to be used for the chart.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n     * @param  themes  A list of themes\r\n     */\r\n    Object.defineProperty(Root.prototype, \"setThemes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (themes) {\r\n            this._rootContainer.set(\"themes\", themes);\r\n            var tooltipRoot = this.tooltipRoot;\r\n            if (tooltipRoot) {\r\n                tooltipRoot._rootContainer.set(\"themes\", themes);\r\n                tooltipRoot.tooltipContainer._applyThemes();\r\n            }\r\n            // otherwise new themes are not applied\r\n            var tooltipContainer = this.tooltipContainer;\r\n            if (tooltipContainer) {\r\n                tooltipContainer._applyThemes();\r\n            }\r\n            // @todo review this\r\n            var interfaceColors = this.interfaceColors;\r\n            if (interfaceColors) {\r\n                interfaceColors._applyThemes();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_addTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.tooltipContainer) {\r\n                var tooltipContainer = this._rootContainer.children.push(Container.new(this, { position: \"absolute\", isMeasured: false, width: p100, height: p100, layer: 30 }));\r\n                this.tooltipContainer = tooltipContainer;\r\n                var tooltipRoot = this.tooltipRoot;\r\n                if (!tooltipRoot) {\r\n                    tooltipRoot = this;\r\n                }\r\n                var tooltip = Tooltip.new(tooltipRoot, {});\r\n                this.container.set(\"tooltip\", tooltip);\r\n                tooltip.hide(0);\r\n                this._tooltip = tooltip;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Accesibility\r\n     */\r\n    Object.defineProperty(Root.prototype, \"_registerTabindexOrder\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            if (target.get(\"focusable\")) {\r\n                $array.pushOne(this._tabindexes, target);\r\n            }\r\n            else {\r\n                $array.remove(this._tabindexes, target);\r\n            }\r\n            this._invalidateTabindexes();\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_unregisterTabindexOrder\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            $array.remove(this._tabindexes, target);\r\n            this._invalidateTabindexes();\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_invalidateTabindexes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._tabindexes.sort(function (a, b) {\r\n                var aindex = a.get(\"tabindexOrder\", 0);\r\n                var bindex = b.get(\"tabindexOrder\", 0);\r\n                if (aindex == bindex) {\r\n                    return 0;\r\n                }\r\n                else if (aindex > bindex) {\r\n                    return 1;\r\n                }\r\n                else {\r\n                    return -1;\r\n                }\r\n            });\r\n            var groups = [];\r\n            $array.each(this._tabindexes, function (item, index) {\r\n                if (!item.getPrivate(\"focusElement\")) {\r\n                    _this._makeFocusElement(index, item);\r\n                }\r\n                else {\r\n                    _this._moveFocusElement(index, item);\r\n                }\r\n                var group = item.get(\"focusableGroup\");\r\n                if (group) {\r\n                    if (groups.indexOf(group) !== -1) {\r\n                        // Non-first element in the group, make it not directly focusable\r\n                        item.getPrivate(\"focusElement\").dom.setAttribute(\"tabindex\", \"-1\");\r\n                    }\r\n                    else {\r\n                        groups.push(group);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_updateCurrentFocus\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._focusedSprite) {\r\n                this._decorateFocusElement(this._focusedSprite);\r\n                this._positionFocusElement(this._focusedSprite);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_decorateFocusElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target, focusElement) {\r\n            // Decorate with proper accessibility attributes\r\n            if (!focusElement) {\r\n                focusElement = target.getPrivate(\"focusElement\").dom;\r\n            }\r\n            if (!focusElement) {\r\n                return;\r\n            }\r\n            if (target.get(\"visible\") && target.get(\"role\") != \"tooltip\" && !target.isHidden()) {\r\n                if (focusElement.getAttribute(\"tabindex\") != \"-1\") {\r\n                    focusElement.setAttribute(\"tabindex\", \"\" + this.tabindex);\r\n                }\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"tabindex\");\r\n            }\r\n            var role = target.get(\"role\");\r\n            if (role) {\r\n                focusElement.setAttribute(\"role\", role);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"role\");\r\n            }\r\n            var ariaLabel = target.get(\"ariaLabel\");\r\n            if (ariaLabel) {\r\n                var label = populateString(target, ariaLabel);\r\n                focusElement.setAttribute(\"aria-label\", label);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-label\");\r\n            }\r\n            var ariaLive = target.get(\"ariaLive\");\r\n            if (ariaLive) {\r\n                focusElement.setAttribute(\"aria-live\", ariaLive);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-live\");\r\n            }\r\n            var ariaChecked = target.get(\"ariaChecked\");\r\n            if (ariaChecked != null) {\r\n                focusElement.setAttribute(\"aria-checked\", ariaChecked ? \"true\" : \"false\");\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-checked\");\r\n            }\r\n            if (target.get(\"ariaHidden\")) {\r\n                focusElement.setAttribute(\"aria-hidden\", \"hidden\");\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-hidden\");\r\n            }\r\n            var ariaOrientation = target.get(\"ariaOrientation\");\r\n            if (ariaOrientation) {\r\n                focusElement.setAttribute(\"aria-orientation\", ariaOrientation);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-orientation\");\r\n            }\r\n            var ariaValueNow = target.get(\"ariaValueNow\");\r\n            if (ariaValueNow) {\r\n                focusElement.setAttribute(\"aria-valuenow\", ariaValueNow);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-valuenow\");\r\n            }\r\n            var ariaValueMin = target.get(\"ariaValueMin\");\r\n            if (ariaValueMin) {\r\n                focusElement.setAttribute(\"aria-valuemin\", ariaValueMin);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-valuemin\");\r\n            }\r\n            var ariaValueMax = target.get(\"ariaValueMax\");\r\n            if (ariaValueMax) {\r\n                focusElement.setAttribute(\"aria-valuemax\", ariaValueMax);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-valuemax\");\r\n            }\r\n            var ariaValueText = target.get(\"ariaValueText\");\r\n            if (ariaValueText) {\r\n                focusElement.setAttribute(\"aria-valuetext\", ariaValueText);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-valuetext\");\r\n            }\r\n            var ariaControls = target.get(\"ariaControls\");\r\n            if (ariaControls) {\r\n                focusElement.setAttribute(\"aria-controls\", ariaControls);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-controls\");\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_makeFocusElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, target) {\r\n            var _this = this;\r\n            if (target.getPrivate(\"focusElement\")) {\r\n                return;\r\n            }\r\n            // Init\r\n            var focusElement = document.createElement(\"div\");\r\n            if (target.get(\"role\") != \"tooltip\") {\r\n                focusElement.tabIndex = this.tabindex;\r\n            }\r\n            focusElement.style.position = \"absolute\";\r\n            $utils.setInteractive(focusElement, false);\r\n            var disposers = [];\r\n            target.setPrivate(\"focusElement\", {\r\n                dom: focusElement,\r\n                disposers: disposers,\r\n            });\r\n            this._decorateFocusElement(target);\r\n            disposers.push($utils.addEventListener(focusElement, \"focus\", function (ev) {\r\n                _this._handleFocus(ev, index);\r\n            }));\r\n            disposers.push($utils.addEventListener(focusElement, \"blur\", function (ev) {\r\n                _this._handleBlur(ev, index);\r\n            }));\r\n            this._moveFocusElement(index, target);\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_removeFocusElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            $array.remove(this._tabindexes, target);\r\n            var focusElement = target.getPrivate(\"focusElement\");\r\n            if (focusElement) {\r\n                var container = this._focusElementContainer;\r\n                container.removeChild(focusElement.dom);\r\n                $array.each(focusElement.disposers, function (x) {\r\n                    x.dispose();\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_hideFocusElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var focusElement = target.getPrivate(\"focusElement\");\r\n            focusElement.dom.style.display = \"none\";\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_moveFocusElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, target) {\r\n            // Get container\r\n            var container = this._focusElementContainer;\r\n            var focusElement = target.getPrivate(\"focusElement\").dom;\r\n            if (focusElement === this._focusElementContainer.children[index]) {\r\n                // Nothing to do\r\n                return;\r\n            }\r\n            var next = this._focusElementContainer.children[index + 1];\r\n            if (next) {\r\n                container.insertBefore(focusElement, next);\r\n            }\r\n            else {\r\n                container.append(focusElement);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_positionFocusElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var bounds = target.globalBounds();\r\n            var width = bounds.right == bounds.left ? target.width() : bounds.right - bounds.left;\r\n            var height = bounds.top == bounds.bottom ? target.height() : bounds.bottom - bounds.top;\r\n            var focusElement = target.getPrivate(\"focusElement\").dom;\r\n            focusElement.style.top = (bounds.top - 2) + \"px\";\r\n            focusElement.style.left = (bounds.left - 2) + \"px\";\r\n            focusElement.style.width = (width + 4) + \"px\";\r\n            focusElement.style.height = (height + 4) + \"px\";\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_handleFocus\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (ev, index) {\r\n            // Get element\r\n            var focused = this._tabindexes[index];\r\n            // Jump over hidden elements\r\n            if (!focused.isVisibleDeep()) {\r\n                this._focusNext(ev.target, this._isShift ? -1 : 1);\r\n                return;\r\n            }\r\n            // Size and position\r\n            this._positionFocusElement(focused);\r\n            //this._decorateFocusElement(focused);\r\n            this._focusedSprite = focused;\r\n            if (focused.events.isEnabled(\"focus\")) {\r\n                focused.events.dispatch(\"focus\", {\r\n                    type: \"focus\",\r\n                    originalEvent: ev,\r\n                    target: focused\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_focusNext\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (el, direction) {\r\n            var focusableElements = Array.from(document.querySelectorAll([\r\n                'a[href]',\r\n                'area[href]',\r\n                'button:not([disabled])',\r\n                'details',\r\n                'input:not([disabled])',\r\n                'iframe:not([disabled])',\r\n                'select:not([disabled])',\r\n                'textarea:not([disabled])',\r\n                '[contentEditable=\"\"]',\r\n                '[contentEditable=\"true\"]',\r\n                '[contentEditable=\"TRUE\"]',\r\n                '[tabindex]:not([tabindex^=\"-\"])',\r\n                //':not([disabled])'\r\n            ].join(',')));\r\n            var index = focusableElements.indexOf(el) + direction;\r\n            if (index < 0) {\r\n                index = focusableElements.length - 1;\r\n            }\r\n            else if (index >= focusableElements.length) {\r\n                index = 0;\r\n            }\r\n            focusableElements[index].focus();\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_handleBlur\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (ev, _index) {\r\n            var focused = this._focusedSprite;\r\n            if (focused && focused.events.isEnabled(\"blur\")) {\r\n                focused.events.dispatch(\"blur\", {\r\n                    type: \"blur\",\r\n                    originalEvent: ev,\r\n                    target: focused\r\n                });\r\n            }\r\n            this._focusedSprite = undefined;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Root.prototype, \"updateTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var text = $utils.stripTags(target._getText());\r\n            var tooltipElement = target.getPrivate(\"tooltipElement\");\r\n            if (target.get(\"role\") == \"tooltip\" && text != \"\") {\r\n                if (!tooltipElement) {\r\n                    tooltipElement = this._makeTooltipElement(target);\r\n                }\r\n                if (tooltipElement.innerHTML != text) {\r\n                    tooltipElement.innerHTML = text;\r\n                }\r\n            }\r\n            else if (tooltipElement) {\r\n                tooltipElement.remove();\r\n                target.removePrivate(\"tooltipElement\");\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_makeTooltipElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var container = this._tooltipElementContainer;\r\n            var tooltipElement = document.createElement(\"div\");\r\n            tooltipElement.style.position = \"absolute\";\r\n            tooltipElement.style.top = \"-1000000px\";\r\n            tooltipElement.style.opacity = \"0.0000001\";\r\n            $utils.setInteractive(tooltipElement, false);\r\n            this._decorateFocusElement(target, tooltipElement);\r\n            container.append(tooltipElement);\r\n            target.setPrivate(\"tooltipElement\", tooltipElement);\r\n            return tooltipElement;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_invalidateAccessibility\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            this._focusElementDirty = true;\r\n            var focusElement = target.getPrivate(\"focusElement\");\r\n            if (target.get(\"focusable\")) {\r\n                if (focusElement) {\r\n                    this._decorateFocusElement(target);\r\n                    this._positionFocusElement(target);\r\n                }\r\n                // else {\r\n                // \tthis._renderer._makeFocusElement(0, this);\r\n                // }\r\n            }\r\n            else if (focusElement) {\r\n                this._removeFocusElement(target);\r\n            }\r\n            //this.updateCurrentFocus();\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if `target` is currently focused.\r\n     *\r\n     * @param   target  Target\r\n     * @return          Focused?\r\n     */\r\n    Object.defineProperty(Root.prototype, \"focused\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            return this._focusedSprite === target;\r\n        }\r\n    });\r\n    /**\r\n     * Converts document coordinates to coordinates withing root element.\r\n     *\r\n     * @param   point  Document point\r\n     * @return         Root point\r\n     */\r\n    Object.defineProperty(Root.prototype, \"documentPointToRoot\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            var bbox = this.dom.getBoundingClientRect();\r\n            return {\r\n                x: point.x - bbox.left,\r\n                y: point.y - bbox.top\r\n            };\r\n        }\r\n    });\r\n    /**\r\n     * Converts root coordinates to document\r\n     *\r\n     * @param   point  Document point\r\n     * @return         Root point\r\n     */\r\n    Object.defineProperty(Root.prototype, \"rootPointToDocument\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            var bbox = this.dom.getBoundingClientRect();\r\n            return {\r\n                x: point.x + bbox.left,\r\n                y: point.y + bbox.top\r\n            };\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Root.prototype, \"addDisposer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (disposer) {\r\n            this._disposers.push(disposer);\r\n            return disposer;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_updateComputedStyles\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var styles = window.getComputedStyle(this.dom);\r\n            var fontHash = \"\";\r\n            $object.each(styles, function (key, val) {\r\n                if ($type.isString(key) && key.match(/^font/)) {\r\n                    fontHash += val;\r\n                }\r\n            });\r\n            var changed = fontHash != this._fontHash;\r\n            if (changed) {\r\n                this._fontHash = fontHash;\r\n            }\r\n            return changed;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_checkComputedStyles\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._updateComputedStyles()) {\r\n                this._invalidateLabelBounds(this.container);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_invalidateLabelBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var _this = this;\r\n            if (target instanceof Container) {\r\n                target.children.each(function (child) {\r\n                    _this._invalidateLabelBounds(child);\r\n                });\r\n            }\r\n            else if (target instanceof Text) {\r\n                target.markDirtyBounds();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * To all the clever heads out there. Yes, we did not make any attempts to\r\n     * scramble this.\r\n     *\r\n     * This is a part of a tool meant for our users to manage their commercial\r\n     * licenses for removal of amCharts branding from charts.\r\n     *\r\n     * The only legit way to do so is to purchase a commercial license for amCharts:\r\n     * https://www.amcharts.com/online-store/\r\n     *\r\n     * Removing or altering this code, or disabling amCharts branding in any other\r\n     * way is against the license and thus illegal.\r\n     */\r\n    Object.defineProperty(Root.prototype, \"_hasLicense\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            for (var i = 0; i < registry.licenses.length; i++) {\r\n                if (registry.licenses[i].match(/^AM5C.{5,}/i)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_licenseApplied\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._logo) {\r\n                this._logo.set(\"forceHidden\", true);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"debugGhostView\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this._renderer.debugGhostView;\r\n        },\r\n        /**\r\n         * @ignore\r\n         */\r\n        set: function (value) {\r\n            this._renderer.debugGhostView = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Root.prototype, \"tapToActivate\", {\r\n        /**\r\n         * @return Needs a tap to activate touch functions\r\n         */\r\n        get: function () {\r\n            return this._renderer.tapToActivate;\r\n        },\r\n        /**\r\n         * Set this to `true` if you need chart to require first a tap onto it before\r\n         * touch gesture related functionality like zoom/pan is turned on.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\r\n         * @default false\r\n         * @since 5.2.9\r\n         * @param  value  Needs a tap to activate touch functions\r\n         */\r\n        set: function (value) {\r\n            this._renderer.tapToActivate = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Root.prototype, \"tapToActivateTimeout\", {\r\n        /**\r\n         * @return Timeout\r\n         */\r\n        get: function () {\r\n            return this._renderer.tapToActivateTimeout;\r\n        },\r\n        /**\r\n         * If `tapToActivate` is set to `true`, this setting will determine number\r\n         * of milliseconds the chart will stay \"active\", before releasing the\r\n         * controls back to the page.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\r\n         * @default 3000\r\n         * @since 5.2.9\r\n         * @param  value  Timeout\r\n         */\r\n        set: function (value) {\r\n            this._renderer.tapToActivateTimeout = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_makeHTMLElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var _this = this;\r\n            // Get container\r\n            var container = this._htmlElementContainer;\r\n            // Init\r\n            var htmlElement = document.createElement(\"div\");\r\n            target.setPrivate(\"htmlElement\", htmlElement);\r\n            //htmlElement.tabIndex = this.tabindex;\r\n            htmlElement.style.position = \"absolute\";\r\n            htmlElement.style.overflow = \"auto\";\r\n            htmlElement.style.boxSizing = \"border-box\";\r\n            // Translate events\r\n            if (target.events.isEnabled(\"click\")) {\r\n                this._disposers.push($utils.addEventListener(htmlElement, \"click\", function (ev) {\r\n                    var downEvent = _this._renderer.getEvent(ev);\r\n                    target.events.dispatch(\"click\", {\r\n                        type: \"click\",\r\n                        originalEvent: downEvent.event,\r\n                        point: downEvent.point,\r\n                        simulated: false,\r\n                        target: target\r\n                    });\r\n                }));\r\n            }\r\n            this._positionHTMLElement(target);\r\n            container.append(htmlElement);\r\n            $array.pushOne(this._htmlEnabledContainers, target);\r\n            return htmlElement;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_positionHTMLElements\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $array.each(this._htmlEnabledContainers, function (target) {\r\n                _this._positionHTMLElement(target);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_positionHTMLElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var htmlElement = target.getPrivate(\"htmlElement\");\r\n            if (htmlElement) {\r\n                // Translate settings\r\n                var visualSettings = [\"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\", \"minWidth\", \"minHeight\", \"maxWidth\", \"maxHeight\"];\r\n                $array.each(visualSettings, function (setting) {\r\n                    var value = target.get(setting);\r\n                    if (value) {\r\n                        htmlElement.style[setting] = value + \"px\";\r\n                    }\r\n                    else {\r\n                        htmlElement.style[setting] = \"\";\r\n                    }\r\n                });\r\n                // Deal with opacity\r\n                var opacity_1 = target.compositeOpacity();\r\n                setTimeout(function () {\r\n                    htmlElement.style.opacity = opacity_1 + \"\";\r\n                }, 10);\r\n                var visible = target.isVisibleDeep();\r\n                if (visible) {\r\n                    htmlElement.style.display = \"block\";\r\n                }\r\n                // Deal with position\r\n                var bounds = target.globalBounds();\r\n                htmlElement.style.top = (bounds.top) + \"px\";\r\n                htmlElement.style.left = (bounds.left) + \"px\";\r\n                // Use width/height if those are set\r\n                var width = target.get(\"width\");\r\n                var height = target.get(\"height\");\r\n                var w = 0;\r\n                var h = 0;\r\n                if (width) {\r\n                    w = target.width();\r\n                }\r\n                if (height) {\r\n                    h = target.height();\r\n                }\r\n                if (!width || !height) {\r\n                    htmlElement.style.width = \"\";\r\n                    htmlElement.style.height = \"\";\r\n                    var bbox = htmlElement.getBoundingClientRect();\r\n                    w = bbox.width;\r\n                    h = bbox.height;\r\n                    target._adjustedLocalBounds = { left: 0, right: 0, top: 0, bottom: 0 };\r\n                    target.setPrivate(\"minWidth\", w);\r\n                    target.setPrivate(\"minHeight\", h);\r\n                }\r\n                else {\r\n                    target.removePrivate(\"minWidth\");\r\n                    target.removePrivate(\"minHeight\");\r\n                }\r\n                if (w > 0) {\r\n                    htmlElement.style.minWidth = (w) + \"px\";\r\n                }\r\n                if (h > 0) {\r\n                    htmlElement.style.minHeight = (h) + \"px\";\r\n                }\r\n                // Hide or show\r\n                if (!visible || opacity_1 == 0) {\r\n                    htmlElement.style.display = \"none\";\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_setHTMLContent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target, html) {\r\n            var htmlElement = target.getPrivate(\"htmlElement\");\r\n            if (!htmlElement) {\r\n                htmlElement = this._makeHTMLElement(target);\r\n            }\r\n            if (htmlElement.innerHTML != html) {\r\n                htmlElement.innerHTML = html;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_removeHTMLContent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var htmlElement = target.getPrivate(\"htmlElement\");\r\n            if (htmlElement) {\r\n                this._htmlElementContainer.removeChild(htmlElement);\r\n            }\r\n            $array.remove(this._htmlEnabledContainers, target);\r\n        }\r\n    });\r\n    return Root;\r\n}());\r\nexport { Root };\r\n//# sourceMappingURL=Root.js.map","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"./Graphics\";\r\n/**\r\n * Draws a circle.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nvar Circle = /** @class */ (function (_super) {\r\n    __extends(Circle, _super);\r\n    function Circle() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Circle.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"radius\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Circle.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this._clear) {\r\n                this._display.drawCircle(0, 0, this.get(\"radius\", 10));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Circle, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Circle\"\r\n    });\r\n    Object.defineProperty(Circle, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([Circle.className])\r\n    });\r\n    return Circle;\r\n}(Graphics));\r\nexport { Circle };\r\n//# sourceMappingURL=Circle.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"../../core/util/Entity\";\r\n/**\r\n * A universal placeholder for bullet elements.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\r\n */\r\nvar Bullet = /** @class */ (function (_super) {\r\n    __extends(Bullet, _super);\r\n    function Bullet() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        // used by MapPolygons where one data item can have multiple bullets of the same kind\r\n        Object.defineProperty(_this, \"_index\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Target series object if it's a bullet for series.\r\n         */\r\n        Object.defineProperty(_this, \"series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Bullet.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // Applying themes because bullet will not have parent\r\n            _super.prototype._afterNewApplyThemes.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Bullet.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"sprite\")) {\r\n                var sprite = this.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.setAll({ position: \"absolute\", role: \"figure\" });\r\n                    this._disposers.push(sprite);\r\n                }\r\n            }\r\n            if (this.isDirty(\"locationX\") || this.isDirty(\"locationY\")) {\r\n                if (this.series) {\r\n                    this.series._positionBullet(this);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Bullet, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Bullet\"\r\n    });\r\n    Object.defineProperty(Bullet, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Entity.classNames.concat([Bullet.className])\r\n    });\r\n    return Bullet;\r\n}(Entity));\r\nexport { Bullet };\r\n//# sourceMappingURL=Bullet.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"./Entity\";\r\nimport { Color } from \"./Color\";\r\n/**\r\n * An object which holds list of colors and can generate new ones.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Color_sets} for more info\r\n */\r\nvar ColorSet = /** @class */ (function (_super) {\r\n    __extends(ColorSet, _super);\r\n    function ColorSet() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    //protected _currentPass: number = 0;\r\n    Object.defineProperty(ColorSet.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // Applying themes because color set will not have parent\r\n            _super.prototype._afterNewApplyThemes.call(this);\r\n            this._dirty[\"colors\"] = false;\r\n        }\r\n    });\r\n    Object.defineProperty(ColorSet.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.isDirty(\"colors\")) {\r\n                this.reset();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ColorSet.prototype, \"generateColors\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setPrivate(\"currentPass\", this.getPrivate(\"currentPass\", 0) + 1);\r\n            var pass = this.getPrivate(\"currentPass\");\r\n            var colors = this.get(\"colors\", [this.get(\"baseColor\", Color.fromHex(0xff0000))]);\r\n            if (!this.getPrivate(\"numColors\")) {\r\n                this.setPrivate(\"numColors\", colors.length);\r\n            }\r\n            //const len = colors.length;\r\n            var len = this.getPrivate(\"numColors\");\r\n            //const start = len - this.getPrivate(\"numColors\")!;\r\n            var start = 0;\r\n            var passOptions = this.get(\"passOptions\");\r\n            var reuse = this.get(\"reuse\");\r\n            for (var i = start; i < len; i++) {\r\n                if (reuse) {\r\n                    colors.push(colors[i]);\r\n                }\r\n                else {\r\n                    var hsl = colors[i].toHSL();\r\n                    var h = hsl.h + (passOptions.hue || 0) * pass;\r\n                    while (h > 1)\r\n                        h -= 1;\r\n                    var s = hsl.s + (passOptions.saturation || 0) * pass;\r\n                    //if (s > 1) s -= Math.floor(s);\r\n                    if (s > 1)\r\n                        s = 1;\r\n                    if (s < 0)\r\n                        s = 0;\r\n                    var l = hsl.l + (passOptions.lightness || 0) * pass;\r\n                    //if (l > 1) l -= Math.floor(l);\r\n                    while (l > 1)\r\n                        l -= 1;\r\n                    colors.push(Color.fromHSL(h, s, l));\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns a [[Color]] at specific index.\r\n     *\r\n     * If there's no color at this index, a new color is generated.\r\n     *\r\n     * @param   index  Index\r\n     * @return         Color\r\n     */\r\n    Object.defineProperty(ColorSet.prototype, \"getIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            var colors = this.get(\"colors\", []);\r\n            var saturation = this.get(\"saturation\");\r\n            if (index >= colors.length) {\r\n                this.generateColors();\r\n                return this.getIndex(index);\r\n            }\r\n            return saturation != null ? Color.saturate(colors[index], saturation) : colors[index];\r\n        }\r\n    });\r\n    /**\r\n     * Returns next [[Color]] in the list.\r\n     *\r\n     * If the list is out of colors, new ones are generated dynamically.\r\n     */\r\n    Object.defineProperty(ColorSet.prototype, \"next\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var currentStep = this.getPrivate(\"currentStep\", this.get(\"startIndex\", 0));\r\n            this.setPrivate(\"currentStep\", currentStep + this.get(\"step\", 1));\r\n            return this.getIndex(currentStep);\r\n        }\r\n    });\r\n    /**\r\n     * Resets counter to the start of the list, so the next call for `next()` will\r\n     * return the first color.\r\n     */\r\n    Object.defineProperty(ColorSet.prototype, \"reset\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setPrivate(\"currentStep\", this.get(\"startIndex\", 0));\r\n            this.setPrivate(\"currentPass\", 0);\r\n        }\r\n    });\r\n    Object.defineProperty(ColorSet, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"ColorSet\"\r\n    });\r\n    Object.defineProperty(ColorSet, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Entity.classNames.concat([ColorSet.className])\r\n    });\r\n    return ColorSet;\r\n}(Entity));\r\nexport { ColorSet };\r\n//# sourceMappingURL=ColorSet.js.map","import { __assign } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\n/**\r\n * Returns a `Promise` which can be used to execute code after number of\r\n * milliseconds.\r\n *\r\n * @param   ms  Sleep duration in ms\r\n * @return      Promise\r\n */\r\nexport function sleep(ms) {\r\n    return new Promise(function (resolve, _reject) {\r\n        setTimeout(resolve, ms);\r\n    });\r\n}\r\n/**\r\n * Maps time period names to their numeric representations in milliseconds.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport var timeUnitDurations = {\r\n    millisecond: 1,\r\n    second: 1000,\r\n    minute: 60000,\r\n    hour: 3600000,\r\n    day: 86400000,\r\n    week: 604800000,\r\n    month: 365.242 / 12 * 86400000,\r\n    year: 31536000000\r\n};\r\n/**\r\n * Returns the next time unit that goes after source `unit`.\r\n *\r\n * E.g. \"hour\" is the next unit after \"minute\", etc.\r\n *\r\n * @ignore Exclude from docs\r\n * @param unit  Source time unit\r\n * @return Next time unit\r\n */\r\nexport function getNextUnit(unit) {\r\n    switch (unit) {\r\n        case \"year\":\r\n            return;\r\n        case \"month\":\r\n            return \"year\";\r\n        case \"week\":\r\n            return \"month\";\r\n        case \"day\":\r\n            return \"month\"; // not a mistake\r\n        case \"hour\":\r\n            return \"day\";\r\n        case \"minute\":\r\n            return \"hour\";\r\n        case \"second\":\r\n            return \"minute\";\r\n        case \"millisecond\":\r\n            return \"second\";\r\n    }\r\n}\r\n/**\r\n * Returns number of milliseconds in the `count` of time `unit`.\r\n *\r\n * Available units: \"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"week\",\r\n * \"month\", and \"year\".\r\n *\r\n * @param unit   Time unit\r\n * @param count  Number of units\r\n * @return Milliseconds\r\n */\r\nexport function getDuration(unit, count) {\r\n    if (count == null) {\r\n        count = 1;\r\n    }\r\n    return timeUnitDurations[unit] * count;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getIntervalDuration(interval) {\r\n    if (interval) {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    return 0;\r\n}\r\nexport function getDateIntervalDuration(interval, date, firstDateOfWeek, utc, timezone) {\r\n    var unit = interval.timeUnit;\r\n    var count = interval.count;\r\n    if (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    else {\r\n        var firstTime = round(new Date(date.getTime()), unit, count, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        var lastTime = firstTime + count * getDuration(unit) * 1.1;\r\n        lastTime = round(new Date(lastTime), unit, 1, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        return lastTime - firstTime;\r\n    }\r\n}\r\n/**\r\n * Returns current `Date` object.\r\n *\r\n * @return Current date\r\n */\r\nexport function now() {\r\n    return new Date();\r\n}\r\n/**\r\n * Returns current timestamp.\r\n *\r\n * @return Current timestamp\r\n */\r\nexport function getTime() {\r\n    return now().getTime();\r\n}\r\n/**\r\n * Returns a copy of the `Date` object.\r\n *\r\n * @param date  Source date\r\n * @return Copy\r\n */\r\nexport function copy(date) {\r\n    return new Date(date.getTime()); // todo: check if this is ok. new Date(date) used to strip milliseconds on FF in v3\r\n}\r\n/**\r\n * Checks if the `unit` part of two `Date` objects do not match. Two dates\r\n * represent a \"range\" of time, rather the same time date.\r\n *\r\n * @param timeOne  timestamp\r\n * @param timeTwo  timestamp\r\n * @param unit     Time unit to check\r\n * @return Range?\r\n */\r\nexport function checkChange(timeOne, timeTwo, unit, utc, timezone) {\r\n    // quick\r\n    if ((timeTwo - timeOne) > getDuration(unit, 1.2)) {\r\n        return true;\r\n    }\r\n    var dateOne = new Date(timeOne);\r\n    var dateTwo = new Date(timeTwo);\r\n    if (timezone) {\r\n        dateOne = timezone.convertLocal(dateOne);\r\n        dateTwo = timezone.convertLocal(dateTwo);\r\n    }\r\n    var timeZoneOffset1 = 0;\r\n    var timeZoneOffset2 = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset1 = dateOne.getTimezoneOffset();\r\n        dateOne.setUTCMinutes(dateOne.getUTCMinutes() - timeZoneOffset1);\r\n        timeZoneOffset2 = dateTwo.getTimezoneOffset();\r\n        dateTwo.setUTCMinutes(dateTwo.getUTCMinutes() - timeZoneOffset2);\r\n    }\r\n    var changed = false;\r\n    switch (unit) {\r\n        case \"year\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"month\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"day\":\r\n            if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCDate() != dateTwo.getUTCDate()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"hour\":\r\n            if (dateOne.getUTCHours() != dateTwo.getUTCHours()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"minute\":\r\n            if (dateOne.getUTCMinutes() != dateTwo.getUTCMinutes()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"second\":\r\n            if (dateOne.getUTCSeconds() != dateTwo.getUTCSeconds()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"millisecond\":\r\n            if (dateOne.getTime() != dateTwo.getTime()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n    }\r\n    if (changed) {\r\n        return changed;\r\n    }\r\n    var nextUnit = getNextUnit(unit);\r\n    if (nextUnit) {\r\n        return checkChange(timeOne, timeTwo, nextUnit, utc, timezone);\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds `count` of time `unit` to the source date. Returns a modified `Date` object.\r\n *\r\n * @param date   Source date\r\n * @param unit   Time unit\r\n * @param count  Number of units to add\r\n * @return Modified date\r\n */\r\nexport function add(date, unit, count, utc, timezone) {\r\n    var timeZoneOffset = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset = date.getTimezoneOffset();\r\n        if (timezone) {\r\n            timeZoneOffset -= timezone.offsetUTC(date);\r\n        }\r\n        date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n    }\r\n    switch (unit) {\r\n        case \"day\":\r\n            var day = date.getUTCDate();\r\n            date.setUTCDate(day + count);\r\n            break;\r\n        case \"second\":\r\n            var seconds = date.getUTCSeconds();\r\n            date.setUTCSeconds(seconds + count);\r\n            break;\r\n        case \"millisecond\":\r\n            var milliseconds = date.getUTCMilliseconds();\r\n            date.setUTCMilliseconds(milliseconds + count);\r\n            break;\r\n        case \"hour\":\r\n            var hours = date.getUTCHours();\r\n            date.setUTCHours(hours + count);\r\n            break;\r\n        case \"minute\":\r\n            var minutes = date.getUTCMinutes();\r\n            date.setUTCMinutes(minutes + count);\r\n            break;\r\n        case \"year\":\r\n            var year = date.getUTCFullYear();\r\n            date.setUTCFullYear(year + count);\r\n            break;\r\n        case \"month\":\r\n            var month = date.getUTCMonth();\r\n            date.setUTCMonth(month + count);\r\n            break;\r\n        case \"week\":\r\n            var wday = date.getUTCDate();\r\n            date.setUTCDate(wday + count * 7);\r\n            break;\r\n    }\r\n    if (!utc && unit != \"millisecond\") {\r\n        date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n        if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n            var newTimeZoneOffset = date.getTimezoneOffset();\r\n            if (timezone) {\r\n                newTimeZoneOffset += timezone.offsetUTC(date);\r\n            }\r\n            if (newTimeZoneOffset != timeZoneOffset) {\r\n                var diff = newTimeZoneOffset - timeZoneOffset;\r\n                date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                // solves issues if new time falls back to old time zone\r\n                if (date.getTimezoneOffset() != newTimeZoneOffset) {\r\n                    date.setUTCMinutes(date.getUTCMinutes() - diff);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return date;\r\n}\r\n/**\r\n * \"Rounds\" the date to specific time unit.\r\n *\r\n * @param date             Source date\r\n * @param unit             Time unit\r\n * @param count            Number of units to round to\r\n * @param firstDateOfWeek  First day of week\r\n * @param utc              Use UTC timezone\r\n * @param firstDate        First date to round to\r\n * @param roundMinutes     Minutes to round to (some timezones use non-whole hour)\r\n * @param timezone         Use specific named timezone when rounding\r\n * @return New date\r\n */\r\nexport function round(date, unit, count, firstDateOfWeek, utc, firstDate, timezone) {\r\n    if (!timezone || utc) {\r\n        var timeZoneOffset = 0;\r\n        if (!utc && unit != \"millisecond\") {\r\n            timeZoneOffset = date.getTimezoneOffset();\r\n            date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n        }\r\n        switch (unit) {\r\n            case \"day\":\r\n                var day = date.getUTCDate();\r\n                if (count > 1) {\r\n                    //\tday = Math.floor(day / count) * count;\r\n                    if (firstDate) {\r\n                        firstDate = round(firstDate, \"day\", 1);\r\n                        var difference = date.getTime() - firstDate.getTime();\r\n                        var unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                        var duration = getDuration(\"day\", unitCount * count);\r\n                        date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                    }\r\n                }\r\n                else {\r\n                    date.setUTCDate(day);\r\n                }\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"second\":\r\n                var seconds = date.getUTCSeconds();\r\n                if (count > 1) {\r\n                    seconds = Math.floor(seconds / count) * count;\r\n                }\r\n                date.setUTCSeconds(seconds, 0);\r\n                break;\r\n            case \"millisecond\":\r\n                if (count == 1) {\r\n                    return date; // much better for perf!\r\n                }\r\n                var milliseconds = date.getUTCMilliseconds();\r\n                milliseconds = Math.floor(milliseconds / count) * count;\r\n                date.setUTCMilliseconds(milliseconds);\r\n                break;\r\n            case \"hour\":\r\n                var hours = date.getUTCHours();\r\n                if (count > 1) {\r\n                    hours = Math.floor(hours / count) * count;\r\n                }\r\n                date.setUTCHours(hours, 0, 0, 0);\r\n                break;\r\n            case \"minute\":\r\n                var minutes = date.getUTCMinutes();\r\n                milliseconds = date.getUTCMilliseconds();\r\n                if (count > 1) {\r\n                    minutes = Math.floor(minutes / count) * count;\r\n                }\r\n                date.setUTCMinutes(minutes, 0, 0);\r\n                break;\r\n            case \"month\":\r\n                var month = date.getUTCMonth();\r\n                if (count > 1) {\r\n                    month = Math.floor(month / count) * count;\r\n                }\r\n                date.setUTCMonth(month, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"year\":\r\n                var year = date.getUTCFullYear();\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                date.setUTCFullYear(year, 0, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"week\":\r\n                var wday = date.getUTCDate();\r\n                var weekDay = date.getUTCDay();\r\n                if (!$type.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekDay >= firstDateOfWeek) {\r\n                    wday = wday - weekDay + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    wday = wday - (7 + weekDay) + firstDateOfWeek;\r\n                }\r\n                date.setUTCDate(wday);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n        }\r\n        if (!utc && unit != \"millisecond\") {\r\n            date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n            if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n                var newTimeZoneOffset = date.getTimezoneOffset();\r\n                if (newTimeZoneOffset != timeZoneOffset) {\r\n                    var diff = newTimeZoneOffset - timeZoneOffset;\r\n                    date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                }\r\n            }\r\n        }\r\n        return date;\r\n    }\r\n    else {\r\n        if (isNaN(date.getTime())) {\r\n            return date;\r\n        }\r\n        var tzoffset = timezone.offsetUTC(date);\r\n        var timeZoneOffset = date.getTimezoneOffset();\r\n        var parsedDate = timezone.parseDate(date);\r\n        //console.log(parsedDate)\r\n        var year = parsedDate.year;\r\n        var month = parsedDate.month;\r\n        var day = parsedDate.day;\r\n        var hour = parsedDate.hour;\r\n        var minute = parsedDate.minute;\r\n        var second = parsedDate.second;\r\n        var millisecond = parsedDate.millisecond;\r\n        var weekday = parsedDate.weekday;\r\n        switch (unit) {\r\n            case \"day\":\r\n                if (count > 1 && firstDate) {\r\n                    firstDate = round(firstDate, \"day\", 1, firstDateOfWeek, utc, undefined, timezone);\r\n                    var difference = date.getTime() - firstDate.getTime();\r\n                    var unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                    var duration = getDuration(\"day\", unitCount * count);\r\n                    date.setTime(firstDate.getTime() + duration);\r\n                    parsedDate = timezone.parseDate(date);\r\n                    year = parsedDate.year;\r\n                    month = parsedDate.month;\r\n                    day = parsedDate.day;\r\n                }\r\n                hour = 0;\r\n                minute = tzoffset - timeZoneOffset;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"second\":\r\n                minute += tzoffset - timeZoneOffset;\r\n                if (count > 1) {\r\n                    second = Math.floor(second / count) * count;\r\n                }\r\n                millisecond = 0;\r\n                break;\r\n            case \"millisecond\":\r\n                minute += tzoffset - timeZoneOffset;\r\n                if (count > 1) {\r\n                    millisecond = Math.floor(millisecond / count) * count;\r\n                }\r\n                break;\r\n            case \"hour\":\r\n                if (count > 1) {\r\n                    hour = Math.floor(hour / count) * count;\r\n                }\r\n                minute = tzoffset - timeZoneOffset;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"minute\":\r\n                if (count > 1) {\r\n                    minute = Math.floor(minute / count) * count;\r\n                }\r\n                minute += tzoffset - timeZoneOffset;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"month\":\r\n                if (count > 1) {\r\n                    month = Math.floor(month / count) * count;\r\n                }\r\n                day = 1;\r\n                hour = 0;\r\n                minute = tzoffset - timeZoneOffset;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"year\":\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                month = 0;\r\n                day = 1;\r\n                hour = 0;\r\n                minute = tzoffset - timeZoneOffset;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"week\":\r\n                if (!$type.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekday >= firstDateOfWeek) {\r\n                    day = day - weekday + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    day = day - (7 + weekday) + firstDateOfWeek;\r\n                }\r\n                hour = 0;\r\n                minute = tzoffset - timeZoneOffset;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n        }\r\n        date = new Date(year, month, day, hour, minute, second, millisecond);\r\n        var newOffset = date.getTimezoneOffset();\r\n        if (newOffset != timeZoneOffset) {\r\n            date.setTime(date.getTime() + (timeZoneOffset - newOffset) * 60000);\r\n        }\r\n        return date;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function chooseInterval(index, duration, gridCount, intervals) {\r\n    var gridInterval = intervals[index];\r\n    var intervalDuration = getIntervalDuration(gridInterval);\r\n    var lastIndex = intervals.length - 1;\r\n    if (index >= lastIndex) {\r\n        return __assign({}, intervals[lastIndex]);\r\n    }\r\n    var count = Math.ceil(duration / intervalDuration);\r\n    if (duration < intervalDuration && index > 0) {\r\n        return __assign({}, intervals[index - 1]);\r\n    }\r\n    if (count <= gridCount) {\r\n        return __assign({}, intervals[index]);\r\n    }\r\n    else {\r\n        if (index + 1 < intervals.length) {\r\n            return chooseInterval(index + 1, duration, gridCount, intervals);\r\n        }\r\n        else {\r\n            return __assign({}, intervals[index]);\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getUnitValue(date, unit) {\r\n    switch (unit) {\r\n        case \"day\":\r\n            return date.getDate();\r\n        case \"second\":\r\n            return date.getSeconds();\r\n        case \"millisecond\":\r\n            return date.getMilliseconds();\r\n        case \"hour\":\r\n            return date.getHours();\r\n        case \"minute\":\r\n            return date.getMinutes();\r\n        case \"month\":\r\n            return date.getMonth();\r\n        case \"year\":\r\n            return date.getFullYear();\r\n        case \"week\":\r\n            return $utils.getWeek(date);\r\n    }\r\n}\r\n//# sourceMappingURL=Time.js.map","import { __extends } from \"tslib\";\r\nimport { Theme } from \"../../core/Theme\";\r\nimport { percent, p50, p100 } from \"../../core/util/Percent\";\r\nimport { ColorSet } from \"../../core/util/ColorSet\";\r\nimport { setColor } from \"../../themes/DefaultTheme\";\r\nimport * as $time from \"../../core/util/Time\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $object from \"../../core/util/Object\";\r\nimport * as $array from \"../../core/util/Array\";\r\n/**\r\n * @ignore\r\n */\r\nvar XYChartDefaultTheme = /** @class */ (function (_super) {\r\n    __extends(XYChartDefaultTheme, _super);\r\n    function XYChartDefaultTheme() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(XYChartDefaultTheme.prototype, \"setupDefaultRules\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype.setupDefaultRules.call(this);\r\n            var ic = this._root.interfaceColors;\r\n            var language = this._root.language;\r\n            var r = this.rule.bind(this);\r\n            /**\r\n             * ========================================================================\r\n             * charts/xy\r\n             * ========================================================================\r\n             */\r\n            r(\"XYChart\").setAll({\r\n                colors: ColorSet.new(this._root, {}),\r\n                paddingLeft: 20,\r\n                paddingRight: 20,\r\n                paddingTop: 16,\r\n                paddingBottom: 16,\r\n                panX: false,\r\n                panY: false,\r\n                wheelStep: 0.25,\r\n                arrangeTooltips: true,\r\n                pinchZoomX: false,\r\n                pinchZoomY: false\r\n            });\r\n            r(\"XYSeries\").setAll({\r\n                legendLabelText: \"{name}\"\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/xy: XYChartScrollbar\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"XYChart\", [\"scrollbar\", \"chart\"]).setAll({\r\n                paddingBottom: 0,\r\n                paddingLeft: 0,\r\n                paddingTop: 0,\r\n                paddingRight: 0,\r\n                colors: ColorSet.new(this._root, {\r\n                    saturation: 0\r\n                })\r\n            });\r\n            {\r\n                var rule = r(\"Graphics\", [\"scrollbar\", \"overlay\"]);\r\n                rule.setAll({\r\n                    fillOpacity: 0.5\r\n                });\r\n                setColor(rule, \"fill\", ic, \"background\");\r\n            }\r\n            // Class: RoundedRectangle\r\n            r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"thumb\"]).setAll({\r\n                cornerRadiusTR: 0,\r\n                cornerRadiusTL: 0,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusBL: 0,\r\n                fillOpacity: 0,\r\n                focusable: true\r\n            });\r\n            r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"thumb\"]).states.create(\"hover\", { fillOpacity: 0.4 });\r\n            r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"chart\", \"background\"]).setAll({\r\n                cornerRadiusTL: 0,\r\n                cornerRadiusBL: 0,\r\n                cornerRadiusTR: 0,\r\n                cornerRadiusBR: 0\r\n            });\r\n            r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"chart\", \"background\", \"resize\", \"button\"]).setAll({\r\n                cornerRadiusBL: 40,\r\n                cornerRadiusBR: 40,\r\n                cornerRadiusTL: 40,\r\n                cornerRadiusTR: 40\r\n            });\r\n            r(\"AxisRendererX\", [\"xy\", \"chart\", \"scrollbar\"]).setAll({\r\n                strokeOpacity: 0,\r\n                inside: true\r\n            });\r\n            r(\"AxisRendererY\", [\"xy\", \"chart\", \"scrollbar\"]).setAll({\r\n                strokeOpacity: 0,\r\n                inside: true,\r\n                minGridDistance: 5\r\n            });\r\n            r(\"AxisLabel\", [\"xy\", \"scrollbar\", \"x\"]).setAll({\r\n                opacity: 0.5,\r\n                centerY: p100,\r\n                minPosition: 0.01,\r\n                maxPosition: 0.99,\r\n                fontSize: \"0.8em\"\r\n            });\r\n            r(\"AxisLabel\", [\"category\"]).setAll({\r\n                text: \"{category}\",\r\n                populateText: true\r\n            });\r\n            r(\"AxisLabel\", [\"x\"]).setAll({\r\n                centerY: 0\r\n            });\r\n            r(\"AxisLabel\", [\"x\", \"inside\"]).setAll({\r\n                centerY: p100\r\n            });\r\n            r(\"AxisLabel\", [\"x\", \"inside\", \"opposite\"]).setAll({\r\n                centerY: 0\r\n            });\r\n            r(\"AxisLabel\", [\"x\", \"opposite\"]).setAll({\r\n                centerY: p100\r\n            });\r\n            r(\"AxisLabel\", [\"y\"]).setAll({\r\n                centerX: p100\r\n            });\r\n            r(\"AxisLabel\", [\"y\", \"inside\"]).setAll({\r\n                centerX: 0\r\n            });\r\n            r(\"AxisLabel\", [\"y\", \"inside\", \"opposite\"]).setAll({\r\n                centerX: p100\r\n            });\r\n            r(\"AxisLabel\", [\"y\", \"opposite\"]).setAll({\r\n                centerX: 0\r\n            });\r\n            r(\"AxisLabel\", [\"xy\", \"scrollbar\", \"y\"]).setAll({\r\n                visible: false\r\n            });\r\n            // Class: Grid\r\n            r(\"Grid\", [\"xy\", \"scrollbar\", \"y\"]).setAll({\r\n                visible: false\r\n            });\r\n            // Class: Grid\r\n            r(\"Grid\", [\"xy\", \"scrollbar\", \"x\"]).setAll({\r\n                opacity: 0.5\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/xy: Cursor\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"XYCursor\").setAll({\r\n                behavior: \"none\",\r\n                layer: 30,\r\n                exportable: false,\r\n                snapToSeriesBy: \"xy\",\r\n                moveThreshold: 1\r\n            });\r\n            {\r\n                var rule = r(\"Grid\", [\"cursor\", \"x\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.8,\r\n                    strokeDasharray: [2, 2]\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n            }\r\n            {\r\n                var rule = r(\"Grid\", [\"cursor\", \"y\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.8,\r\n                    strokeDasharray: [2, 2]\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n            }\r\n            {\r\n                var rule = r(\"Graphics\", [\"cursor\", \"selection\"]);\r\n                rule.setAll({\r\n                    fillOpacity: 0.15,\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n            }\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/xy: Axes\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Axis\").setAll({\r\n                start: 0,\r\n                end: 1,\r\n                minZoomCount: 1,\r\n                maxZoomCount: Infinity,\r\n                maxZoomFactor: 1000,\r\n                maxDeviation: 0.1,\r\n                snapTooltip: true,\r\n                tooltipLocation: 0.5,\r\n                panX: true,\r\n                panY: true,\r\n                zoomX: true,\r\n                zoomY: true,\r\n                fixAxisSize: true\r\n            });\r\n            r(\"AxisLabel\").setAll({\r\n                location: 0.5,\r\n                multiLocation: 0,\r\n                centerX: p50,\r\n                centerY: p50,\r\n                paddingTop: 3,\r\n                paddingBottom: 3,\r\n                paddingLeft: 5,\r\n                paddingRight: 5\r\n            });\r\n            // The following is deprecated following text measuring updates in 5.0.5\r\n            // r(\"AxisLabel\", [\"y\"]).setAll({\r\n            // \ttextAlign: \"right\"\r\n            // });\r\n            // r(\"AxisLabel\", [\"y\", \"opposite\"]).setAll({\r\n            // \ttextAlign: \"left\"\r\n            // });\r\n            r(\"Container\", [\"axis\", \"header\"]).setAll({\r\n                layer: 30\r\n            });\r\n            {\r\n                var rule = r(\"AxisRenderer\");\r\n                rule.setAll({\r\n                    strokeOpacity: 0\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"grid\");\r\n            }\r\n            r(\"AxisRendererX\").setAll({\r\n                minGridDistance: 120,\r\n                opposite: false,\r\n                inversed: false,\r\n                cellStartLocation: 0,\r\n                cellEndLocation: 1,\r\n                width: p100\r\n            });\r\n            r(\"AxisRendererY\").setAll({\r\n                minGridDistance: 40,\r\n                opposite: false,\r\n                inversed: false,\r\n                cellStartLocation: 0,\r\n                cellEndLocation: 1,\r\n                height: p100\r\n            });\r\n            {\r\n                var rule = r(\"Rectangle\", [\"axis\", \"thumb\"]);\r\n                rule.setAll({\r\n                    fillOpacity: 0\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n                rule.states.create(\"hover\", { fillOpacity: 0.1 });\r\n            }\r\n            r(\"Rectangle\", [\"axis\", \"thumb\", \"x\"]).setAll({\r\n                cursorOverStyle: \"ew-resize\"\r\n            });\r\n            r(\"Rectangle\", [\"axis\", \"thumb\", \"y\"]).setAll({\r\n                cursorOverStyle: \"ns-resize\"\r\n            });\r\n            {\r\n                var rule = r(\"Grid\");\r\n                rule.setAll({\r\n                    location: 0,\r\n                    strokeOpacity: 0.15,\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"grid\");\r\n            }\r\n            r(\"Grid\", [\"base\"]).setAll({\r\n                strokeOpacity: 0.3\r\n            });\r\n            {\r\n                var rule = r(\"Graphics\", [\"axis\", \"fill\"]);\r\n                rule.setAll({\r\n                    visible: false,\r\n                    isMeasured: false,\r\n                    position: \"absolute\",\r\n                    fillOpacity: 0.05,\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n            }\r\n            r(\"Graphics\", [\"axis\", \"fill\", \"range\"]).setAll({\r\n                isMeasured: true\r\n            });\r\n            // hides all elements of series axis range\r\n            r(\"Graphics\", [\"series\", \"fill\", \"range\"]).setAll({\r\n                visible: false,\r\n                isMeasured: true\r\n            });\r\n            r(\"Grid\", [\"series\", \"range\"]).setAll({\r\n                visible: false\r\n            });\r\n            r(\"AxisTick\", [\"series\", \"range\"]).setAll({\r\n                visible: false\r\n            });\r\n            r(\"AxisLabel\", [\"series\", \"range\"]).setAll({\r\n                visible: false\r\n            });\r\n            {\r\n                var rule = r(\"AxisTick\");\r\n                rule.setAll({\r\n                    location: 0.5,\r\n                    multiLocation: 0,\r\n                    strokeOpacity: 1,\r\n                    isMeasured: false,\r\n                    position: \"absolute\",\r\n                    visible: false\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"grid\");\r\n            }\r\n            r(\"CategoryAxis\").setAll({\r\n                startLocation: 0,\r\n                endLocation: 1,\r\n                fillRule: function (dataItem, index) {\r\n                    var axisFill = dataItem.get(\"axisFill\");\r\n                    if (axisFill) {\r\n                        if (!$type.isNumber(index) || index % 2 == 0) {\r\n                            axisFill.setPrivate(\"visible\", true);\r\n                        }\r\n                        else {\r\n                            axisFill.setPrivate(\"visible\", false);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            var gridIntervals = [\r\n                { timeUnit: \"millisecond\", count: 1 },\r\n                { timeUnit: \"millisecond\", count: 5 },\r\n                { timeUnit: \"millisecond\", count: 10 },\r\n                { timeUnit: \"millisecond\", count: 50 },\r\n                { timeUnit: \"millisecond\", count: 100 },\r\n                { timeUnit: \"millisecond\", count: 500 },\r\n                { timeUnit: \"second\", count: 1 },\r\n                { timeUnit: \"second\", count: 5 },\r\n                { timeUnit: \"second\", count: 10 },\r\n                { timeUnit: \"second\", count: 30 },\r\n                { timeUnit: \"minute\", count: 1 },\r\n                { timeUnit: \"minute\", count: 5 },\r\n                { timeUnit: \"minute\", count: 10 },\r\n                { timeUnit: \"minute\", count: 15 },\r\n                { timeUnit: \"minute\", count: 30 },\r\n                { timeUnit: \"hour\", count: 1 },\r\n                { timeUnit: \"hour\", count: 3 },\r\n                { timeUnit: \"hour\", count: 6 },\r\n                { timeUnit: \"hour\", count: 12 },\r\n                { timeUnit: \"day\", count: 1 },\r\n                { timeUnit: \"day\", count: 2 },\r\n                { timeUnit: \"day\", count: 3 },\r\n                { timeUnit: \"day\", count: 4 },\r\n                { timeUnit: \"day\", count: 5 },\r\n                { timeUnit: \"week\", count: 1 },\r\n                { timeUnit: \"month\", count: 1 },\r\n                { timeUnit: \"month\", count: 2 },\r\n                { timeUnit: \"month\", count: 3 },\r\n                { timeUnit: \"month\", count: 6 },\r\n                { timeUnit: \"year\", count: 1 },\r\n                { timeUnit: \"year\", count: 2 },\r\n                { timeUnit: \"year\", count: 5 },\r\n                { timeUnit: \"year\", count: 10 },\r\n                { timeUnit: \"year\", count: 50 },\r\n                { timeUnit: \"year\", count: 100 },\r\n                { timeUnit: \"year\", count: 200 },\r\n                { timeUnit: \"year\", count: 500 },\r\n                { timeUnit: \"year\", count: 1000 },\r\n                { timeUnit: \"year\", count: 2000 },\r\n                { timeUnit: \"year\", count: 5000 },\r\n                { timeUnit: \"year\", count: 10000 },\r\n                { timeUnit: \"year\", count: 100000 }\r\n            ];\r\n            var dateFormats = {\r\n                \"millisecond\": language.translate(\"_date_millisecond\"),\r\n                \"second\": language.translate(\"_date_second\"),\r\n                \"minute\": language.translate(\"_date_minute\"),\r\n                \"hour\": language.translate(\"_date_hour\"),\r\n                \"day\": language.translate(\"_date_day\"),\r\n                \"week\": language.translate(\"_date_day\"),\r\n                \"month\": language.translate(\"_date_month\"),\r\n                \"year\": language.translate(\"_date_year\")\r\n            };\r\n            var periodChangeDateFormats = {\r\n                \"millisecond\": language.translate(\"_date_millisecond\"),\r\n                \"second\": language.translate(\"_date_second\"),\r\n                \"minute\": language.translate(\"_date_minute\"),\r\n                \"hour\": language.translate(\"_date_day\"),\r\n                \"day\": language.translate(\"_date_day\"),\r\n                \"week\": language.translate(\"_date_day\"),\r\n                \"month\": language.translate(\"_date_month\") + \" \" + language.translate(\"_date_year\"),\r\n                \"year\": language.translate(\"_date_year\")\r\n            };\r\n            var tooltipDateFormats = {\r\n                \"millisecond\": language.translate(\"_date_millisecond_full\"),\r\n                \"second\": language.translate(\"_date_second_full\"),\r\n                \"minute\": language.translate(\"_date_minute_full\"),\r\n                \"hour\": language.translate(\"_date_hour_full\"),\r\n                \"day\": language.translate(\"_date_day_full\"),\r\n                \"week\": language.translate(\"_date_week_full\"),\r\n                \"month\": language.translate(\"_date_month_full\"),\r\n                \"year\": language.translate(\"_date_year\")\r\n            };\r\n            r(\"CategoryDateAxis\").setAll({\r\n                markUnitChange: true,\r\n                gridIntervals: $array.copy(gridIntervals),\r\n                dateFormats: $object.copy(dateFormats),\r\n                periodChangeDateFormats: $object.copy(periodChangeDateFormats)\r\n            });\r\n            r(\"DateAxis\").setAll({\r\n                maxZoomFactor: null,\r\n                strictMinMax: true,\r\n                startLocation: 0,\r\n                endLocation: 1,\r\n                markUnitChange: true,\r\n                groupData: false,\r\n                groupCount: 500,\r\n                gridIntervals: $array.copy(gridIntervals),\r\n                dateFormats: $object.copy(dateFormats),\r\n                periodChangeDateFormats: $object.copy(periodChangeDateFormats),\r\n                tooltipDateFormats: tooltipDateFormats,\r\n                groupIntervals: [\r\n                    { timeUnit: \"millisecond\", count: 1 },\r\n                    { timeUnit: \"millisecond\", count: 10 },\r\n                    { timeUnit: \"millisecond\", count: 100 },\r\n                    { timeUnit: \"second\", count: 1 },\r\n                    { timeUnit: \"second\", count: 10 },\r\n                    { timeUnit: \"minute\", count: 1 },\r\n                    { timeUnit: \"minute\", count: 10 },\r\n                    { timeUnit: \"hour\", count: 1 },\r\n                    { timeUnit: \"day\", count: 1 },\r\n                    { timeUnit: \"week\", count: 1 },\r\n                    { timeUnit: \"month\", count: 1 },\r\n                    { timeUnit: \"year\", count: 1 }\r\n                ],\r\n                fillRule: function (dataItem) {\r\n                    var axisFill = dataItem.get(\"axisFill\");\r\n                    if (axisFill) {\r\n                        var axis = dataItem.component;\r\n                        var value = dataItem.get(\"value\");\r\n                        var endValue = dataItem.get(\"endValue\");\r\n                        var intervalDuration = axis.intervalDuration();\r\n                        var baseInterval = axis.getPrivate(\"baseInterval\");\r\n                        var gridInterval = axis.getPrivate(\"gridInterval\", baseInterval);\r\n                        var min = axis.getPrivate(\"min\", 0);\r\n                        min = $time.round(new Date(min), gridInterval.timeUnit, gridInterval.count, _this._root.locale.firstDayOfWeek, _this._root.utc, undefined, _this._root.timezone).getTime();\r\n                        if (value != null && endValue != null) {\r\n                            var val = Math.round(Math.round((value - min) / intervalDuration)) / 2;\r\n                            if (val == Math.round(val)) {\r\n                                axisFill.setPrivate(\"visible\", true);\r\n                            }\r\n                            else {\r\n                                axisFill.setPrivate(\"visible\", false);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            r(\"GaplessDateAxis\").setAll({\r\n                fillRule: function (dataItem) {\r\n                    var axisFill = dataItem.get(\"axisFill\");\r\n                    if (axisFill) {\r\n                        var index = dataItem.get(\"index\");\r\n                        var visible = false;\r\n                        if (!$type.isNumber(index) || index % 2 == 0) {\r\n                            visible = true;\r\n                        }\r\n                        axisFill.setPrivate(\"visible\", visible);\r\n                    }\r\n                }\r\n            });\r\n            r(\"ValueAxis\").setAll({\r\n                baseValue: 0,\r\n                logarithmic: false,\r\n                strictMinMax: false,\r\n                autoZoom: true,\r\n                fillRule: function (dataItem) {\r\n                    var axisFill = dataItem.get(\"axisFill\");\r\n                    if (axisFill) {\r\n                        var axis = dataItem.component;\r\n                        var value = dataItem.get(\"value\");\r\n                        var step = axis.getPrivate(\"step\");\r\n                        if ($type.isNumber(value) && $type.isNumber(step)) {\r\n                            if ($math.round(value / step / 2, 5) == Math.round(value / step / 2)) {\r\n                                axisFill.setPrivate(\"visible\", false);\r\n                            }\r\n                            else {\r\n                                axisFill.setPrivate(\"visible\", true);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            r(\"DurationAxis\").setAll({\r\n                baseUnit: \"second\"\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/xy: Series\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"XYSeries\").setAll({\r\n                maskBullets: true,\r\n                stackToNegative: true,\r\n                locationX: 0.5,\r\n                locationY: 0.5,\r\n                snapTooltip: false,\r\n                openValueXGrouped: \"open\",\r\n                openValueYGrouped: \"open\",\r\n                valueXGrouped: \"close\",\r\n                valueYGrouped: \"close\",\r\n                seriesTooltipTarget: \"series\"\r\n            });\r\n            r(\"BaseColumnSeries\").setAll({\r\n                adjustBulletPosition: true\r\n            });\r\n            r(\"ColumnSeries\").setAll({\r\n                clustered: true\r\n            });\r\n            r(\"RoundedRectangle\", [\"series\", \"column\"]).setAll({\r\n                position: \"absolute\",\r\n                isMeasured: false,\r\n                width: percent(70),\r\n                height: percent(70),\r\n                strokeWidth: 1,\r\n                strokeOpacity: 1,\r\n                cornerRadiusBL: 0,\r\n                cornerRadiusTL: 0,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusTR: 0,\r\n                fillOpacity: 1,\r\n                role: \"figure\"\r\n            });\r\n            r(\"LineSeries\").setAll({\r\n                connect: true,\r\n                autoGapCount: 1.1,\r\n                stackToNegative: false\r\n            });\r\n            r(\"Graphics\", [\"series\", \"stroke\"]).setAll({\r\n                position: \"absolute\",\r\n                strokeWidth: 1,\r\n                strokeOpacity: 1,\r\n                isMeasured: false\r\n            });\r\n            r(\"Graphics\", [\"series\", \"fill\"]).setAll({\r\n                visible: false,\r\n                fillOpacity: 0,\r\n                position: \"absolute\",\r\n                strokeWidth: 0,\r\n                strokeOpacity: 0,\r\n                isMeasured: false\r\n            });\r\n            r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"]).setAll({\r\n                draw: function (display, sprite) {\r\n                    var parent = sprite.parent;\r\n                    if (parent) {\r\n                        var h = parent.height();\r\n                        var w = parent.width();\r\n                        display.moveTo(0, h / 2);\r\n                        display.lineTo(w, h / 2);\r\n                    }\r\n                }\r\n            });\r\n            {\r\n                var rule = r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"]).states.create(\"disabled\", {});\r\n                setColor(rule, \"stroke\", ic, \"disabled\");\r\n            }\r\n            r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]).setAll({\r\n                draw: function (display, sprite) {\r\n                    var parent = sprite.parent;\r\n                    if (parent) {\r\n                        var h = parent.height();\r\n                        var w = parent.width();\r\n                        display.moveTo(0, 0);\r\n                        display.lineTo(w, 0);\r\n                        display.lineTo(w, h);\r\n                        display.lineTo(0, h);\r\n                        display.lineTo(0, 0);\r\n                    }\r\n                }\r\n            });\r\n            {\r\n                var rule = r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]).states.create(\"disabled\", {});\r\n                setColor(rule, \"stroke\", ic, \"disabled\");\r\n            }\r\n            r(\"SmoothedXYLineSeries\").setAll({\r\n                tension: 0.5\r\n            });\r\n            r(\"SmoothedXLineSeries\").setAll({\r\n                tension: 0.5\r\n            });\r\n            r(\"SmoothedYLineSeries\").setAll({\r\n                tension: 0.5\r\n            });\r\n            r(\"Candlestick\").setAll({\r\n                position: \"absolute\",\r\n                isMeasured: false,\r\n                width: percent(50),\r\n                height: percent(50),\r\n                strokeWidth: 1,\r\n                strokeOpacity: 1,\r\n                cornerRadiusBL: 0,\r\n                cornerRadiusTL: 0,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusTR: 0,\r\n                fillOpacity: 1,\r\n                role: \"figure\"\r\n            });\r\n            r(\"OHLC\").setAll({\r\n                width: percent(80),\r\n                height: percent(80)\r\n            });\r\n            r(\"CandlestickSeries\").setAll({\r\n                lowValueXGrouped: \"low\",\r\n                lowValueYGrouped: \"low\",\r\n                highValueXGrouped: \"high\",\r\n                highValueYGrouped: \"high\",\r\n                openValueXGrouped: \"open\",\r\n                openValueYGrouped: \"open\",\r\n                valueXGrouped: \"close\",\r\n                valueYGrouped: \"close\"\r\n            });\r\n            // These rules can be used for regular columns, too\r\n            {\r\n                var rule = r(\"Rectangle\", [\"column\", \"autocolor\"]).states.create(\"riseFromOpen\", {});\r\n                setColor(rule, \"fill\", ic, \"positive\");\r\n                setColor(rule, \"stroke\", ic, \"positive\");\r\n            }\r\n            {\r\n                var rule = r(\"Rectangle\", [\"column\", \"autocolor\"]).states.create(\"dropFromOpen\", {});\r\n                setColor(rule, \"fill\", ic, \"negative\");\r\n                setColor(rule, \"stroke\", ic, \"negative\");\r\n            }\r\n            r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"riseFromPrevious\", { fillOpacity: 1 });\r\n            r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"dropFromPrevious\", { fillOpacity: 0 });\r\n        }\r\n    });\r\n    return XYChartDefaultTheme;\r\n}(Theme));\r\nexport { XYChartDefaultTheme };\r\n//# sourceMappingURL=XYChartDefaultTheme.js.map","import { __extends } from \"tslib\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\n/**\r\n * A base class for all charts.\r\n */\r\nvar Chart = /** @class */ (function (_super) {\r\n    __extends(Chart, _super);\r\n    function Chart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * A [[Container]] chart places its elements in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"chartContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, { width: p100, height: p100, interactiveChildren: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] chart places its bullets in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(_this._root, { interactiveChildren: false, isMeasured: false, position: \"absolute\", width: p100, height: p100 })\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Chart, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Chart\"\r\n    });\r\n    Object.defineProperty(Chart, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([Chart.className])\r\n    });\r\n    return Chart;\r\n}(Container));\r\nexport { Chart };\r\n//# sourceMappingURL=Chart.js.map","import { __extends } from \"tslib\";\r\nimport { Chart } from \"./Chart\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { ListAutoDispose } from \"../../core/util/List\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\n/**\r\n * A base class for all series-based charts.\r\n */\r\nvar SerialChart = /** @class */ (function (_super) {\r\n    __extends(SerialChart, _super);\r\n    function SerialChart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * A [[Container]] where chart will store all series.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"seriesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(_this._root, { width: p100, height: p100, isMeasured: false })\r\n        });\r\n        /**\r\n         * A list of chart's series.\r\n         */\r\n        Object.defineProperty(_this, \"series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SerialChart.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._afterNew.call(this);\r\n            this._disposers.push(this.series);\r\n            var children = this.seriesContainer.children;\r\n            this._disposers.push(this.series.events.onAll(function (change) {\r\n                if (change.type === \"clear\") {\r\n                    $array.each(change.oldValues, function (series) {\r\n                        _this._removeSeries(series);\r\n                    });\r\n                    var colors = _this.get(\"colors\");\r\n                    if (colors) {\r\n                        colors.reset();\r\n                    }\r\n                }\r\n                else if (change.type === \"push\") {\r\n                    children.moveValue(change.newValue);\r\n                    _this._processSeries(change.newValue);\r\n                }\r\n                else if (change.type === \"setIndex\") {\r\n                    children.setIndex(change.index, change.newValue);\r\n                    _this._processSeries(change.newValue);\r\n                }\r\n                else if (change.type === \"insertIndex\") {\r\n                    children.insertIndex(change.index, change.newValue);\r\n                    _this._processSeries(change.newValue);\r\n                }\r\n                else if (change.type === \"removeIndex\") {\r\n                    _this._removeSeries(change.oldValue);\r\n                }\r\n                else if (change.type === \"moveIndex\") {\r\n                    children.moveValue(change.value, change.newIndex);\r\n                    _this._processSeries(change.value);\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown IListEvent type\");\r\n                }\r\n            }));\r\n        }\r\n    });\r\n    Object.defineProperty(SerialChart.prototype, \"_processSeries\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            series.chart = this;\r\n            series._placeBulletsContainer(this);\r\n        }\r\n    });\r\n    Object.defineProperty(SerialChart.prototype, \"_removeSeries\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            if (!series.isDisposed()) {\r\n                this.seriesContainer.children.removeValue(series);\r\n                series._removeBulletsContainer();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(SerialChart, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"SerialChart\"\r\n    });\r\n    Object.defineProperty(SerialChart, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Chart.classNames.concat([SerialChart.className])\r\n    });\r\n    return SerialChart;\r\n}(Chart));\r\nexport { SerialChart };\r\n//# sourceMappingURL=SerialChart.js.map","import { __extends } from \"tslib\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $math from \"../util/Math\";\r\nimport * as $utils from \"../util/Utils\";\r\nimport { Rectangle } from \"./Rectangle\";\r\n/**\r\n * Draws a rectangle with rounded corners.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nvar RoundedRectangle = /** @class */ (function (_super) {\r\n    __extends(RoundedRectangle, _super);\r\n    function RoundedRectangle() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(RoundedRectangle.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"cornerRadiusTL\") || this.isDirty(\"cornerRadiusTR\") || this.isDirty(\"cornerRadiusBR\") || this.isDirty(\"cornerRadiusBL\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(RoundedRectangle.prototype, \"_draw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var width = this.width();\r\n            var height = this.height();\r\n            var w = width;\r\n            var h = height;\r\n            var wSign = w / Math.abs(width);\r\n            var hSign = h / Math.abs(height);\r\n            if ($type.isNumber(w) && $type.isNumber(h)) {\r\n                var minSide = Math.min(w, h) / 2;\r\n                var crtl = $utils.relativeToValue(this.get(\"cornerRadiusTL\", 8), minSide);\r\n                var crtr = $utils.relativeToValue(this.get(\"cornerRadiusTR\", 8), minSide);\r\n                var crbr = $utils.relativeToValue(this.get(\"cornerRadiusBR\", 8), minSide);\r\n                var crbl = $utils.relativeToValue(this.get(\"cornerRadiusBL\", 8), minSide);\r\n                var maxcr = Math.min(Math.abs(w / 2), Math.abs(h / 2));\r\n                crtl = $math.fitToRange(crtl, 0, maxcr);\r\n                crtr = $math.fitToRange(crtr, 0, maxcr);\r\n                crbr = $math.fitToRange(crbr, 0, maxcr);\r\n                crbl = $math.fitToRange(crbl, 0, maxcr);\r\n                this._display.moveTo(crtl * wSign, 0);\r\n                this._display.lineTo(w - crtr * wSign, 0);\r\n                if (crtr > 0) {\r\n                    this._display.arcTo(w, 0, w, crtr * hSign, crtr);\r\n                }\r\n                this._display.lineTo(w, h - crbr * hSign);\r\n                if (crbr > 0) {\r\n                    this._display.arcTo(w, h, w - crbr * wSign, h, crbr);\r\n                }\r\n                this._display.lineTo(crbl * wSign, h);\r\n                if (crbl > 0) {\r\n                    this._display.arcTo(0, h, 0, h - crbl * hSign, crbl);\r\n                }\r\n                this._display.lineTo(0, crtl * hSign);\r\n                if (crtl > 0) {\r\n                    this._display.arcTo(0, 0, crtl * wSign, 0, crtl);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(RoundedRectangle, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"RoundedRectangle\"\r\n    });\r\n    Object.defineProperty(RoundedRectangle, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Rectangle.classNames.concat([RoundedRectangle.className])\r\n    });\r\n    return RoundedRectangle;\r\n}(Rectangle));\r\nexport { RoundedRectangle };\r\n//# sourceMappingURL=RoundedRectangle.js.map","import { __extends } from \"tslib\";\r\nimport { RoundedRectangle } from \"../render/RoundedRectangle\";\r\nimport { Container } from \"./Container\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Draws an interactive button.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/buttons/} for more info\r\n * @important\r\n */\r\nvar Button = /** @class */ (function (_super) {\r\n    __extends(Button, _super);\r\n    function Button() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Button.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"button\"]);\r\n            _super.prototype._afterNew.call(this);\r\n            if (!this._settings.background) {\r\n                this.set(\"background\", RoundedRectangle.new(this._root, {\r\n                    themeTags: $utils.mergeTags(this._settings.themeTags, [\"background\"])\r\n                }));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Button.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._prepareChildren.call(this);\r\n            if (this.isDirty(\"icon\")) {\r\n                var previous = this._prevSettings.icon;\r\n                var icon = this.get(\"icon\");\r\n                if (icon !== previous) {\r\n                    this._disposeProperty(\"icon\");\r\n                    if (previous) {\r\n                        previous.dispose();\r\n                    }\r\n                    if (icon) {\r\n                        this.children.push(icon);\r\n                    }\r\n                    this._prevSettings.icon = icon;\r\n                }\r\n            }\r\n            if (this.isDirty(\"label\")) {\r\n                var previous = this._prevSettings.label;\r\n                var label = this.get(\"label\");\r\n                if (label !== previous) {\r\n                    this._disposeProperty(\"label\");\r\n                    if (previous) {\r\n                        previous.dispose();\r\n                    }\r\n                    if (label) {\r\n                        this.children.push(label);\r\n                    }\r\n                    this._prevSettings.label = label;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Button, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Button\"\r\n    });\r\n    Object.defineProperty(Button, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([Button.className])\r\n    });\r\n    return Button;\r\n}(Container));\r\nexport { Button };\r\n//# sourceMappingURL=Button.js.map","import { __extends, __read } from \"tslib\";\r\nimport { XYChartDefaultTheme } from \"./XYChartDefaultTheme\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Rectangle } from \"../../core/render/Rectangle\";\r\nimport { SerialChart } from \"../../core/render/SerialChart\";\r\nimport { ListAutoDispose } from \"../../core/util/List\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { Color } from \"../../core/util/Color\";\r\nimport { Button } from \"../../core/render/Button\";\r\nimport { Graphics } from \"../../core/render/Graphics\";\r\nimport { Percent } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $order from \"../../core/util/Order\";\r\nimport * as $object from \"../../core/util/Object\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Creates an XY chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/} for more info\r\n * @important\r\n */\r\nvar XYChart = /** @class */ (function (_super) {\r\n    __extends(XYChart, _super);\r\n    function XYChart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * A list of horizontal axes.\r\n         */\r\n        Object.defineProperty(_this, \"xAxes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n        /**\r\n         * A list of vertical axes.\r\n         */\r\n        Object.defineProperty(_this, \"yAxes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n        /**\r\n         * A [[Container]] located on top of the chart, used to store top horizontal\r\n         * axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"topAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.chartContainer.children.push(Container.new(_this._root, { width: p100, layout: _this._root.verticalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle the chart, used to store vertical axes\r\n         * and plot area container.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"yAxesAndPlotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.chartContainer.children.push(Container.new(_this._root, { width: p100, height: p100, layout: _this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located on bottom of the chart, used to store bottom\r\n         * horizontal axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"bottomAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.chartContainer.children.push(Container.new(_this._root, { width: p100, layout: _this._root.verticalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located on left of the chart, used to store left-hand\r\n         * vertical axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"leftAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.yAxesAndPlotContainer.children.push(Container.new(_this._root, { height: p100, layout: _this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle of the chart, used to store plotContainer and topPlotContainer\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"plotsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.yAxesAndPlotContainer.children.push(Container.new(_this._root, { width: p100, height: p100, maskContent: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle of the chart, used to store actual\r\n         * plots (series).\r\n         *\r\n         * NOTE: `plotContainer` will automatically have its `background` preset. If\r\n         * you need to modify background or outline for chart's plot area, you can\r\n         * use `plotContainer.get(\"background\")` for that.*\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"plotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.plotsContainer.children.push(Container.new(_this._root, { width: p100, height: p100 }))\r\n        });\r\n        /**\r\n         * A [[Container]] used for any elements that need to be displayed over\r\n         * regular `plotContainer`.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"topPlotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.plotsContainer.children.push(Container.new(_this._root, { width: p100, height: p100 }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis grid elements are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"gridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.plotContainer.children.push(Container.new(_this._root, { width: p100, height: p100, isMeasured: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis background grid elements are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"topGridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(_this._root, { width: p100, height: p100, isMeasured: false })\r\n        });\r\n        /**\r\n         * A [[Container]] located on right of the chart, used to store right-hand\r\n         * vertical axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"rightAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.yAxesAndPlotContainer.children.push(Container.new(_this._root, { height: p100, layout: _this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis headers are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"axisHeadersContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.plotContainer.children.push(Container.new(_this._root, {}))\r\n        });\r\n        /**\r\n         * A button that is shown when chart is not fully zoomed out.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Zoom_out_button} for more info\r\n         * @default Button.new()\r\n         */\r\n        Object.defineProperty(_this, \"zoomOutButton\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.topPlotContainer.children.push(Button.new(_this._root, {\r\n                themeTags: [\"zoom\"],\r\n                icon: Graphics.new(_this._root, {\r\n                    themeTags: [\"button\", \"icon\"]\r\n                })\r\n            }))\r\n        });\r\n        Object.defineProperty(_this, \"_movePoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { x: 0, y: 0 }\r\n        });\r\n        Object.defineProperty(_this, \"_wheelDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_otherCharts\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_movePoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_downStartX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_downEndX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_downStartY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_downEndY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(XYChart.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._defaultThemes.push(XYChartDefaultTheme.new(this._root));\r\n            _super.prototype._afterNew.call(this);\r\n            this._disposers.push(this.xAxes);\r\n            this._disposers.push(this.yAxes);\r\n            var root = this._root;\r\n            var verticalLayout = this._root.verticalLayout;\r\n            var zoomOutButton = this.zoomOutButton;\r\n            zoomOutButton.events.on(\"click\", function () {\r\n                _this.zoomOut();\r\n            });\r\n            zoomOutButton.set(\"opacity\", 0);\r\n            zoomOutButton.states.lookup(\"default\").set(\"opacity\", 1);\r\n            this.chartContainer.set(\"layout\", verticalLayout);\r\n            var plotContainer = this.plotContainer;\r\n            plotContainer.children.push(this.seriesContainer);\r\n            this._disposers.push(this._processAxis(this.xAxes, this.bottomAxesContainer));\r\n            this._disposers.push(this._processAxis(this.yAxes, this.leftAxesContainer));\r\n            plotContainer.children.push(this.topGridContainer);\r\n            plotContainer.children.push(this.bulletsContainer);\r\n            // Setting trasnparent background so that full body of the plot container\r\n            // is interactive\r\n            plotContainer.set(\"interactive\", true);\r\n            plotContainer.set(\"interactiveChildren\", false);\r\n            plotContainer.set(\"background\", Rectangle.new(root, {\r\n                themeTags: [\"xy\", \"background\"],\r\n                fill: Color.fromHex(0x000000),\r\n                fillOpacity: 0\r\n            }));\r\n            this._disposers.push(plotContainer.events.on(\"pointerdown\", function (event) {\r\n                _this._handlePlotDown(event.originalEvent);\r\n            }));\r\n            this._disposers.push(plotContainer.events.on(\"globalpointerup\", function (event) {\r\n                _this._handlePlotUp(event.originalEvent);\r\n            }));\r\n            this._disposers.push(plotContainer.events.on(\"globalpointermove\", function (event) {\r\n                _this._handlePlotMove(event.originalEvent);\r\n            }));\r\n            this._maskGrid();\r\n            this._setUpTouch();\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"pinchZoomX\") || this.isDirty(\"pinchZoomY\") || this.get(\"panX\") || this.get(\"panY\")) {\r\n                this._setUpTouch();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_setUpTouch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.plotContainer._display.cancelTouch) {\r\n                this.plotContainer._display.cancelTouch = (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\") || this.get(\"panX\") || this.get(\"panY\")) ? true : false;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_maskGrid\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.gridContainer.set(\"maskContent\", true);\r\n            this.topGridContainer.set(\"maskContent\", true);\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_removeSeries\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            var xAxis = series.get(\"xAxis\");\r\n            if (xAxis) {\r\n                $array.remove(xAxis.series, series);\r\n                xAxis.markDirtyExtremes();\r\n            }\r\n            var yAxis = series.get(\"yAxis\");\r\n            if (yAxis) {\r\n                $array.remove(yAxis.series, series);\r\n                yAxis.markDirtyExtremes();\r\n            }\r\n            var cursor = this.get(\"cursor\");\r\n            if (cursor) {\r\n                var snapToSeries = cursor.get(\"snapToSeries\");\r\n                if (snapToSeries) {\r\n                    $array.remove(snapToSeries, series);\r\n                }\r\n            }\r\n            _super.prototype._removeSeries.call(this, series);\r\n        }\r\n    });\r\n    /**\r\n     * This method is invoked when mouse wheel is used over chart's plot\r\n     * container, and handles zooming/pan.\r\n     *\r\n     * You can invoke this method manually, if you need to mimic chart's wheel\r\n     * behavior over other elements of the chart.\r\n     */\r\n    Object.defineProperty(XYChart.prototype, \"handleWheel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            var _this = this;\r\n            var wheelX = this.get(\"wheelX\");\r\n            var wheelY = this.get(\"wheelY\");\r\n            var plotContainer = this.plotContainer;\r\n            var wheelEvent = event.originalEvent;\r\n            // Ignore wheel event if it is happening on a non-chart element, e.g. if\r\n            // some page element is over the chart.\r\n            if ($utils.isLocalEvent(wheelEvent, this)) {\r\n                wheelEvent.preventDefault();\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n            var plotPoint = plotContainer.toLocal(this._root.documentPointToRoot({ x: wheelEvent.clientX, y: wheelEvent.clientY }));\r\n            var wheelStep = this.get(\"wheelStep\", 0.2);\r\n            var shiftY = wheelEvent.deltaY / 100;\r\n            var shiftX = wheelEvent.deltaX / 100;\r\n            var wheelZoomPositionX = this.get(\"wheelZoomPositionX\");\r\n            var wheelZoomPositionY = this.get(\"wheelZoomPositionY\");\r\n            if ((wheelX === \"zoomX\" || wheelX === \"zoomXY\") && shiftX != 0) {\r\n                this.xAxes.each(function (axis) {\r\n                    if (axis.get(\"zoomX\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var position = axis.fixPosition(plotPoint.x / plotContainer.width());\r\n                        if (wheelZoomPositionX != null) {\r\n                            position = wheelZoomPositionX;\r\n                        }\r\n                        var newStart = start - wheelStep * (end - start) * shiftX * position;\r\n                        var newEnd = end + wheelStep * (end - start) * shiftX * (1 - position);\r\n                        if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                            _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelY === \"zoomX\" || wheelY === \"zoomXY\") && shiftY != 0) {\r\n                this.xAxes.each(function (axis) {\r\n                    if (axis.get(\"zoomX\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var position = axis.fixPosition(plotPoint.x / plotContainer.width());\r\n                        if (wheelZoomPositionX != null) {\r\n                            position = wheelZoomPositionX;\r\n                        }\r\n                        var newStart = start - wheelStep * (end - start) * shiftY * position;\r\n                        var newEnd = end + wheelStep * (end - start) * shiftY * (1 - position);\r\n                        if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                            _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelX === \"zoomY\" || wheelX === \"zoomXY\") && shiftX != 0) {\r\n                this.yAxes.each(function (axis) {\r\n                    if (axis.get(\"zoomY\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var position = axis.fixPosition(plotPoint.y / plotContainer.height());\r\n                        if (wheelZoomPositionY != null) {\r\n                            position = wheelZoomPositionY;\r\n                        }\r\n                        var newStart = start - wheelStep * (end - start) * shiftX * position;\r\n                        var newEnd = end + wheelStep * (end - start) * shiftX * (1 - position);\r\n                        if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                            _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelY === \"zoomY\" || wheelY === \"zoomXY\") && shiftY != 0) {\r\n                this.yAxes.each(function (axis) {\r\n                    if (axis.get(\"zoomY\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var position = axis.fixPosition(plotPoint.y / plotContainer.height());\r\n                        if (wheelZoomPositionY != null) {\r\n                            position = wheelZoomPositionY;\r\n                        }\r\n                        var newStart = start - wheelStep * (end - start) * shiftY * position;\r\n                        var newEnd = end + wheelStep * (end - start) * shiftY * (1 - position);\r\n                        if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                            _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelX === \"panX\" || wheelX === \"panXY\") && shiftX != 0) {\r\n                this.xAxes.each(function (axis) {\r\n                    if (axis.get(\"panX\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var delta = _this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;\r\n                        var newStart = start + delta;\r\n                        var newEnd = end + delta;\r\n                        var se = _this._fixWheel(newStart, newEnd);\r\n                        newStart = se[0];\r\n                        newEnd = se[1];\r\n                        _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelY === \"panX\" || wheelY === \"panXY\") && shiftY != 0) {\r\n                this.xAxes.each(function (axis) {\r\n                    if (axis.get(\"panX\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var delta = _this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;\r\n                        var newStart = start + delta;\r\n                        var newEnd = end + delta;\r\n                        var se = _this._fixWheel(newStart, newEnd);\r\n                        newStart = se[0];\r\n                        newEnd = se[1];\r\n                        _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelX === \"panY\" || wheelX === \"panXY\") && shiftX != 0) {\r\n                this.yAxes.each(function (axis) {\r\n                    if (axis.get(\"panY\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var delta = _this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;\r\n                        var newStart = start + delta;\r\n                        var newEnd = end + delta;\r\n                        var se = _this._fixWheel(newStart, newEnd);\r\n                        newStart = se[0];\r\n                        newEnd = se[1];\r\n                        _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelY === \"panY\" || wheelY === \"panXY\") && shiftY != 0) {\r\n                this.yAxes.each(function (axis) {\r\n                    if (axis.get(\"panY\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var delta = _this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;\r\n                        var newStart = start - delta;\r\n                        var newEnd = end - delta;\r\n                        var se = _this._fixWheel(newStart, newEnd);\r\n                        newStart = se[0];\r\n                        newEnd = se[1];\r\n                        _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handleSetWheel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var wheelX = this.get(\"wheelX\");\r\n            var wheelY = this.get(\"wheelY\");\r\n            var plotContainer = this.plotContainer;\r\n            if (wheelX !== \"none\" || wheelY !== \"none\") {\r\n                this._wheelDp = plotContainer.events.on(\"wheel\", function (event) {\r\n                    _this.handleWheel(event);\r\n                });\r\n                this._disposers.push(this._wheelDp);\r\n            }\r\n            else {\r\n                if (this._wheelDp) {\r\n                    this._wheelDp.dispose();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_getWheelSign\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axis) {\r\n            var sign = 1;\r\n            if (axis.get(\"renderer\").get(\"inversed\")) {\r\n                sign = -1;\r\n            }\r\n            return sign;\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_fixWheel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (start, end) {\r\n            var diff = end - start;\r\n            if (start < 0) {\r\n                start = 0;\r\n                end = start + diff;\r\n            }\r\n            if (end > 1) {\r\n                end = 1;\r\n                start = end - diff;\r\n            }\r\n            return [start, end];\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handlePlotDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            var plotContainer = this.plotContainer;\r\n            var local = plotContainer.toLocal(this._root.documentPointToRoot({ x: event.clientX, y: event.clientY }));\r\n            if (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\")) {\r\n                var touchEvent = event;\r\n                var pointerId = touchEvent.pointerId;\r\n                if (pointerId) {\r\n                    if ($object.keys(plotContainer._downPoints).length > 0) {\r\n                        var xAxis = this.xAxes.getIndex(0);\r\n                        var yAxis = this.yAxes.getIndex(0);\r\n                        if (xAxis) {\r\n                            this._downStartX = xAxis.get(\"start\", 0);\r\n                            this._downEndX = xAxis.get(\"end\", 1);\r\n                        }\r\n                        if (yAxis) {\r\n                            this._downStartY = yAxis.get(\"start\", 0);\r\n                            this._downEndY = yAxis.get(\"end\", 1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (this.get(\"panX\") || this.get(\"panY\")) {\r\n                if (local.x >= 0 && local.y >= 0 && local.x <= plotContainer.width() && local.y <= this.height()) {\r\n                    //this._downPoint = local;\r\n                    this._downPoint = { x: event.clientX, y: event.clientY };\r\n                    var panX = this.get(\"panX\");\r\n                    var panY = this.get(\"panY\");\r\n                    if (panX) {\r\n                        this.xAxes.each(function (axis) {\r\n                            axis._panStart = axis.get(\"start\");\r\n                            axis._panEnd = axis.get(\"end\");\r\n                        });\r\n                    }\r\n                    if (panY) {\r\n                        this.yAxes.each(function (axis) {\r\n                            axis._panStart = axis.get(\"start\");\r\n                            axis._panEnd = axis.get(\"end\");\r\n                        });\r\n                    }\r\n                    var eventType = \"panstarted\";\r\n                    if (this.events.isEnabled(eventType)) {\r\n                        this.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handleWheelAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (animation) {\r\n            var _this = this;\r\n            if (animation) {\r\n                animation.events.on(\"stopped\", function () {\r\n                    _this._dispatchWheelAnimation();\r\n                });\r\n            }\r\n            else {\r\n                this._dispatchWheelAnimation();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_dispatchWheelAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var eventType = \"wheelended\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, { type: eventType, target: this });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handlePlotUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            var downPoint = this._downPoint;\r\n            if (downPoint) {\r\n                if (this.get(\"panX\") || this.get(\"panY\")) {\r\n                    var local = this.plotContainer.toLocal(this._root.documentPointToRoot({ x: event.clientX, y: event.clientY }));\r\n                    if (local.x == downPoint.x && local.y == downPoint.y) {\r\n                        var eventType_1 = \"pancancelled\";\r\n                        if (this.events.isEnabled(eventType_1)) {\r\n                            this.events.dispatch(eventType_1, { type: eventType_1, target: this, originalEvent: event });\r\n                        }\r\n                    }\r\n                    var eventType = \"panended\";\r\n                    if (this.events.isEnabled(eventType)) {\r\n                        this.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event });\r\n                    }\r\n                }\r\n            }\r\n            // TODO: handle multitouch\r\n            this._downPoint = undefined;\r\n            this.xAxes.each(function (xAxis) {\r\n                xAxis._isPanning = false;\r\n            });\r\n            this.yAxes.each(function (yAxis) {\r\n                yAxis._isPanning = false;\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handlePlotMove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            var plotContainer = this.plotContainer;\r\n            if (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\")) {\r\n                var touchEvent = event;\r\n                var pointerId = touchEvent.pointerId;\r\n                if (pointerId) {\r\n                    this._movePoints[pointerId] = this._root.documentPointToRoot({ x: event.clientX, y: event.clientY });\r\n                    if ($object.keys(plotContainer._downPoints).length > 1) {\r\n                        this._handlePinch();\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            var downPoint = this._downPoint;\r\n            if (downPoint) {\r\n                downPoint = plotContainer.toLocal(this._root.documentPointToRoot(downPoint));\r\n                var local_1 = plotContainer.toLocal(this._root.documentPointToRoot({ x: event.clientX, y: event.clientY }));\r\n                var panX = this.get(\"panX\");\r\n                var panY = this.get(\"panY\");\r\n                if (panX) {\r\n                    var scrollbarX = this.get(\"scrollbarX\");\r\n                    if (scrollbarX) {\r\n                        scrollbarX.events.disableType(\"rangechanged\");\r\n                    }\r\n                    this.xAxes.each(function (axis) {\r\n                        if (axis.get(\"panX\")) {\r\n                            axis._isPanning = true;\r\n                            //const maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                            var panStart = axis._panStart;\r\n                            var panEnd = axis._panEnd;\r\n                            var difference = (panEnd - panStart);\r\n                            var deltaX = difference * (downPoint.x - local_1.x) / plotContainer.width();\r\n                            if (axis.get(\"renderer\").get(\"inversed\")) {\r\n                                deltaX *= -1;\r\n                            }\r\n                            var start = panStart + deltaX;\r\n                            var end = panEnd + deltaX;\r\n                            if (end - start < 1 + axis.get(\"maxDeviation\", 1) * 2) {\r\n                                axis.set(\"start\", start);\r\n                                axis.set(\"end\", end);\r\n                            }\r\n                        }\r\n                    });\r\n                    if (scrollbarX) {\r\n                        scrollbarX.events.enableType(\"rangechanged\");\r\n                    }\r\n                }\r\n                if (panY) {\r\n                    var scrollbarY = this.get(\"scrollbarY\");\r\n                    if (scrollbarY) {\r\n                        scrollbarY.events.disableType(\"rangechanged\");\r\n                    }\r\n                    this.yAxes.each(function (axis) {\r\n                        if (axis.get(\"panY\")) {\r\n                            axis._isPanning = true;\r\n                            //const maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                            var panStart = axis._panStart;\r\n                            var panEnd = axis._panEnd;\r\n                            var difference = (panEnd - panStart);\r\n                            var deltaY = difference * (downPoint.y - local_1.y) / plotContainer.height();\r\n                            if (axis.get(\"renderer\").get(\"inversed\")) {\r\n                                deltaY *= -1;\r\n                            }\r\n                            var start = panStart - deltaY;\r\n                            var end = panEnd - deltaY;\r\n                            if (end - start < 1 + axis.get(\"maxDeviation\", 1) * 2) {\r\n                                axis.set(\"start\", start);\r\n                                axis.set(\"end\", end);\r\n                            }\r\n                        }\r\n                    });\r\n                    if (scrollbarY) {\r\n                        scrollbarY.events.enableType(\"rangechanged\");\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handlePinch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _a, _b, _c, _d;\r\n            var _this = this;\r\n            var plotContainer = this.plotContainer;\r\n            var i = 0;\r\n            var downPoints = [];\r\n            var movePoints = [];\r\n            $object.each(plotContainer._downPoints, function (k, point) {\r\n                downPoints[i] = point;\r\n                var movePoint = _this._movePoints[k];\r\n                if (movePoint) {\r\n                    movePoints[i] = movePoint;\r\n                }\r\n                i++;\r\n            });\r\n            if (downPoints.length > 1 && movePoints.length > 1) {\r\n                var w = plotContainer.width();\r\n                var h = plotContainer.height();\r\n                var downPoint0 = downPoints[0];\r\n                var downPoint1 = downPoints[1];\r\n                var movePoint0 = movePoints[0];\r\n                var movePoint1 = movePoints[1];\r\n                if (downPoint0 && downPoint1 && movePoint0 && movePoint1) {\r\n                    movePoint0 = plotContainer.toLocal(movePoint0);\r\n                    movePoint1 = plotContainer.toLocal(movePoint1);\r\n                    downPoint0 = plotContainer.toLocal(downPoint0);\r\n                    downPoint1 = plotContainer.toLocal(downPoint1);\r\n                    if (this.get(\"pinchZoomX\")) {\r\n                        var downStartX = this._downStartX;\r\n                        var downEndX = this._downEndX;\r\n                        if (downStartX != null && downEndX != null) {\r\n                            if (downPoint0.x > downPoint1.x) {\r\n                                _a = __read([downPoint1, downPoint0], 2), downPoint0 = _a[0], downPoint1 = _a[1];\r\n                                _b = __read([movePoint1, movePoint0], 2), movePoint0 = _b[0], movePoint1 = _b[1];\r\n                            }\r\n                            var downPos0 = downStartX + (downPoint0.x / w) * (downEndX - downStartX);\r\n                            var downPos1 = downStartX + (downPoint1.x / w) * (downEndX - downStartX);\r\n                            var movePos0 = downStartX + (movePoint0.x / w) * (downEndX - downStartX);\r\n                            var movePos1 = downStartX + (movePoint1.x / w) * (downEndX - downStartX);\r\n                            var initialDistance = Math.max(0.001, downPos1 - downPos0);\r\n                            var currentDistance = Math.max(0.001, movePos1 - movePos0);\r\n                            var d = initialDistance / currentDistance;\r\n                            var s_1 = downStartX * d + downPos0 - movePos0 * d;\r\n                            var e_1 = downEndX * d + downPos1 - movePos1 * d;\r\n                            this.xAxes.each(function (xAxis) {\r\n                                var sa = xAxis.fixPosition(s_1);\r\n                                var ea = xAxis.fixPosition(e_1);\r\n                                xAxis.zoom(sa, ea, 0);\r\n                            });\r\n                        }\r\n                    }\r\n                    if (this.get(\"pinchZoomY\")) {\r\n                        var downStartY = this._downStartY;\r\n                        var downEndY = this._downEndY;\r\n                        if (downStartY != null && downEndY != null) {\r\n                            if (downPoint0.y < downPoint1.y) {\r\n                                _c = __read([downPoint1, downPoint0], 2), downPoint0 = _c[0], downPoint1 = _c[1];\r\n                                _d = __read([movePoint1, movePoint0], 2), movePoint0 = _d[0], movePoint1 = _d[1];\r\n                            }\r\n                            var downPos0 = downStartY + (1 - downPoint0.y / h) * (downEndY - downStartY);\r\n                            var downPos1 = downStartY + (1 - downPoint1.y / h) * (downEndY - downStartY);\r\n                            var movePos0 = downStartY + (1 - movePoint0.y / h) * (downEndY - downStartY);\r\n                            var movePos1 = downStartY + (1 - movePoint1.y / h) * (downEndY - downStartY);\r\n                            var initialDistance = Math.max(0.001, downPos1 - downPos0);\r\n                            var currentDistance = Math.max(0.001, movePos1 - movePos0);\r\n                            var d = initialDistance / currentDistance;\r\n                            var s_2 = downStartY * d + downPos0 - movePos0 * d;\r\n                            var e_2 = downEndY * d + downPos1 - movePos1 * d;\r\n                            this.yAxes.each(function (yAxis) {\r\n                                var sa = yAxis.fixPosition(s_2);\r\n                                var ea = yAxis.fixPosition(e_2);\r\n                                yAxis.zoom(sa, ea, 0);\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handleCursorPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var cursor = this.get(\"cursor\");\r\n            if (cursor) {\r\n                var cursorPoint_1 = cursor.getPrivate(\"point\");\r\n                var snapToSeries = cursor.get(\"snapToSeries\");\r\n                if (snapToSeries && cursorPoint_1) {\r\n                    var snapToSeriesBy_1 = cursor.get(\"snapToSeriesBy\");\r\n                    var dataItems_1 = [];\r\n                    $array.each(snapToSeries, function (series) {\r\n                        if (!series.isHidden() && !series.isHiding()) {\r\n                            if (snapToSeriesBy_1 != \"x!\" && snapToSeriesBy_1 != \"y!\") {\r\n                                var startIndex = series.startIndex();\r\n                                var endIndex = series.endIndex();\r\n                                for (var i = startIndex; i < endIndex; i++) {\r\n                                    var dataItem = series.dataItems[i];\r\n                                    if (dataItem && !dataItem.isHidden()) {\r\n                                        dataItems_1.push(dataItem);\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                var tooltipDataItem = series.get(\"tooltipDataItem\");\r\n                                if (tooltipDataItem) {\r\n                                    dataItems_1.push(tooltipDataItem);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                    var minDistance_1 = Infinity;\r\n                    var closestItem_1;\r\n                    $array.each(dataItems_1, function (dataItem) {\r\n                        var point = dataItem.get(\"point\");\r\n                        if (point) {\r\n                            var distance = 0;\r\n                            if (snapToSeriesBy_1 == \"x\" || snapToSeriesBy_1 == \"x!\") {\r\n                                distance = Math.abs(cursorPoint_1.x - point.x);\r\n                            }\r\n                            else if (snapToSeriesBy_1 == \"y\" || snapToSeriesBy_1 == \"y!\") {\r\n                                distance = Math.abs(cursorPoint_1.y - point.y);\r\n                            }\r\n                            else {\r\n                                distance = Math.hypot(cursorPoint_1.x - point.x, cursorPoint_1.y - point.y);\r\n                            }\r\n                            if (distance < minDistance_1) {\r\n                                minDistance_1 = distance;\r\n                                closestItem_1 = dataItem;\r\n                            }\r\n                        }\r\n                    });\r\n                    $array.each(snapToSeries, function (series) {\r\n                        var tooltip = series.get(\"tooltip\");\r\n                        if (tooltip) {\r\n                            tooltip._setDataItem(undefined);\r\n                        }\r\n                    });\r\n                    if (closestItem_1) {\r\n                        var series = closestItem_1.component;\r\n                        series.showDataItemTooltip(closestItem_1);\r\n                        var point = closestItem_1.get(\"point\");\r\n                        if (point) {\r\n                            cursor.handleMove(series.toGlobal(point), true);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_updateCursor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var cursor = this.get(\"cursor\");\r\n            if (cursor) {\r\n                cursor.handleMove();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_addCursor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (cursor) {\r\n            this.plotContainer.children.push(cursor);\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._prepareChildren.call(this);\r\n            this.series.each(function (series) {\r\n                _this._colorize(series);\r\n            });\r\n            if (this.isDirty(\"wheelX\") || this.isDirty(\"wheelY\")) {\r\n                this._handleSetWheel();\r\n            }\r\n            if (this.isDirty(\"cursor\")) {\r\n                var previous = this._prevSettings.cursor;\r\n                var cursor = this.get(\"cursor\");\r\n                if (cursor !== previous) {\r\n                    this._disposeProperty(\"cursor\");\r\n                    if (previous) {\r\n                        previous.dispose();\r\n                    }\r\n                    if (cursor) {\r\n                        cursor._setChart(this);\r\n                        this._addCursor(cursor);\r\n                        this._pushPropertyDisposer(\"cursor\", cursor.events.on(\"selectended\", function () {\r\n                            _this._handleCursorSelectEnd();\r\n                        }));\r\n                    }\r\n                    //this.setRaw(\"cursor\", cursor) // to reset previous value\r\n                    this._prevSettings.cursor = cursor;\r\n                }\r\n            }\r\n            if (this.isDirty(\"scrollbarX\")) {\r\n                var previous = this._prevSettings.scrollbarX;\r\n                var scrollbarX = this.get(\"scrollbarX\");\r\n                if (scrollbarX !== previous) {\r\n                    this._disposeProperty(\"scrollbarX\");\r\n                    if (previous) {\r\n                        previous.dispose();\r\n                    }\r\n                    if (scrollbarX) {\r\n                        if (!scrollbarX.parent) {\r\n                            this.topAxesContainer.children.push(scrollbarX);\r\n                        }\r\n                        this._pushPropertyDisposer(\"scrollbarX\", scrollbarX.events.on(\"rangechanged\", function (e) {\r\n                            _this._handleScrollbar(_this.xAxes, e.start, e.end, e.grip);\r\n                        }));\r\n                        // Used to populate `ariaLabel` with meaningful values\r\n                        scrollbarX.setPrivate(\"positionTextFunction\", function (position) {\r\n                            var axis = _this.xAxes.getIndex(0);\r\n                            return axis ? axis.getTooltipText(position) || \"\" : \"\";\r\n                        });\r\n                    }\r\n                    this._prevSettings.scrollbarX = scrollbarX;\r\n                }\r\n            }\r\n            if (this.isDirty(\"scrollbarY\")) {\r\n                var previous = this._prevSettings.scrollbarY;\r\n                var scrollbarY = this.get(\"scrollbarY\");\r\n                if (scrollbarY !== previous) {\r\n                    this._disposeProperty(\"scrollbarY\");\r\n                    if (previous) {\r\n                        previous.dispose();\r\n                    }\r\n                    if (scrollbarY) {\r\n                        if (!scrollbarY.parent) {\r\n                            this.rightAxesContainer.children.push(scrollbarY);\r\n                        }\r\n                        this._pushPropertyDisposer(\"scrollbarY\", scrollbarY.events.on(\"rangechanged\", function (e) {\r\n                            _this._handleScrollbar(_this.yAxes, e.start, e.end, e.grip);\r\n                        }));\r\n                        // Used to populate `ariaLabel` with meaningful values\r\n                        scrollbarY.setPrivate(\"positionTextFunction\", function (position) {\r\n                            var axis = _this.yAxes.getIndex(0);\r\n                            return axis ? axis.getTooltipText(position) || \"\" : \"\";\r\n                        });\r\n                    }\r\n                    this._prevSettings.scrollbarY = scrollbarY;\r\n                }\r\n            }\r\n            this._handleZoomOut();\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_processSeries\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            _super.prototype._processSeries.call(this, series);\r\n            this._colorize(series);\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            var colorSet = this.get(\"colors\");\r\n            if (colorSet) {\r\n                if (series.get(\"fill\") == null) {\r\n                    var color = colorSet.next();\r\n                    series._setSoft(\"stroke\", color);\r\n                    series._setSoft(\"fill\", color);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handleCursorSelectEnd\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var cursor = this.get(\"cursor\");\r\n            var behavior = cursor.get(\"behavior\");\r\n            var downPositionX = cursor.getPrivate(\"downPositionX\", 0);\r\n            var downPositionY = cursor.getPrivate(\"downPositionY\", 0);\r\n            var positionX = cursor.getPrivate(\"positionX\", 0.5);\r\n            var positionY = cursor.getPrivate(\"positionY\", 0.5);\r\n            this.xAxes.each(function (axis) {\r\n                if (behavior === \"zoomX\" || behavior === \"zoomXY\") {\r\n                    var position0 = axis.toAxisPosition(downPositionX);\r\n                    var position1 = axis.toAxisPosition(positionX);\r\n                    axis.zoom(position0, position1);\r\n                }\r\n                axis.setPrivate(\"updateScrollbar\", true);\r\n            });\r\n            this.yAxes.each(function (axis) {\r\n                if (behavior === \"zoomY\" || behavior === \"zoomXY\") {\r\n                    var position0 = axis.toAxisPosition(downPositionY);\r\n                    var position1 = axis.toAxisPosition(positionY);\r\n                    axis.zoom(position0, position1);\r\n                }\r\n                axis.setPrivate(\"updateScrollbar\", true);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handleScrollbar\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axes, start, end, priority) {\r\n            axes.each(function (axis) {\r\n                var axisStart = axis.fixPosition(start);\r\n                var axisEnd = axis.fixPosition(end);\r\n                var zoomAnimation = axis.zoom(axisStart, axisEnd, undefined, priority);\r\n                var updateScrollbar = \"updateScrollbar\";\r\n                axis.setPrivateRaw(updateScrollbar, false);\r\n                if (zoomAnimation) {\r\n                    zoomAnimation.events.on(\"stopped\", function () {\r\n                        axis.setPrivateRaw(updateScrollbar, true);\r\n                    });\r\n                }\r\n                else {\r\n                    axis.setPrivateRaw(updateScrollbar, true);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_processAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axes, container) {\r\n            var _this = this;\r\n            return axes.events.onAll(function (change) {\r\n                if (change.type === \"clear\") {\r\n                    $array.each(change.oldValues, function (axis) {\r\n                        _this._removeAxis(axis);\r\n                    });\r\n                }\r\n                else if (change.type === \"push\") {\r\n                    container.children.push(change.newValue);\r\n                    change.newValue.processChart(_this);\r\n                }\r\n                else if (change.type === \"setIndex\") {\r\n                    container.children.setIndex(change.index, change.newValue);\r\n                    change.newValue.processChart(_this);\r\n                }\r\n                else if (change.type === \"insertIndex\") {\r\n                    container.children.insertIndex(change.index, change.newValue);\r\n                    change.newValue.processChart(_this);\r\n                }\r\n                else if (change.type === \"removeIndex\") {\r\n                    _this._removeAxis(change.oldValue);\r\n                }\r\n                else if (change.type === \"moveIndex\") {\r\n                    container.children.moveValue(change.value, change.newIndex);\r\n                    change.value.processChart(_this);\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown IListEvent type\");\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_removeAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axis) {\r\n            if (!axis.isDisposed()) {\r\n                var axisParent = axis.parent;\r\n                if (axisParent) {\r\n                    axisParent.children.removeValue(axis);\r\n                }\r\n                var gridContainer = axis.gridContainer;\r\n                var gridParent = gridContainer.parent;\r\n                if (gridParent) {\r\n                    gridParent.children.removeValue(gridContainer);\r\n                }\r\n                var topGridContainer = axis.topGridContainer;\r\n                var topGridParent = topGridContainer.parent;\r\n                if (topGridParent) {\r\n                    topGridParent.children.removeValue(topGridContainer);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_updateChartLayout\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var left = this.leftAxesContainer.width();\r\n            var right = this.rightAxesContainer.width();\r\n            var bottomAxesContainer = this.bottomAxesContainer;\r\n            bottomAxesContainer.set(\"paddingLeft\", left);\r\n            bottomAxesContainer.set(\"paddingRight\", right);\r\n            var topAxesContainer = this.topAxesContainer;\r\n            topAxesContainer.set(\"paddingLeft\", left);\r\n            topAxesContainer.set(\"paddingRight\", right);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYChart.prototype, \"processAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_axis) { }\r\n    });\r\n    ;\r\n    Object.defineProperty(XYChart.prototype, \"_handleAxisSelection\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axis, force) {\r\n            var _a;\r\n            var start = axis.fixPosition(axis.get(\"start\", 0));\r\n            var end = axis.fixPosition(axis.get(\"end\", 1));\r\n            if (start > end) {\r\n                _a = __read([end, start], 2), start = _a[0], end = _a[1];\r\n            }\r\n            if (this.xAxes.indexOf(axis) != -1) {\r\n                if (force || axis.getPrivate(\"updateScrollbar\")) {\r\n                    var scrollbarX = this.get(\"scrollbarX\");\r\n                    if (scrollbarX && (!scrollbarX.getPrivate(\"isBusy\") || force)) {\r\n                        scrollbarX.setRaw(\"start\", start);\r\n                        scrollbarX.setRaw(\"end\", end);\r\n                        scrollbarX.updateGrips();\r\n                    }\r\n                }\r\n            }\r\n            else if (this.yAxes.indexOf(axis) != -1) {\r\n                if (force || axis.getPrivate(\"updateScrollbar\")) {\r\n                    var scrollbarY = this.get(\"scrollbarY\");\r\n                    if (scrollbarY && (!scrollbarY.getPrivate(\"isBusy\") || force)) {\r\n                        scrollbarY.setRaw(\"start\", start);\r\n                        scrollbarY.setRaw(\"end\", end);\r\n                        scrollbarY.updateGrips();\r\n                    }\r\n                }\r\n            }\r\n            this._handleZoomOut();\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handleZoomOut\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var zoomOutButton = this.zoomOutButton;\r\n            if (zoomOutButton && zoomOutButton.parent) {\r\n                var visible_1 = false;\r\n                this.xAxes.each(function (axis) {\r\n                    if (axis.get(\"start\") != 0 || axis.get(\"end\") != 1) {\r\n                        visible_1 = true;\r\n                    }\r\n                });\r\n                this.yAxes.each(function (axis) {\r\n                    if (axis.get(\"start\") != 0 || axis.get(\"end\") != 1) {\r\n                        visible_1 = true;\r\n                    }\r\n                });\r\n                if (visible_1) {\r\n                    if (zoomOutButton.isHidden()) {\r\n                        zoomOutButton.show();\r\n                    }\r\n                }\r\n                else {\r\n                    zoomOutButton.hide();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Checks if point is within plot area.\r\n     *\r\n     * @param   point  Reference point\r\n     * @return         Is within plot area?\r\n     */\r\n    Object.defineProperty(XYChart.prototype, \"inPlot\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            var plotContainer = this.plotContainer;\r\n            var otherCharts = this.getPrivate(\"otherCharts\", this._otherCharts);\r\n            var global = plotContainer.toGlobal(point);\r\n            if (point.x >= -0.1 && point.y >= -0.1 && point.x <= plotContainer.width() + 0.1 && point.y <= plotContainer.height() + 0.1) {\r\n                return true;\r\n            }\r\n            if (otherCharts) {\r\n                for (var i = otherCharts.length - 1; i >= 0; i--) {\r\n                    var chart = otherCharts[i];\r\n                    if (chart != this) {\r\n                        var chartPlotContainer = chart.plotContainer;\r\n                        var documentPoint = this._root.rootPointToDocument(global);\r\n                        var chartRoot = chart._root.documentPointToRoot(documentPoint);\r\n                        var local = chartPlotContainer.toLocal(chartRoot);\r\n                        if (local.x >= -0.1 && local.y >= -0.1 && local.x <= chartPlotContainer.width() + 0.1 && local.y <= chartPlotContainer.height() + 0.1) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYChart.prototype, \"arrangeTooltips\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var plotContainer = this.plotContainer;\r\n            var w = plotContainer.width();\r\n            var h = plotContainer.height();\r\n            var plotT = plotContainer._display.toGlobal({ x: 0, y: 0 });\r\n            var plotB = plotContainer._display.toGlobal({ x: w, y: h });\r\n            var tooltips = [];\r\n            var sum = 0;\r\n            var minDistance = Infinity;\r\n            var movePoint = this._movePoint;\r\n            var maxTooltipDistance = this.get(\"maxTooltipDistance\");\r\n            var maxTooltipDistanceBy = this.get(\"maxTooltipDistanceBy\", \"xy\");\r\n            var closest;\r\n            var closestPoint;\r\n            if ($type.isNumber(maxTooltipDistance)) {\r\n                this.series.each(function (series) {\r\n                    var tooltip = series.get(\"tooltip\");\r\n                    if (tooltip) {\r\n                        var point = tooltip.get(\"pointTo\");\r\n                        if (point) {\r\n                            var distance = Math.hypot(movePoint.x - point.x, movePoint.y - point.y);\r\n                            if (maxTooltipDistanceBy == \"x\") {\r\n                                distance = Math.abs(movePoint.x - point.x);\r\n                            }\r\n                            else if (maxTooltipDistanceBy == \"y\") {\r\n                                distance = Math.abs(movePoint.y - point.y);\r\n                            }\r\n                            if (distance < minDistance) {\r\n                                minDistance = distance;\r\n                                closest = series;\r\n                                closestPoint = point;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            var tooltipSeries = [];\r\n            this.series.each(function (series) {\r\n                var tooltip = series.get(\"tooltip\");\r\n                if (tooltip) {\r\n                    var hidden = false;\r\n                    var point = tooltip.get(\"pointTo\");\r\n                    if (point) {\r\n                        if (maxTooltipDistance >= 0) {\r\n                            var point_1 = tooltip.get(\"pointTo\");\r\n                            if (point_1) {\r\n                                if (series != closest) {\r\n                                    var distance = Math.hypot(closestPoint.x - point_1.x, closestPoint.y - point_1.y);\r\n                                    if (maxTooltipDistanceBy == \"x\") {\r\n                                        distance = Math.abs(closestPoint.x - point_1.x);\r\n                                    }\r\n                                    else if (maxTooltipDistanceBy == \"y\") {\r\n                                        distance = Math.abs(closestPoint.y - point_1.y);\r\n                                    }\r\n                                    if (distance > maxTooltipDistance) {\r\n                                        hidden = true;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        else if (maxTooltipDistance == -1) {\r\n                            if (series != closest) {\r\n                                hidden = true;\r\n                            }\r\n                        }\r\n                        if (!_this.inPlot(_this._tooltipToLocal(point)) || !tooltip.dataItem) {\r\n                            hidden = true;\r\n                        }\r\n                        else {\r\n                            if (!hidden) {\r\n                                sum += point.y;\r\n                            }\r\n                        }\r\n                        if (hidden || series.isHidden() || series.isHiding()) {\r\n                            tooltip.hide(0);\r\n                        }\r\n                        else {\r\n                            tooltip.show();\r\n                            tooltips.push(tooltip);\r\n                            tooltipSeries.push(series);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.setPrivate(\"tooltipSeries\", tooltipSeries);\r\n            if (this.get(\"arrangeTooltips\")) {\r\n                var tooltipContainer_1 = this._root.tooltipContainer;\r\n                var count = tooltips.length;\r\n                var average = sum / count;\r\n                if (average > h / 2 + plotT.y) {\r\n                    tooltips.sort(function (a, b) { return $order.compareNumber(b.get(\"pointTo\").y, a.get(\"pointTo\").y); });\r\n                    var prevY_1 = plotB.y;\r\n                    $array.each(tooltips, function (tooltip) {\r\n                        var height = tooltip.height();\r\n                        var centerY = tooltip.get(\"centerY\");\r\n                        if (centerY instanceof Percent) {\r\n                            height *= centerY.value;\r\n                        }\r\n                        height += tooltip.get(\"marginBottom\", 0);\r\n                        tooltip.set(\"bounds\", { left: plotT.x, top: plotT.y, right: plotB.x, bottom: prevY_1 });\r\n                        prevY_1 = Math.min(prevY_1 - height, tooltip._fy - height);\r\n                        if (tooltip.parent == tooltipContainer_1) {\r\n                            tooltipContainer_1.children.moveValue(tooltip, 0);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    tooltips.reverse();\r\n                    tooltips.sort(function (a, b) { return $order.compareNumber(a.get(\"pointTo\").y, b.get(\"pointTo\").y); });\r\n                    var prevY_2 = 0;\r\n                    $array.each(tooltips, function (tooltip) {\r\n                        var height = tooltip.height();\r\n                        var centerY = tooltip.get(\"centerY\");\r\n                        if (centerY instanceof Percent) {\r\n                            height *= centerY.value;\r\n                        }\r\n                        height += tooltip.get(\"marginBottom\", 0);\r\n                        tooltip.set(\"bounds\", { left: plotT.x, top: prevY_2, right: plotB.x, bottom: Math.max(plotT.y + h, prevY_2 + height) });\r\n                        if (tooltip.parent == tooltipContainer_1) {\r\n                            tooltipContainer_1.children.moveValue(tooltip, 0);\r\n                        }\r\n                        prevY_2 = Math.max(prevY_2 + height, tooltip._fy + height);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_tooltipToLocal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return this.plotContainer.toLocal(point);\r\n        }\r\n    });\r\n    /**\r\n     * Fully zooms out the chart.\r\n     */\r\n    Object.defineProperty(XYChart.prototype, \"zoomOut\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.xAxes.each(function (axis) {\r\n                axis.setPrivate(\"updateScrollbar\", true);\r\n                axis.zoom(0, 1);\r\n            });\r\n            this.yAxes.each(function (axis) {\r\n                axis.setPrivate(\"updateScrollbar\", true);\r\n                axis.zoom(0, 1);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"XYChart\"\r\n    });\r\n    Object.defineProperty(XYChart, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: SerialChart.classNames.concat([XYChart.className])\r\n    });\r\n    return XYChart;\r\n}(SerialChart));\r\nexport { XYChart };\r\n//# sourceMappingURL=XYChart.js.map","import { __extends } from \"tslib\";\r\nimport { List } from \"./List\";\r\n/**\r\n * A [[List]] that holds components data.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n */\r\nvar ListData = /** @class */ (function (_super) {\r\n    __extends(ListData, _super);\r\n    function ListData() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * An optional processor for data.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/data/#Pre_processing_data} for more info\r\n         */\r\n        Object.defineProperty(_this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ListData.prototype, \"incrementRef\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ListData.prototype, \"decrementRef\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    Object.defineProperty(ListData.prototype, \"_onPush\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (newValue) {\r\n            if (this.processor) {\r\n                this.processor.processRow(newValue);\r\n                //console.log(newValue)\r\n            }\r\n            _super.prototype._onPush.call(this, newValue);\r\n        }\r\n    });\r\n    Object.defineProperty(ListData.prototype, \"_onInsertIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, newValue) {\r\n            if (this.processor) {\r\n                this.processor.processRow(newValue);\r\n            }\r\n            _super.prototype._onInsertIndex.call(this, index, newValue);\r\n        }\r\n    });\r\n    Object.defineProperty(ListData.prototype, \"_onSetIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, oldValue, newValue) {\r\n            if (this.processor) {\r\n                this.processor.processRow(newValue);\r\n            }\r\n            _super.prototype._onSetIndex.call(this, index, oldValue, newValue);\r\n        }\r\n    });\r\n    return ListData;\r\n}(List));\r\nexport { ListData };\r\n/**\r\n * @deprecated\r\n * @todo remove\r\n */\r\nvar JsonData = /** @class */ (function () {\r\n    function JsonData(value) {\r\n        Object.defineProperty(this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = value;\r\n    }\r\n    Object.defineProperty(JsonData.prototype, \"incrementRef\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    Object.defineProperty(JsonData.prototype, \"decrementRef\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    return JsonData;\r\n}());\r\nexport { JsonData };\r\n//# sourceMappingURL=Data.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { Settings } from \"../util/Entity\";\r\nimport { Container } from \"./Container\";\r\nimport { ListData } from \"../util/Data\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $object from \"../util/Object\";\r\n/**\r\n * A base element that holds data bit (data item) for any [[Component]].\r\n */\r\nvar DataItem = /** @class */ (function (_super) {\r\n    __extends(DataItem, _super);\r\n    function DataItem(component, dataContext, settings) {\r\n        var _this = _super.call(this, settings) || this;\r\n        /**\r\n         * A data item's owener [[Component]].\r\n         */\r\n        Object.defineProperty(_this, \"component\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A reference to actual item in source data this item is based on.\r\n         */\r\n        Object.defineProperty(_this, \"dataContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * @todo requires description\r\n         */\r\n        Object.defineProperty(_this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"open\" values.\r\n         */\r\n        Object.defineProperty(_this, \"open\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"close\" values.\r\n         */\r\n        Object.defineProperty(_this, \"close\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this.dataContext = dataContext;\r\n        _this.component = component;\r\n        _this._settings.visible = true;\r\n        _this._checkDirty();\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DataItem.prototype, \"markDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.component.markDirtyValues(this);\r\n        }\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"_startAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.component._root._addAnimation(this);\r\n        }\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"_animationTime\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.component._root.animationTime;\r\n        }\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.component) {\r\n                this.component.disposeDataItem(this);\r\n            }\r\n            _super.prototype._dispose.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * Shows a data item that's currently hidden.\r\n     */\r\n    Object.defineProperty(DataItem.prototype, \"show\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            this.setRaw(\"visible\", true);\r\n            if (this.component) {\r\n                this.component.showDataItem(this, duration);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Hides a data item that's currently visible.\r\n     */\r\n    Object.defineProperty(DataItem.prototype, \"hide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            this.setRaw(\"visible\", false);\r\n            if (this.component) {\r\n                this.component.hideDataItem(this, duration);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"isHidden\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return !this.get(\"visible\");\r\n        }\r\n    });\r\n    return DataItem;\r\n}(Settings));\r\nexport { DataItem };\r\n/**\r\n * A base class for elements that make use of data.\r\n */\r\nvar Component = /** @class */ (function (_super) {\r\n    __extends(Component, _super);\r\n    function Component() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_data\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListData()\r\n        });\r\n        Object.defineProperty(_this, \"_dataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_mainDataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._dataItems\r\n        });\r\n        Object.defineProperty(_this, \"valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\"id\"]\r\n        });\r\n        Object.defineProperty(_this, \"_valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_valueFieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_fieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_valuesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_dataChanged\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_dataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Indicates if the component has already been initialized.\r\n         */\r\n        Object.defineProperty(_this, \"inited\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Component.prototype, \"data\", {\r\n        /**\r\n         * @return  Data\r\n         */\r\n        get: function () {\r\n            return this._data;\r\n        },\r\n        /**\r\n         * Component's data.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n         */\r\n        set: function (data) {\r\n            data.incrementRef();\r\n            this._data.decrementRef();\r\n            this._data = data;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._dispose.call(this);\r\n            this._data.decrementRef();\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_onDataClear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._afterNew.call(this);\r\n            this._data.incrementRef();\r\n            this._updateFields();\r\n            this._disposers.push(this.data.events.onAll(function (change) {\r\n                var dataItems = _this._mainDataItems;\r\n                _this.markDirtyValues();\r\n                _this._markDirtyGroup();\r\n                _this._dataChanged = true;\r\n                if (change.type === \"clear\") {\r\n                    $array.each(dataItems, function (dataItem) {\r\n                        dataItem.dispose();\r\n                    });\r\n                    dataItems.length = 0;\r\n                    _this._onDataClear();\r\n                }\r\n                else if (change.type === \"push\") {\r\n                    var dataItem = new DataItem(_this, change.newValue, _this._makeDataItem(change.newValue));\r\n                    dataItems.push(dataItem);\r\n                    _this.processDataItem(dataItem);\r\n                }\r\n                else if (change.type === \"setIndex\") {\r\n                    var dataItem_1 = dataItems[change.index];\r\n                    var properties_1 = _this._makeDataItem(change.newValue);\r\n                    $object.keys(properties_1).forEach(function (key) {\r\n                        dataItem_1.animate({\r\n                            key: key,\r\n                            to: properties_1[key],\r\n                            duration: _this.get(\"interpolationDuration\", 0),\r\n                            easing: _this.get(\"interpolationEasing\"),\r\n                        });\r\n                    });\r\n                    dataItem_1.dataContext = change.newValue;\r\n                }\r\n                else if (change.type === \"insertIndex\") {\r\n                    var dataItem = new DataItem(_this, change.newValue, _this._makeDataItem(change.newValue));\r\n                    dataItems.splice(change.index, 0, dataItem);\r\n                    _this.processDataItem(dataItem);\r\n                }\r\n                else if (change.type === \"removeIndex\") {\r\n                    var dataItem = dataItems[change.index];\r\n                    dataItem.dispose();\r\n                    dataItems.splice(change.index, 1);\r\n                }\r\n                else if (change.type === \"moveIndex\") {\r\n                    var dataItem = dataItems[change.oldIndex];\r\n                    dataItems.splice(change.oldIndex, 1);\r\n                    dataItems.splice(change.newIndex, 0, dataItem);\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown IStreamEvent type\");\r\n                }\r\n                _this._afterDataChange();\r\n            }));\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_updateFields\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            if (this.valueFields) {\r\n                this._valueFields = [];\r\n                this._valueFieldsF = {};\r\n                $array.each(this.valueFields, function (key) {\r\n                    var field = _this.get((key + \"Field\"));\r\n                    if (field) {\r\n                        _this._valueFields.push(key);\r\n                        _this._valueFieldsF[key] = { fieldKey: key + \"Field\", workingKey: key + \"Working\" };\r\n                    }\r\n                });\r\n            }\r\n            if (this.fields) {\r\n                this._fields = [];\r\n                this._fieldsF = {};\r\n                $array.each(this.fields, function (key) {\r\n                    var field = _this.get((key + \"Field\"));\r\n                    if (field) {\r\n                        _this._fields.push(key);\r\n                        _this._fieldsF[key] = key + \"Field\";\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"dataItems\", {\r\n        /**\r\n         * A list of component's data items.\r\n         *\r\n         * @return  Data items\r\n         */\r\n        get: function () {\r\n            return this._dataItems;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"processDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) { }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_makeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (data) {\r\n            var _this = this;\r\n            //const output: this[\"_dataItemSettings\"] = {};\r\n            var output = {}; // temporary to solve error\r\n            if (this._valueFields) {\r\n                $array.each(this._valueFields, function (key) {\r\n                    var field = _this.get((_this._valueFieldsF[key].fieldKey));\r\n                    output[key] = data[field];\r\n                    output[_this._valueFieldsF[key].workingKey] = output[key];\r\n                });\r\n            }\r\n            if (this._fields) {\r\n                $array.each(this._fields, function (key) {\r\n                    var field = _this.get((_this._fieldsF[key]));\r\n                    output[key] = data[field];\r\n                });\r\n            }\r\n            return output;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Component.prototype, \"makeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (data) {\r\n            var dataItem = new DataItem(this, undefined, data);\r\n            this.processDataItem(dataItem);\r\n            return dataItem;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Component.prototype, \"pushDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (data) {\r\n            var dataItem = this.makeDataItem(data);\r\n            this._mainDataItems.push(dataItem);\r\n            return dataItem;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Component.prototype, \"disposeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) {\r\n        }\r\n    });\r\n    /**\r\n     * Shows component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    Object.defineProperty(Component.prototype, \"showDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, _duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    dataItem.set(\"visible\", true);\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Hides component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    Object.defineProperty(Component.prototype, \"hideDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, _duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    dataItem.set(\"visible\", false);\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._clearDirty.call(this);\r\n            this._valuesDirty = false;\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_afterDataChange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_afterChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterChanged.call(this);\r\n            if (this._dataChanged) {\r\n                var type = \"datavalidated\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, { type: type, target: this });\r\n                }\r\n                this._dataChanged = false;\r\n            }\r\n            this.inited = true;\r\n        }\r\n    });\r\n    /**\r\n     * Forces a repaint of the element which relies on data.\r\n     *\r\n     * @since 5.0.21\r\n     */\r\n    Object.defineProperty(Component.prototype, \"markDirtyValues\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) {\r\n            this.markDirty();\r\n            this._valuesDirty = true;\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_markDirtyGroup\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._dataGrouped = false;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Component.prototype, \"markDirtySize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._sizeDirty = true;\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(Component, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Component\"\r\n    });\r\n    Object.defineProperty(Component, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([Component.className])\r\n    });\r\n    return Component;\r\n}(Container));\r\nexport { Component };\r\n//# sourceMappingURL=Component.js.map","import { __extends, __read } from \"tslib\";\r\nimport { DataItem } from \"../../../core/render/Component\";\r\nimport { Component } from \"../../../core/render/Component\";\r\nimport { Container } from \"../../../core/render/Container\";\r\nimport { p100 } from \"../../../core/util/Percent\";\r\nimport { List } from \"../../../core/util/List\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * A base class for all axes.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Adding_axes} for more info\r\n */\r\nvar Axis = /** @class */ (function (_super) {\r\n    __extends(Axis, _super);\r\n    function Axis() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_isPanning\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis label elements.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"labelsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, {}))\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis grid and fill elements.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"gridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(_this._root, { width: p100, height: p100 })\r\n        });\r\n        /**\r\n         * A [[Container]] that holds axis grid elements which goes above the series.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"topGridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(_this._root, { width: p100, height: p100 })\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis bullet elements.\r\n         *\r\n         * @default new Container\r\n         */\r\n        Object.defineProperty(_this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, { isMeasured: false, width: p100, height: p100, position: \"absolute\" }))\r\n        });\r\n        /**\r\n         * A referenece to the the chart the axis belongs to.\r\n         */\r\n        Object.defineProperty(_this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_rangesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_panStart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_panEnd\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_sAnimation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_eAnimation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_skipSync\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A list of axis ranges.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n         * @default new List()\r\n         */\r\n        Object.defineProperty(_this, \"axisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        Object.defineProperty(_this, \"_seriesAxisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * A control label that is invisible but is used to keep width the width of\r\n         * the axis constant.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Ghost_label} for more info\r\n         */\r\n        Object.defineProperty(_this, \"ghostLabel\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_cursorPosition\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: -1\r\n        });\r\n        Object.defineProperty(_this, \"_snapToSeries\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_seriesValuesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A container above the axis that can be used to add additional stuff into\r\n         * it. For example a legend, label, or an icon.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/} for more info\r\n         * @default new Container\r\n         */\r\n        Object.defineProperty(_this, \"axisHeader\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, {\r\n                themeTags: [\"axis\", \"header\"],\r\n                position: \"absolute\",\r\n                background: Rectangle.new(_this._root, {\r\n                    themeTags: [\"header\", \"background\"],\r\n                    fill: _this._root.interfaceColors.get(\"background\")\r\n                })\r\n            }))\r\n        });\r\n        Object.defineProperty(_this, \"_bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Axis.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // these could be in other parents, so disposing just in case\r\n            this.gridContainer.dispose();\r\n            this.topGridContainer.dispose();\r\n            this.bulletsContainer.dispose();\r\n            this.labelsContainer.dispose();\r\n            this.axisHeader.dispose();\r\n            _super.prototype._dispose.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._afterNew.call(this);\r\n            this.setPrivate(\"updateScrollbar\", true);\r\n            this._disposers.push(this.axisRanges.events.onAll(function (change) {\r\n                if (change.type === \"clear\") {\r\n                    $array.each(change.oldValues, function (dataItem) {\r\n                        _this.disposeDataItem(dataItem);\r\n                    });\r\n                }\r\n                else if (change.type === \"push\") {\r\n                    _this._processAxisRange(change.newValue, [\"range\"]);\r\n                }\r\n                else if (change.type === \"setIndex\") {\r\n                    _this._processAxisRange(change.newValue, [\"range\"]);\r\n                }\r\n                else if (change.type === \"insertIndex\") {\r\n                    _this._processAxisRange(change.newValue, [\"range\"]);\r\n                }\r\n                else if (change.type === \"removeIndex\") {\r\n                    _this.disposeDataItem(change.oldValue);\r\n                }\r\n                else if (change.type === \"moveIndex\") {\r\n                    _this._processAxisRange(change.value, [\"range\"]);\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown IStreamEvent type\");\r\n                }\r\n            }));\r\n            var renderer = this.get(\"renderer\");\r\n            if (renderer) {\r\n                renderer.axis = this;\r\n                renderer.processAxis();\r\n            }\r\n            this.children.push(renderer);\r\n            this.ghostLabel = renderer.makeLabel(new DataItem(this, undefined, {}), []);\r\n            this.ghostLabel.adapters.disable(\"text\");\r\n            this.ghostLabel.set(\"opacity\", 0);\r\n        }\r\n    });\r\n    /**\r\n     * Zooms the axis to relative locations.\r\n     *\r\n     * Both `start` and `end` are relative: 0 means start of the axis, 1 - end.\r\n     *\r\n     * @param   start     Relative start\r\n     * @param   end       Relative end\r\n     * @param   duration  Duration of the zoom animation in milliseconds\r\n     * @return            Zoom animation\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"zoom\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (start, end, duration, priority) {\r\n            var _a;\r\n            var _this = this;\r\n            if (this.get(\"start\") !== start || this.get(\"end\") != end) {\r\n                var sAnimation = this._sAnimation;\r\n                var eAnimation = this._eAnimation;\r\n                var maxDeviation = this.get(\"maxDeviation\", 0.5) * Math.min(1, (end - start));\r\n                if (start < -maxDeviation) {\r\n                    start = -maxDeviation;\r\n                }\r\n                if (end > 1 + maxDeviation) {\r\n                    end = 1 + maxDeviation;\r\n                }\r\n                if (start > end) {\r\n                    _a = __read([end, start], 2), start = _a[0], end = _a[1];\r\n                }\r\n                if (!$type.isNumber(duration)) {\r\n                    duration = this.get(\"interpolationDuration\", 0);\r\n                }\r\n                if (!priority) {\r\n                    priority = \"end\";\r\n                }\r\n                var maxZoomFactor = this.getPrivate(\"maxZoomFactor\", this.get(\"maxZoomFactor\", 100));\r\n                var maxZoomFactorReal = maxZoomFactor;\r\n                if (end === 1 && start !== 0) {\r\n                    if (start < this.get(\"start\")) {\r\n                        priority = \"start\";\r\n                    }\r\n                    else {\r\n                        priority = \"end\";\r\n                    }\r\n                }\r\n                if (start === 0 && end !== 1) {\r\n                    if (end > this.get(\"end\")) {\r\n                        priority = \"end\";\r\n                    }\r\n                    else {\r\n                        priority = \"start\";\r\n                    }\r\n                }\r\n                var minZoomCount = this.get(\"minZoomCount\");\r\n                var maxZoomCount = this.get(\"maxZoomCount\");\r\n                if ($type.isNumber(minZoomCount)) {\r\n                    maxZoomFactor = maxZoomFactorReal / minZoomCount;\r\n                }\r\n                var minZoomFactor = 1;\r\n                if ($type.isNumber(maxZoomCount)) {\r\n                    minZoomFactor = maxZoomFactorReal / maxZoomCount;\r\n                }\r\n                // most likely we are dragging left scrollbar grip here, so we tend to modify end\r\n                if (priority === \"start\") {\r\n                    if (maxZoomCount > 0) {\r\n                        // add to the end\r\n                        if (1 / (end - start) < minZoomFactor) {\r\n                            end = start + 1 / minZoomFactor;\r\n                        }\r\n                    }\r\n                    // add to the end\r\n                    if (1 / (end - start) > maxZoomFactor) {\r\n                        end = start + 1 / maxZoomFactor;\r\n                    }\r\n                    //unless end is > 0\r\n                    if (end > 1 && end - start < 1 / maxZoomFactor) {\r\n                        //end = 1;\r\n                        start = end - 1 / maxZoomFactor;\r\n                    }\r\n                }\r\n                // most likely we are dragging right, so we modify left\r\n                else {\r\n                    if (maxZoomCount > 0) {\r\n                        // add to the end\r\n                        if (1 / (end - start) < minZoomFactor) {\r\n                            start = end - 1 / minZoomFactor;\r\n                        }\r\n                    }\r\n                    // remove from start\r\n                    if (1 / (end - start) > maxZoomFactor) {\r\n                        start = end - 1 / maxZoomFactor;\r\n                    }\r\n                    if (start < 0 && end - start < 1 / maxZoomFactor) {\r\n                        //start = 0;\r\n                        end = start + 1 / maxZoomFactor;\r\n                    }\r\n                }\r\n                if (1 / (end - start) > maxZoomFactor) {\r\n                    end = start + 1 / maxZoomFactor;\r\n                }\r\n                if (1 / (end - start) > maxZoomFactor) {\r\n                    start = end - 1 / maxZoomFactor;\r\n                }\r\n                if (maxZoomCount != null && minZoomCount != null && (start == this.get(\"start\") && end == this.get(\"end\"))) {\r\n                    var chart = this.chart;\r\n                    if (chart) {\r\n                        chart._handleAxisSelection(this, true);\r\n                    }\r\n                }\r\n                if (((sAnimation && sAnimation.playing && sAnimation.to == start) || this.get(\"start\") == start) && ((eAnimation && eAnimation.playing && eAnimation.to == end) || this.get(\"end\") == end)) {\r\n                    return;\r\n                }\r\n                if (duration > 0) {\r\n                    var easing = this.get(\"interpolationEasing\");\r\n                    var sAnimation_1, eAnimation_1;\r\n                    if (this.get(\"start\") != start) {\r\n                        sAnimation_1 = this.animate({ key: \"start\", to: start, duration: duration, easing: easing });\r\n                    }\r\n                    if (this.get(\"end\") != end) {\r\n                        eAnimation_1 = this.animate({ key: \"end\", to: end, duration: duration, easing: easing });\r\n                    }\r\n                    this._sAnimation = sAnimation_1;\r\n                    this._eAnimation = eAnimation_1;\r\n                    if (sAnimation_1) {\r\n                        return sAnimation_1;\r\n                    }\r\n                    else if (eAnimation_1) {\r\n                        return eAnimation_1;\r\n                    }\r\n                }\r\n                else {\r\n                    this.set(\"start\", start);\r\n                    this.set(\"end\", end);\r\n                    // otherwise bullets and line out of sync, as series is not redrawn\r\n                    this._root.events.once(\"frameended\", function () {\r\n                        _this._markDirtyKey(\"start\");\r\n                        _this._root._markDirty();\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                if (this._sAnimation) {\r\n                    this._sAnimation.stop();\r\n                }\r\n                if (this._eAnimation) {\r\n                    this._eAnimation.stop();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"series\", {\r\n        /**\r\n         * A list of series using this axis.\r\n         *\r\n         * @return Series\r\n         */\r\n        get: function () {\r\n            return this._series;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_processAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, themeTags) {\r\n            dataItem.setRaw(\"isRange\", true);\r\n            this._createAssets(dataItem, themeTags);\r\n            this._rangesDirty = true;\r\n            this._prepareDataItem(dataItem);\r\n            var above = dataItem.get(\"above\");\r\n            var container = this.topGridContainer;\r\n            var grid = dataItem.get(\"grid\");\r\n            if (above && grid) {\r\n                container.children.moveValue(grid);\r\n            }\r\n            var fill = dataItem.get(\"axisFill\");\r\n            if (above && fill) {\r\n                container.children.moveValue(fill);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_prepareDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem, _index) { }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"markDirtyExtremes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"markDirtySelectionExtremes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_calculateTotals\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_updateAxisRanges\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this.axisRanges.each(function (axisRange) {\r\n                _this._prepareDataItem(axisRange);\r\n            });\r\n            $array.each(this._seriesAxisRanges, function (axisRange) {\r\n                _this._prepareDataItem(axisRange);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._prepareChildren.call(this);\r\n            if (this.get(\"fixAxisSize\")) {\r\n                this.ghostLabel.set(\"visible\", true);\r\n            }\r\n            else {\r\n                this.ghostLabel.set(\"visible\", false);\r\n            }\r\n            if (this.isDirty(\"start\") || this.isDirty(\"end\")) {\r\n                this.chart._updateCursor();\r\n                var start = this.get(\"start\", 0);\r\n                var end = this.get(\"end\", 1);\r\n                var maxDeviation = this.get(\"maxDeviation\", 0.5) * Math.min(1, (end - start));\r\n                if (start < -maxDeviation) {\r\n                    var delta = start + maxDeviation;\r\n                    start = -maxDeviation;\r\n                    this.setRaw(\"start\", start);\r\n                    if (this.isDirty(\"end\")) {\r\n                        this.setRaw(\"end\", end - delta);\r\n                    }\r\n                }\r\n                if (end > 1 + maxDeviation) {\r\n                    var delta = end - 1 - maxDeviation;\r\n                    end = 1 + maxDeviation;\r\n                    this.setRaw(\"end\", end);\r\n                    if (this.isDirty(\"start\")) {\r\n                        this.setRaw(\"start\", start - delta);\r\n                    }\r\n                }\r\n            }\r\n            var renderer = this.get(\"renderer\");\r\n            renderer._start = this.get(\"start\");\r\n            renderer._end = this.get(\"end\");\r\n            renderer._inversed = renderer.get(\"inversed\", false);\r\n            renderer._axisLength = renderer.axisLength() / (renderer._end - renderer._start);\r\n            renderer._updateLC();\r\n            if (this.isDirty(\"tooltip\")) {\r\n                var tooltip = this.get(\"tooltip\");\r\n                if (tooltip) {\r\n                    var rendererTags = renderer.get(\"themeTags\");\r\n                    tooltip.addTag(\"axis\");\r\n                    tooltip.addTag(this.className.toLowerCase());\r\n                    tooltip._applyThemes();\r\n                    if (rendererTags) {\r\n                        tooltip.set(\"themeTags\", $utils.mergeTags(tooltip.get(\"themeTags\"), rendererTags));\r\n                        tooltip.label._applyThemes();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_updateTooltipBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                this.get(\"renderer\").updateTooltipBounds(tooltip);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_updateBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateBounds.call(this);\r\n            this._updateTooltipBounds();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"processChart\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (chart) {\r\n            var _this = this;\r\n            this.chart = chart;\r\n            var renderer = this.get(\"renderer\");\r\n            renderer.chart = chart;\r\n            chart.gridContainer.children.push(this.gridContainer);\r\n            chart.topGridContainer.children.push(this.topGridContainer);\r\n            chart.axisHeadersContainer.children.push(this.axisHeader);\r\n            this.on(\"start\", function () {\r\n                chart._handleAxisSelection(_this);\r\n            });\r\n            this.on(\"end\", function () {\r\n                chart._handleAxisSelection(_this);\r\n            });\r\n            chart.plotContainer.onPrivate(\"width\", function () {\r\n                _this.markDirtySize();\r\n            });\r\n            chart.plotContainer.onPrivate(\"height\", function () {\r\n                _this.markDirtySize();\r\n            });\r\n            chart.processAxis(this);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"hideDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            this._toggleDataItem(dataItem, false);\r\n            return _super.prototype.hideDataItem.call(this, dataItem);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"showDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            this._toggleDataItem(dataItem, true);\r\n            return _super.prototype.showDataItem.call(this, dataItem);\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_toggleDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, visible) {\r\n            var label = dataItem.get(\"label\");\r\n            if (label) {\r\n                label.setPrivate(\"visible\", visible);\r\n            }\r\n            var grid = dataItem.get(\"grid\");\r\n            if (grid) {\r\n                grid.setPrivate(\"visible\", visible);\r\n            }\r\n            var tick = dataItem.get(\"tick\");\r\n            if (tick) {\r\n                tick.setPrivate(\"visible\", visible);\r\n            }\r\n            var axisFill = dataItem.get(\"axisFill\");\r\n            if (axisFill) {\r\n                axisFill.setPrivate(\"visible\", visible);\r\n            }\r\n            var bullet = dataItem.get(\"bullet\");\r\n            if (bullet) {\r\n                var sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.setPrivate(\"visible\", visible);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_createAssets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, tags) {\r\n            var renderer = this.get(\"renderer\");\r\n            if (!dataItem.get(\"label\")) {\r\n                renderer.makeLabel(dataItem, tags);\r\n            }\r\n            if (!dataItem.get(\"grid\")) {\r\n                renderer.makeGrid(dataItem, tags);\r\n            }\r\n            if (!dataItem.get(\"tick\")) {\r\n                renderer.makeTick(dataItem, tags);\r\n            }\r\n            if (!dataItem.get(\"axisFill\")) {\r\n                renderer.makeAxisFill(dataItem, tags);\r\n            }\r\n            this._processBullet(dataItem);\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_processBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var bullet = dataItem.get(\"bullet\");\r\n            var axisBullet = this.get(\"bullet\");\r\n            if (!bullet && axisBullet && !dataItem.get(\"isRange\")) {\r\n                bullet = axisBullet(this._root, this, dataItem);\r\n            }\r\n            if (bullet) {\r\n                bullet.axis = this;\r\n                var sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite._setDataItem(dataItem);\r\n                    dataItem.setRaw(\"bullet\", bullet);\r\n                    if (!sprite.parent) {\r\n                        this.bulletsContainer.children.push(sprite);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_afterChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterChanged.call(this);\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                chart._updateChartLayout();\r\n                chart.axisHeadersContainer.markDirtySize();\r\n            }\r\n            this.get(\"renderer\")._updatePositions();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"disposeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            _super.prototype.disposeDataItem.call(this, dataItem);\r\n            var renderer = this.get(\"renderer\");\r\n            var label = dataItem.get(\"label\");\r\n            if (label) {\r\n                renderer.labels.removeValue(label);\r\n                label.dispose();\r\n            }\r\n            var tick = dataItem.get(\"tick\");\r\n            if (tick) {\r\n                renderer.ticks.removeValue(tick);\r\n                tick.dispose();\r\n            }\r\n            var grid = dataItem.get(\"grid\");\r\n            if (grid) {\r\n                renderer.grid.removeValue(grid);\r\n                grid.dispose();\r\n            }\r\n            var axisFill = dataItem.get(\"axisFill\");\r\n            if (axisFill) {\r\n                renderer.axisFills.removeValue(axisFill);\r\n                axisFill.dispose();\r\n            }\r\n            var bullet = dataItem.get(\"bullet\");\r\n            if (bullet) {\r\n                bullet.dispose();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_updateGhost\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var ghostLabel = this.ghostLabel;\r\n            if (!ghostLabel.isHidden()) {\r\n                var bounds = ghostLabel.localBounds();\r\n                var gWidth_1 = bounds.right - bounds.left;\r\n                var text_1 = ghostLabel.get(\"text\");\r\n                $array.each(this.dataItems, function (dataItem) {\r\n                    var label = dataItem.get(\"label\");\r\n                    if (label && !label.isHidden()) {\r\n                        var bounds_1 = label.localBounds();\r\n                        var w = bounds_1.right - bounds_1.left;\r\n                        if (w > gWidth_1) {\r\n                            text_1 = label.text._getText();\r\n                        }\r\n                    }\r\n                });\r\n                ghostLabel.set(\"text\", text_1);\r\n            }\r\n            var start = this.get(\"start\", 0);\r\n            var end = this.get(\"end\", 1);\r\n            this.get(\"renderer\").updateLabel(ghostLabel, start + (end - start) * 0.5);\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_handleCursorPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position, snapToSeries) {\r\n            var renderer = this.get(\"renderer\");\r\n            position = renderer.toAxisPosition(position);\r\n            this._cursorPosition = position;\r\n            this._snapToSeries = snapToSeries;\r\n            this.updateTooltip();\r\n        }\r\n    });\r\n    /**\r\n     * Can be called when axis zoom changes and you need to update tooltip\r\n     * position.\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"updateTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var snapToSeries = this._snapToSeries;\r\n            var position = this._cursorPosition;\r\n            var tooltip = this.get(\"tooltip\");\r\n            var renderer = this.get(\"renderer\");\r\n            if ($type.isNumber(position)) {\r\n                $array.each(this.series, function (series) {\r\n                    if (series.get(\"baseAxis\") === _this) {\r\n                        var dataItem = _this.getSeriesItem(series, position);\r\n                        series.setRaw(\"tooltipDataItem\", dataItem);\r\n                        if (snapToSeries && snapToSeries.indexOf(series) != -1) {\r\n                            series.updateLegendMarker(dataItem);\r\n                            series.updateLegendValue(dataItem);\r\n                        }\r\n                        else {\r\n                            series.showDataItemTooltip(dataItem);\r\n                        }\r\n                    }\r\n                });\r\n                if (tooltip) {\r\n                    renderer.updateTooltipBounds(tooltip);\r\n                    if (this.get(\"snapTooltip\")) {\r\n                        position = this.roundAxisPosition(position, this.get(\"tooltipLocation\", 0.5));\r\n                    }\r\n                    if (!$type.isNaN(position)) {\r\n                        this.setPrivateRaw(\"tooltipPosition\", position);\r\n                        this._updateTooltipText(tooltip, position);\r\n                        renderer.positionTooltip(tooltip, position);\r\n                        if (position < this.get(\"start\") || position > this.get(\"end\")) {\r\n                            tooltip.hide(0);\r\n                        }\r\n                        else {\r\n                            tooltip.show(0);\r\n                        }\r\n                    }\r\n                    else {\r\n                        tooltip.hide(0);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_updateTooltipText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip, position) {\r\n            tooltip.label.set(\"text\", this.getTooltipText(position));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"roundAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position, _location) {\r\n            return position;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"handleCursorShow\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                tooltip.show();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"handleCursorHide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                tooltip.hide();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"processSeriesDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem, _fields) {\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._clearDirty.call(this);\r\n            this._sizeDirty = false;\r\n            this._rangesDirty = false;\r\n        }\r\n    });\r\n    /**\r\n     * Converts pixel coordinate to a relative position on axis.\r\n     *\r\n     * @param   coordinate  Coordinate\r\n     * @return              Relative position\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"coordinateToPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (coordinate) {\r\n            var renderer = this.get(\"renderer\");\r\n            return renderer.toAxisPosition(coordinate / renderer.axisLength());\r\n        }\r\n    });\r\n    /**\r\n     * Converts relative position of the plot area to relative position of the\r\n     * axis with zoom taken into account.\r\n     *\r\n     * @param position Position\r\n     * @return Relative position\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"toAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            return this.get(\"renderer\").toAxisPosition(position);\r\n        }\r\n    });\r\n    /**\r\n     * Adjusts position with inversed taken into account.\r\n     *\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"fixPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            return this.get(\"renderer\").fixPosition(position);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"shouldGap\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem, _nextItem, _autoGapCount, _fieldName) {\r\n            return false;\r\n        }\r\n    });\r\n    /**\r\n     * Creates and returns an axis range object.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n     * @param   axisDataItem  Axis data item\r\n     * @return                Axis range\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"createAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axisDataItem) {\r\n            return this.axisRanges.push(axisDataItem);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"_groupSeriesData\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_series) { }\r\n    });\r\n    Object.defineProperty(Axis, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Axis\"\r\n    });\r\n    Object.defineProperty(Axis, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Component.classNames.concat([Axis.className])\r\n    });\r\n    return Axis;\r\n}(Component));\r\nexport { Axis };\r\n//# sourceMappingURL=Axis.js.map","import { __extends, __read } from \"tslib\";\r\nimport { DataItem } from \"../../../core/render/Component\";\r\nimport { Axis } from \"./Axis\";\r\nimport { MultiDisposer } from \"../../../core/util/Disposer\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $math from \"../../../core/util/Math\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Creates a value axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/} for more info\r\n * @important\r\n */\r\nvar ValueAxis = /** @class */ (function (_super) {\r\n    __extends(ValueAxis, _super);\r\n    function ValueAxis() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_dirtyExtremes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_dirtySelectionExtremes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_deltaMinMax\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_minReal\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_maxReal\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_baseValue\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_syncDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_minLogAdjusted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"markDirtyExtremes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._dirtyExtremes = true;\r\n            this.markDirty();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"markDirtySelectionExtremes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._dirtySelectionExtremes = true;\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"axis\"]);\r\n            this.setPrivateRaw(\"name\", \"value\");\r\n            this.addTag(\"value\");\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._prepareChildren.call(this);\r\n            if (this.isDirty(\"syncWithAxis\")) {\r\n                var previousValue = this._prevSettings.syncWithAxis;\r\n                if (previousValue) {\r\n                    if (this._syncDp) {\r\n                        this._syncDp.dispose();\r\n                    }\r\n                }\r\n                var syncWithAxis = this.get(\"syncWithAxis\");\r\n                if (syncWithAxis) {\r\n                    this._syncDp = new MultiDisposer([\r\n                        syncWithAxis.onPrivate(\"selectionMinFinal\", function () {\r\n                            _this._dirtySelectionExtremes = true;\r\n                        }),\r\n                        syncWithAxis.onPrivate(\"selectionMaxFinal\", function () {\r\n                            _this._dirtySelectionExtremes = true;\r\n                        })\r\n                    ]);\r\n                }\r\n            }\r\n            //if (this._dirtyExtremes || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"min\") || this.isDirty(\"max\") || this.isDirty(\"extraMin\") || this.isDirty(\"extraMax\") || this.isDirty(\"logarithmic\") || this.isDirty(\"treatZeroAs\") || this.isDirty(\"baseValue\") || this.isDirty(\"strictMinMax\") || this.isDirty(\"maxPrecision\")) {\r\n            if (this._sizeDirty || this._dirtyExtremes || this._valuesDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"min\") || this.isDirty(\"max\") || this.isDirty(\"extraMin\") || this.isDirty(\"extraMax\") || this.isDirty(\"logarithmic\") || this.isDirty(\"treatZeroAs\") || this.isDirty(\"baseValue\") || this.isDirty(\"strictMinMax\") || this.isDirty(\"strictMinMaxSelection\") || this.isDirty(\"maxPrecision\") || this.isDirty(\"numberFormat\")) {\r\n                this._getMinMax();\r\n                this.ghostLabel.set(\"text\", \"\");\r\n                this._dirtyExtremes = false;\r\n            }\r\n            if (this._dirtySelectionExtremes && !this._isPanning && this.get(\"autoZoom\", true)) {\r\n                this._getSelectionMinMax();\r\n                this._dirtySelectionExtremes = false;\r\n            }\r\n            this._groupData();\r\n            if (this._sizeDirty || this._valuesDirty || this.isDirty(\"start\") || this.isDirty(\"end\") || this.isPrivateDirty(\"min\") || this.isPrivateDirty(\"selectionMax\") || this.isPrivateDirty(\"selectionMin\") || this.isPrivateDirty(\"max\") || this.isPrivateDirty(\"step\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"logarithmic\")) {\r\n                this._handleRangeChange();\r\n                this._prepareAxisItems();\r\n                this._updateAxisRanges();\r\n            }\r\n            this._baseValue = this.baseValue();\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_groupData\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_formatText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var numberFormat = this.get(\"numberFormat\");\r\n            var formatter = this.getNumberFormatter();\r\n            var text = \"\";\r\n            if (numberFormat) {\r\n                text = formatter.format(value, numberFormat);\r\n            }\r\n            else {\r\n                text = formatter.format(value, undefined, this.getPrivate(\"stepDecimalPlaces\"));\r\n            }\r\n            return text;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_prepareAxisItems\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var min = this.getPrivate(\"min\");\r\n            var max = this.getPrivate(\"max\");\r\n            this._bullets = {};\r\n            if ($type.isNumber(min) && $type.isNumber(max)) {\r\n                var logarithmic = this.get(\"logarithmic\");\r\n                var step = this.getPrivate(\"step\");\r\n                var selectionMin = this.getPrivate(\"selectionMin\");\r\n                var selectionMax = this.getPrivate(\"selectionMax\") + step;\r\n                var value = selectionMin - step;\r\n                var i = 0;\r\n                var differencePower = 1;\r\n                var minLog = min;\r\n                if (logarithmic) {\r\n                    value = this._minLogAdjusted;\r\n                    if (value < selectionMin) {\r\n                        while (value < selectionMin) {\r\n                            value += step;\r\n                        }\r\n                    }\r\n                    minLog = value;\r\n                    if (minLog <= 0) {\r\n                        minLog = 1;\r\n                        if (step < 1) {\r\n                            minLog = step;\r\n                        }\r\n                    }\r\n                    differencePower = Math.log(selectionMax - step) * Math.LOG10E - Math.log(minLog) * Math.LOG10E;\r\n                    if (differencePower > 2) {\r\n                        value = Math.pow(10, Math.log(minLog) * Math.LOG10E - 5);\r\n                    }\r\n                }\r\n                var previous = -Infinity;\r\n                while (value < selectionMax) {\r\n                    var dataItem = void 0;\r\n                    if (this.dataItems.length < i + 1) {\r\n                        dataItem = new DataItem(this, undefined, {});\r\n                        this._dataItems.push(dataItem);\r\n                        this.processDataItem(dataItem);\r\n                    }\r\n                    else {\r\n                        dataItem = this.dataItems[i];\r\n                    }\r\n                    this._createAssets(dataItem, []);\r\n                    if (dataItem.isHidden()) {\r\n                        dataItem.show();\r\n                    }\r\n                    dataItem.setRaw(\"value\", value);\r\n                    var label = dataItem.get(\"label\");\r\n                    if (label) {\r\n                        label.set(\"text\", this._formatText(value));\r\n                    }\r\n                    this._prepareDataItem(dataItem);\r\n                    if (!logarithmic) {\r\n                        value += step;\r\n                    }\r\n                    else {\r\n                        if (differencePower > 2) {\r\n                            value = Math.pow(10, Math.log(minLog) * Math.LOG10E + i - 5);\r\n                        }\r\n                        else {\r\n                            value += step;\r\n                        }\r\n                    }\r\n                    if (previous == value) {\r\n                        break;\r\n                    }\r\n                    var stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\r\n                    if (stepPower < 1) {\r\n                        // exponent is less then 1 too. Count decimals of exponent\r\n                        var decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 2;\r\n                        // round value to avoid floating point issues\r\n                        value = $math.round(value, decCount);\r\n                    }\r\n                    i++;\r\n                    previous = value;\r\n                }\r\n                for (var j = i; j < this.dataItems.length; j++) {\r\n                    this.dataItems[j].hide();\r\n                }\r\n                $array.each(this.series, function (series) {\r\n                    if (series.inited) {\r\n                        series._markDirtyAxes();\r\n                    }\r\n                });\r\n                this._updateGhost();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_prepareDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, count) {\r\n            var renderer = this.get(\"renderer\");\r\n            var value = dataItem.get(\"value\");\r\n            var endValue = dataItem.get(\"endValue\");\r\n            var position = this.valueToPosition(value);\r\n            var endPosition = position;\r\n            var fillEndPosition = this.valueToPosition(value + this.getPrivate(\"step\"));\r\n            if ($type.isNumber(endValue)) {\r\n                endPosition = this.valueToPosition(endValue);\r\n                fillEndPosition = endPosition;\r\n            }\r\n            if (dataItem.get(\"isRange\")) {\r\n                if (endValue == null) {\r\n                    fillEndPosition = position;\r\n                }\r\n            }\r\n            renderer.updateLabel(dataItem.get(\"label\"), position, endPosition, count);\r\n            var grid = dataItem.get(\"grid\");\r\n            renderer.updateGrid(grid, position, endPosition);\r\n            if (grid) {\r\n                if (value == this.get(\"baseValue\", 0)) {\r\n                    grid.addTag(\"base\");\r\n                    grid._applyThemes();\r\n                }\r\n                else if (grid.hasTag(\"base\")) {\r\n                    grid.removeTag(\"base\");\r\n                    grid._applyThemes();\r\n                }\r\n            }\r\n            renderer.updateTick(dataItem.get(\"tick\"), position, endPosition, count);\r\n            renderer.updateFill(dataItem.get(\"axisFill\"), position, fillEndPosition);\r\n            this._processBullet(dataItem);\r\n            renderer.updateBullet(dataItem.get(\"bullet\"), position, endPosition);\r\n            if (!dataItem.get(\"isRange\")) {\r\n                var fillRule = this.get(\"fillRule\");\r\n                if (fillRule) {\r\n                    fillRule(dataItem);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_handleRangeChange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var selectionMin = this.positionToValue(this.get(\"start\", 0));\r\n            var selectionMax = this.positionToValue(this.get(\"end\", 1));\r\n            var gridCount = this.get(\"renderer\").gridCount();\r\n            var minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n            var stepDecimalPlaces = $utils.decimalPlaces(minMaxStep.step);\r\n            this.setPrivateRaw(\"stepDecimalPlaces\", stepDecimalPlaces);\r\n            selectionMin = $math.round(selectionMin, stepDecimalPlaces);\r\n            selectionMax = $math.round(selectionMax, stepDecimalPlaces);\r\n            minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n            var step = minMaxStep.step;\r\n            selectionMin = minMaxStep.min;\r\n            selectionMax = minMaxStep.max;\r\n            if (this.getPrivate(\"selectionMin\") !== selectionMin || this.getPrivate(\"selectionMax\") !== selectionMax || this.getPrivate(\"step\") !== step) {\r\n                // do not change to setPrivate, will cause SO\r\n                this.setPrivateRaw(\"selectionMin\", selectionMin);\r\n                this.setPrivateRaw(\"selectionMax\", selectionMax);\r\n                this.setPrivateRaw(\"step\", step);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Converts a relative position to a corresponding numeric value from axis\r\n     * scale.\r\n     *\r\n     * @param   position  Relative position\r\n     * @return            Value\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"positionToValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var min = this.getPrivate(\"min\");\r\n            var max = this.getPrivate(\"max\");\r\n            if (!this.get(\"logarithmic\")) {\r\n                return position * (max - min) + min;\r\n            }\r\n            else {\r\n                return Math.pow(Math.E, (position * ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E)) + Math.log(min) * Math.LOG10E) / Math.LOG10E);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Convers value to a relative position on axis.\r\n     *\r\n     * @param   value  Value\r\n     * @return         Relative position\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"valueToPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var min = this.getPrivate(\"min\");\r\n            var max = this.getPrivate(\"max\");\r\n            if (!this.get(\"logarithmic\")) {\r\n                return (value - min) / (max - min);\r\n            }\r\n            else {\r\n                if (value <= 0) {\r\n                    var treatZeroAs = this.get(\"treatZeroAs\");\r\n                    if ($type.isNumber(treatZeroAs)) {\r\n                        value = treatZeroAs;\r\n                    }\r\n                }\r\n                return (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"valueToFinalPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var min = this.getPrivate(\"minFinal\");\r\n            var max = this.getPrivate(\"maxFinal\");\r\n            if (!this.get(\"logarithmic\")) {\r\n                return (value - min) / (max - min);\r\n            }\r\n            else {\r\n                if (value <= 0) {\r\n                    var treatZeroAs = this.get(\"treatZeroAs\");\r\n                    if ($type.isNumber(treatZeroAs)) {\r\n                        value = treatZeroAs;\r\n                    }\r\n                }\r\n                return (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific value.\r\n     *\r\n     * @param   value     Numeric value\r\n     * @param   location  Location\r\n     * @param   baseValue Base value\r\n     * @return            X coordinate\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, location, baseValue) {\r\n            value = baseValue + (value - baseValue) * location;\r\n            var position = this.valueToPosition(value);\r\n            return this._settings.renderer.positionToCoordinate(position);\r\n        }\r\n    });\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific value.\r\n     *\r\n     * @param   value     Numeric value\r\n     * @param   location  Location\r\n     * @param   baseValue Base value\r\n     * @return            X coordinate\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, location, baseValue) {\r\n            value = baseValue + (value - baseValue) * location;\r\n            var position = this.valueToPosition(value);\r\n            return this._settings.renderer.positionToCoordinate(position);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getDataItemCoordinateX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, _cellLocation, axisLocation) {\r\n            return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, _cellLocation, axisLocation));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getDataItemPositionX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, _cellLocation, axisLocation) {\r\n            var value = dataItem.get(field);\r\n            var stackToItem = dataItem.get(\"stackToItemX\");\r\n            if (stackToItem) {\r\n                var series = dataItem.component;\r\n                value = value * axisLocation + series.getStackedXValueWorking(dataItem, field);\r\n            }\r\n            else {\r\n                value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n            }\r\n            return this.valueToPosition(value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getDataItemCoordinateY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, _cellLocation, axisLocation) {\r\n            return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, _cellLocation, axisLocation));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getDataItemPositionY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, _cellLocation, axisLocation) {\r\n            var value = dataItem.get(field);\r\n            var stackToItem = dataItem.get(\"stackToItemY\");\r\n            if (stackToItem) {\r\n                var series = dataItem.component;\r\n                value = value * axisLocation + series.getStackedYValueWorking(dataItem, field);\r\n            }\r\n            else {\r\n                value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n            }\r\n            return this.valueToPosition(value);\r\n        }\r\n    });\r\n    /**\r\n     * Returns relative position of axis' `baseValue`.\r\n     *\r\n     * @return  Base value position\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"basePosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.valueToPosition(this.baseValue());\r\n        }\r\n    });\r\n    /**\r\n     * Base value of the [[ValueAxis]], which determines positive and negative\r\n     * values.\r\n     *\r\n     * @return Base value\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"baseValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var min = Math.min(this.getPrivate(\"minFinal\", -Infinity), this.getPrivate(\"selectionMin\", -Infinity));\r\n            var max = Math.max(this.getPrivate(\"maxFinal\", Infinity), this.getPrivate(\"selectionMax\", Infinity));\r\n            var baseValue = this.get(\"baseValue\", 0);\r\n            if (baseValue < min) {\r\n                baseValue = min;\r\n            }\r\n            if (baseValue > max) {\r\n                baseValue = max;\r\n            }\r\n            return baseValue;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"cellEndValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            return value;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"fixSmallStep\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (step) {\r\n            // happens because of floating point error\r\n            if (1 + step === 1) {\r\n                step *= 2;\r\n                return this.fixSmallStep(step);\r\n            }\r\n            return step;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_fixMin\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min) {\r\n            return min;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_fixMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (max) {\r\n            return max;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_calculateTotals\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.get(\"calculateTotals\")) {\r\n                var series = this.series[0];\r\n                if (series) {\r\n                    var startIndex = series.startIndex();\r\n                    if (series.dataItems.length > 0) {\r\n                        if (startIndex > 0) {\r\n                            startIndex--;\r\n                        }\r\n                        var endIndex = series.endIndex();\r\n                        if (endIndex < series.dataItems.length) {\r\n                            endIndex++;\r\n                        }\r\n                        var field_1;\r\n                        var vc_1;\r\n                        if (series.get(\"yAxis\") == this) {\r\n                            field_1 = \"valueY\";\r\n                            vc_1 = \"vcy\";\r\n                        }\r\n                        else if (series.get(\"xAxis\") == this) {\r\n                            field_1 = \"valueX\";\r\n                            vc_1 = \"vcx\";\r\n                        }\r\n                        var fieldWorking_1 = field_1 + \"Working\";\r\n                        if (field_1) {\r\n                            var _loop_1 = function (i) {\r\n                                var sum = 0;\r\n                                var total = 0;\r\n                                $array.each(this_1.series, function (series) {\r\n                                    if (!series.get(\"excludeFromTotal\")) {\r\n                                        var dataItem = series.dataItems[i];\r\n                                        if (dataItem) {\r\n                                            var value = dataItem.get(fieldWorking_1) * series.get(vc_1);\r\n                                            if (!$type.isNaN(value)) {\r\n                                                sum += value;\r\n                                                total += Math.abs(value);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                });\r\n                                $array.each(this_1.series, function (series) {\r\n                                    if (!series.get(\"excludeFromTotal\")) {\r\n                                        var dataItem = series.dataItems[i];\r\n                                        if (dataItem) {\r\n                                            var value = dataItem.get(fieldWorking_1) * series.get(vc_1);\r\n                                            if (!$type.isNaN(value)) {\r\n                                                dataItem.set((field_1 + \"Total\"), total);\r\n                                                dataItem.set((field_1 + \"Sum\"), sum);\r\n                                                dataItem.set((field_1 + \"TotalPercent\"), value / total * 100);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                });\r\n                            };\r\n                            var this_1 = this;\r\n                            for (var i = startIndex; i < endIndex; i++) {\r\n                                _loop_1(i);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_getSelectionMinMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _a;\r\n            var _this = this;\r\n            var min = this.getPrivate(\"minFinal\");\r\n            var max = this.getPrivate(\"maxFinal\");\r\n            var minDefined = this.get(\"min\");\r\n            var maxDefined = this.get(\"max\");\r\n            var extraMin = this.get(\"extraMin\", 0);\r\n            var extraMax = this.get(\"extraMax\", 0);\r\n            if (this.get(\"logarithmic\")) {\r\n                if (this.get(\"extraMin\") == null) {\r\n                    extraMin = 0.1;\r\n                }\r\n                if (this.get(\"extraMax\") == null) {\r\n                    extraMax = 0.2;\r\n                }\r\n            }\r\n            var gridCount = this.get(\"renderer\").gridCount();\r\n            var selectionStrictMinMax = this.get(\"strictMinMaxSelection\");\r\n            var strictMinMax = this.get(\"strictMinMax\");\r\n            if ($type.isNumber(min) && $type.isNumber(max)) {\r\n                var selectionMin_1 = max;\r\n                var selectionMax_1 = min;\r\n                $array.each(this.series, function (series) {\r\n                    if (!series.get(\"ignoreMinMax\")) {\r\n                        var seriesMin = void 0;\r\n                        var seriesMax = void 0;\r\n                        var outOfSelection = series.getPrivate(\"outOfSelection\");\r\n                        if (series.get(\"xAxis\") === _this) {\r\n                            if (!outOfSelection) {\r\n                                seriesMin = series.getPrivate(\"selectionMinX\", series.getPrivate(\"minX\"));\r\n                                seriesMax = series.getPrivate(\"selectionMaxX\", series.getPrivate(\"maxX\"));\r\n                            }\r\n                        }\r\n                        else if (series.get(\"yAxis\") === _this) {\r\n                            if (!outOfSelection) {\r\n                                seriesMin = series.getPrivate(\"selectionMinY\", series.getPrivate(\"minY\"));\r\n                                seriesMax = series.getPrivate(\"selectionMaxY\", series.getPrivate(\"maxY\"));\r\n                            }\r\n                        }\r\n                        if (!series.isHidden() && !series.isShowing()) {\r\n                            if ($type.isNumber(seriesMin)) {\r\n                                selectionMin_1 = Math.min(selectionMin_1, seriesMin);\r\n                            }\r\n                            if ($type.isNumber(seriesMax)) {\r\n                                selectionMax_1 = Math.max(selectionMax_1, seriesMax);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                this.axisRanges.each(function (range) {\r\n                    if (range.get(\"affectsMinMax\")) {\r\n                        var value = range.get(\"value\");\r\n                        if (value != null) {\r\n                            selectionMin_1 = Math.min(selectionMin_1, value);\r\n                            selectionMax_1 = Math.max(selectionMax_1, value);\r\n                        }\r\n                        value = range.get(\"endValue\");\r\n                        if (value != null) {\r\n                            selectionMin_1 = Math.min(selectionMin_1, value);\r\n                            selectionMax_1 = Math.max(selectionMax_1, value);\r\n                        }\r\n                    }\r\n                });\r\n                if (selectionMin_1 > selectionMax_1) {\r\n                    _a = __read([selectionMax_1, selectionMin_1], 2), selectionMin_1 = _a[0], selectionMax_1 = _a[1];\r\n                }\r\n                if ($type.isNumber(minDefined)) {\r\n                    if (strictMinMax) {\r\n                        selectionMin_1 = minDefined;\r\n                    }\r\n                    else {\r\n                        selectionMin_1 = min;\r\n                    }\r\n                }\r\n                else if (strictMinMax) {\r\n                    if ($type.isNumber(this._minReal)) {\r\n                        selectionMin_1 = this._minReal;\r\n                    }\r\n                }\r\n                if ($type.isNumber(maxDefined)) {\r\n                    if (strictMinMax) {\r\n                        selectionMax_1 = maxDefined;\r\n                    }\r\n                    else {\r\n                        selectionMax_1 = max;\r\n                    }\r\n                }\r\n                else if (strictMinMax) {\r\n                    if ($type.isNumber(this._maxReal)) {\r\n                        selectionMax_1 = this._maxReal;\r\n                    }\r\n                }\r\n                if (selectionMin_1 === selectionMax_1) {\r\n                    selectionMin_1 -= this._deltaMinMax;\r\n                    selectionMax_1 += this._deltaMinMax;\r\n                    var minMaxStep2 = this._adjustMinMax(selectionMin_1, selectionMax_1, gridCount, strictMinMax);\r\n                    selectionMin_1 = minMaxStep2.min;\r\n                    selectionMax_1 = minMaxStep2.max;\r\n                }\r\n                var selectionMinReal = selectionMin_1;\r\n                var selectionMaxReal = selectionMax_1;\r\n                selectionMin_1 -= (selectionMax_1 - selectionMin_1) * extraMin;\r\n                selectionMax_1 += (selectionMax_1 - selectionMin_1) * extraMax;\r\n                var minMaxStep = this._adjustMinMax(selectionMin_1, selectionMax_1, gridCount);\r\n                selectionMin_1 = minMaxStep.min;\r\n                selectionMax_1 = minMaxStep.max;\r\n                selectionMin_1 = $math.fitToRange(selectionMin_1, min, max);\r\n                selectionMax_1 = $math.fitToRange(selectionMax_1, min, max);\r\n                // do it for the second time !important\t\t\t\r\n                minMaxStep = this._adjustMinMax(selectionMin_1, selectionMax_1, gridCount, true);\r\n                if (!strictMinMax) {\r\n                    selectionMin_1 = minMaxStep.min;\r\n                    selectionMax_1 = minMaxStep.max;\r\n                }\r\n                var syncWithAxis = this.get(\"syncWithAxis\");\r\n                if (syncWithAxis) {\r\n                    minMaxStep = this._syncAxes(selectionMin_1, selectionMax_1, minMaxStep.step, syncWithAxis.getPrivate(\"selectionMinFinal\", syncWithAxis.getPrivate(\"minFinal\", 0)), syncWithAxis.getPrivate(\"selectionMaxFinal\", syncWithAxis.getPrivate(\"maxFinal\", 1)), syncWithAxis.getPrivate(\"selectionStepFinal\", syncWithAxis.getPrivate(\"step\", 1)));\r\n                    selectionMin_1 = minMaxStep.min;\r\n                    selectionMax_1 = minMaxStep.max;\r\n                }\r\n                if (strictMinMax) {\r\n                    if ($type.isNumber(minDefined)) {\r\n                        selectionMin_1 = Math.max(selectionMin_1, minDefined);\r\n                    }\r\n                    if ($type.isNumber(maxDefined)) {\r\n                        selectionMax_1 = Math.min(selectionMax_1, maxDefined);\r\n                    }\r\n                }\r\n                if (selectionStrictMinMax) {\r\n                    selectionMin_1 = selectionMinReal - (selectionMax_1 - selectionMin_1) * extraMin;\r\n                    selectionMax_1 = selectionMaxReal + (selectionMax_1 - selectionMin_1) * extraMax;\r\n                }\r\n                if (this.get(\"logarithmic\")) {\r\n                    if (selectionMin_1 <= 0) {\r\n                        selectionMin_1 = selectionMinReal * (1 - Math.min(extraMin, 0.99));\r\n                    }\r\n                    if (selectionMin_1 < min) {\r\n                        selectionMin_1 = min;\r\n                    }\r\n                    if (selectionMax_1 > max) {\r\n                        selectionMax_1 = max;\r\n                    }\r\n                }\r\n                var start = this.valueToFinalPosition(selectionMin_1);\r\n                var end = this.valueToFinalPosition(selectionMax_1);\r\n                this.setPrivateRaw(\"selectionMinFinal\", selectionMin_1);\r\n                this.setPrivateRaw(\"selectionMaxFinal\", selectionMax_1);\r\n                this.setPrivateRaw(\"selectionStepFinal\", minMaxStep.step);\r\n                this.zoom(start, end);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_getMinMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var minDefined = this.get(\"min\");\r\n            var maxDefined = this.get(\"max\");\r\n            var min = Infinity;\r\n            var max = -Infinity;\r\n            var extraMin = this.get(\"extraMin\", 0);\r\n            var extraMax = this.get(\"extraMax\", 0);\r\n            if (this.get(\"logarithmic\")) {\r\n                if (this.get(\"extraMin\") == null) {\r\n                    extraMin = 0.1;\r\n                }\r\n                if (this.get(\"extraMax\") == null) {\r\n                    extraMax = 0.2;\r\n                }\r\n            }\r\n            var minDiff = Infinity;\r\n            $array.each(this.series, function (series) {\r\n                if (!series.get(\"ignoreMinMax\")) {\r\n                    var seriesMin = void 0;\r\n                    var seriesMax = void 0;\r\n                    if (series.get(\"xAxis\") === _this) {\r\n                        seriesMin = series.getPrivate(\"minX\");\r\n                        seriesMax = series.getPrivate(\"maxX\");\r\n                    }\r\n                    else if (series.get(\"yAxis\") === _this) {\r\n                        seriesMin = series.getPrivate(\"minY\");\r\n                        seriesMax = series.getPrivate(\"maxY\");\r\n                    }\r\n                    if ($type.isNumber(seriesMin) && $type.isNumber(seriesMax)) {\r\n                        min = Math.min(min, seriesMin);\r\n                        max = Math.max(max, seriesMax);\r\n                        var diff = seriesMax - seriesMin;\r\n                        if (diff <= 0) {\r\n                            diff = Math.abs(seriesMax / 100);\r\n                        }\r\n                        if (diff < minDiff) {\r\n                            minDiff = diff;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.axisRanges.each(function (range) {\r\n                if (range.get(\"affectsMinMax\")) {\r\n                    var value = range.get(\"value\");\r\n                    if (value != null) {\r\n                        min = Math.min(min, value);\r\n                        max = Math.max(max, value);\r\n                    }\r\n                    value = range.get(\"endValue\");\r\n                    if (value != null) {\r\n                        min = Math.min(min, value);\r\n                        max = Math.max(max, value);\r\n                    }\r\n                }\r\n            });\r\n            if (this.get(\"logarithmic\")) {\r\n                var treatZeroAs = this.get(\"treatZeroAs\");\r\n                if ($type.isNumber(treatZeroAs)) {\r\n                    if (min <= 0) {\r\n                        min = treatZeroAs;\r\n                    }\r\n                }\r\n                if (min <= 0) {\r\n                    new Error(\"Logarithmic value axis can not have values <= 0.\");\r\n                }\r\n            }\r\n            if (min === 0 && max === 0) {\r\n                max = 0.9;\r\n                min = -0.9;\r\n            }\r\n            if ($type.isNumber(minDefined)) {\r\n                min = minDefined;\r\n            }\r\n            if ($type.isNumber(maxDefined)) {\r\n                max = maxDefined;\r\n            }\r\n            // meaning no min/max found on series/ranges and no min/max was defined\r\n            if (min === Infinity || max === -Infinity) {\r\n                return;\r\n            }\r\n            var initialMin = min;\r\n            var initialMax = max;\r\n            // adapter\r\n            var minAdapted = this.adapters.fold(\"min\", min);\r\n            var maxAdapted = this.adapters.fold(\"max\", max);\r\n            if ($type.isNumber(minAdapted)) {\r\n                min = minAdapted;\r\n            }\r\n            if ($type.isNumber(maxAdapted)) {\r\n                max = maxAdapted;\r\n            }\r\n            // DateAxis does some magic here\r\n            min = this._fixMin(min);\r\n            max = this._fixMax(max);\r\n            // this happens if starLocation and endLocation are 0.5 and DateAxis has only one date\t\t\r\n            if (max - min <= 1 / Math.pow(10, 15)) {\r\n                if (max - min !== 0) {\r\n                    this._deltaMinMax = (max - min) / 2;\r\n                }\r\n                else {\r\n                    this._getDelta(max);\r\n                }\r\n                min -= this._deltaMinMax;\r\n                max += this._deltaMinMax;\r\n            }\r\n            // add extras\r\n            min -= (max - min) * extraMin;\r\n            max += (max - min) * extraMax;\r\n            if (this.get(\"logarithmic\")) {\r\n                // don't let min go below 0 if real min is >= 0\r\n                if (min < 0 && initialMin >= 0) {\r\n                    min = 0;\r\n                }\r\n                // don't let max go above 0 if real max is <= 0\r\n                if (max > 0 && initialMax <= 0) {\r\n                    max = 0;\r\n                }\r\n            }\r\n            this._minReal = min;\r\n            this._maxReal = max;\r\n            var strictMinMax = this.get(\"strictMinMax\");\r\n            var strictMinMaxSelection = this.get(\"strictMinMaxSelection\", false);\r\n            if (strictMinMaxSelection) {\r\n                strictMinMax = strictMinMaxSelection;\r\n            }\r\n            var strict = strictMinMax;\r\n            if ($type.isNumber(maxDefined)) {\r\n                strict = true;\r\n            }\r\n            var gridCount = this.get(\"renderer\").gridCount();\r\n            var minMaxStep = this._adjustMinMax(min, max, gridCount, strict);\r\n            min = minMaxStep.min;\r\n            max = minMaxStep.max;\r\n            // do it for the second time with strict true (importat!)\r\n            minMaxStep = this._adjustMinMax(min, max, gridCount, true);\r\n            min = minMaxStep.min;\r\n            max = minMaxStep.max;\r\n            // return min max if strict\r\n            if (strictMinMax) {\r\n                if ($type.isNumber(minDefined)) {\r\n                    min = minDefined;\r\n                }\r\n                else {\r\n                    min = this._minReal;\r\n                }\r\n                if ($type.isNumber(maxDefined)) {\r\n                    max = maxDefined;\r\n                }\r\n                else {\r\n                    max = this._maxReal;\r\n                }\r\n                if (max - min <= 0.00000001) {\r\n                    min -= this._deltaMinMax;\r\n                    max += this._deltaMinMax;\r\n                }\r\n                min -= (max - min) * extraMin;\r\n                max += (max - min) * extraMax;\r\n            }\r\n            minAdapted = this.adapters.fold(\"min\", min);\r\n            maxAdapted = this.adapters.fold(\"max\", max);\r\n            if ($type.isNumber(minAdapted)) {\r\n                min = minAdapted;\r\n            }\r\n            if ($type.isNumber(maxAdapted)) {\r\n                max = maxAdapted;\r\n            }\r\n            if (minDiff == Infinity) {\r\n                minDiff = (max - min);\r\n            }\r\n            // this is to avoid floating point number error\r\n            var decCount = Math.round(Math.abs(Math.log(Math.abs(max - min)) * Math.LOG10E)) + 5;\r\n            min = $math.round(min, decCount);\r\n            max = $math.round(max, decCount);\r\n            var syncWithAxis = this.get(\"syncWithAxis\");\r\n            if (syncWithAxis) {\r\n                minMaxStep = this._syncAxes(min, max, minMaxStep.step, syncWithAxis.getPrivate(\"minFinal\", syncWithAxis.getPrivate(\"min\", 0)), syncWithAxis.getPrivate(\"maxFinal\", syncWithAxis.getPrivate(\"max\", 1)), syncWithAxis.getPrivate(\"step\", 1));\r\n                min = minMaxStep.min;\r\n                max = minMaxStep.max;\r\n            }\r\n            this.setPrivateRaw(\"maxZoomFactor\", (max - min) / minDiff * this.get(\"maxZoomFactor\", 100));\r\n            if (this.get(\"logarithmic\")) {\r\n                this._minLogAdjusted = min;\r\n                min = this._minReal;\r\n                max = this._maxReal;\r\n                if (min <= 0) {\r\n                    min = initialMin * (1 - Math.min(extraMin, 0.99));\r\n                }\r\n            }\r\n            if ($type.isNumber(min) && $type.isNumber(max)) {\r\n                if (this.getPrivate(\"minFinal\") !== min || this.getPrivate(\"maxFinal\") !== max) {\r\n                    this.setPrivate(\"minFinal\", min);\r\n                    this.setPrivate(\"maxFinal\", max);\r\n                    this._saveMinMax(min, max);\r\n                    var duration = this.get(\"interpolationDuration\", 0);\r\n                    var easing = this.get(\"interpolationEasing\");\r\n                    this.animatePrivate({ key: \"min\", to: min, duration: duration, easing: easing });\r\n                    this.animatePrivate({ key: \"max\", to: max, duration: duration, easing: easing });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_getDelta\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (max) {\r\n            // the number by which we need to raise 10 to get difference\r\n            var exponent = Math.log(Math.abs(max)) * Math.LOG10E;\r\n            // here we find a number which is power of 10 and has the same count of numbers as difference has\r\n            var power = Math.pow(10, Math.floor(exponent));\r\n            // reduce this number by 10 times\r\n            power = power / 10;\r\n            this._deltaMinMax = power;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_saveMinMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_min, _max) {\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_adjustMinMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min, max, gridCount, strictMode) {\r\n            // will fail if 0\r\n            if (gridCount <= 1) {\r\n                gridCount = 1;\r\n            }\r\n            gridCount = Math.round(gridCount);\r\n            var initialMin = min;\r\n            var initialMax = max;\r\n            var difference = max - min;\r\n            // in case min and max is the same, use max\r\n            if (difference === 0) {\r\n                difference = Math.abs(max);\r\n            }\r\n            // the number by which we need to raise 10 to get difference\r\n            var exponent = Math.log(Math.abs(difference)) * Math.LOG10E;\r\n            // here we find a number which is power of 10 and has the same count of numbers as difference has\r\n            var power = Math.pow(10, Math.floor(exponent));\r\n            // reduce this number by 10 times\r\n            power = power / 10;\r\n            var extra = power;\r\n            if (strictMode) {\r\n                extra = 0;\r\n            }\r\n            // round down min\r\n            if (strictMode) {\r\n                min = Math.floor(min / power) * power;\r\n                // round up max\r\n                max = Math.ceil(max / power) * power;\r\n            }\r\n            else {\r\n                min = Math.ceil(min / power) * power - extra;\r\n                // round up max\r\n                max = Math.floor(max / power) * power + extra;\r\n            }\r\n            // don't let min go below 0 if real min is >= 0\r\n            if (min < 0 && initialMin >= 0) {\r\n                min = 0;\r\n            }\r\n            // don't let max go above 0 if real max is <= 0\r\n            if (max > 0 && initialMax <= 0) {\r\n                max = 0;\r\n            }\r\n            exponent = Math.log(Math.abs(difference)) * Math.LOG10E;\r\n            power = Math.pow(10, Math.floor(exponent));\r\n            power = power / 100; // used to be 10 in v4, but this caused issue that there could be limited number of grids with even very small minGridDistance\r\n            // approximate difference between two grid lines\r\n            var step = Math.ceil((difference / gridCount) / power) * power;\r\n            var stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\r\n            // the step should divide by  2, 5, and 10.\r\n            var stepDivisor = Math.ceil(step / stepPower); // number 0 - 10\r\n            if (stepDivisor > 5) {\r\n                stepDivisor = 10;\r\n            }\r\n            else if (stepDivisor <= 5 && stepDivisor > 2) {\r\n                stepDivisor = 5;\r\n            }\r\n            // now get real step\r\n            step = Math.ceil(step / (stepPower * stepDivisor)) * stepPower * stepDivisor;\r\n            var maxPrecision = this.get(\"maxPrecision\");\r\n            if ($type.isNumber(maxPrecision)) {\r\n                var ceiledStep = $math.ceil(step, maxPrecision);\r\n                if (maxPrecision < Number.MAX_VALUE && step !== ceiledStep) {\r\n                    step = ceiledStep;\r\n                }\r\n            }\r\n            var decCount = 0;\r\n            // in case numbers are smaller than 1\r\n            if (stepPower < 1) {\r\n                // exponent is less then 1 too. Count decimals of exponent\r\n                decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 1;\r\n                // round step\r\n                step = $math.round(step, decCount);\r\n            }\r\n            // final min and max\r\n            var minCount = Math.floor(min / step);\r\n            min = $math.round(step * minCount, decCount);\r\n            var maxCount;\r\n            if (!strictMode) {\r\n                maxCount = Math.ceil(max / step);\r\n            }\r\n            else {\r\n                maxCount = Math.floor(max / step);\r\n            }\r\n            if (maxCount === minCount) {\r\n                maxCount++;\r\n            }\r\n            max = $math.round(step * maxCount, decCount);\r\n            if (max < initialMax) {\r\n                max = max + step;\r\n            }\r\n            if (min > initialMin) {\r\n                min = min - step;\r\n            }\r\n            step = this.fixSmallStep(step);\r\n            return { min: min, max: max, step: step };\r\n        }\r\n    });\r\n    /**\r\n     * Returns text to be used in an axis tooltip for specific relative position.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Tooltip text\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getTooltipText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var numberFormat = this.get(\"tooltipNumberFormat\", this.get(\"numberFormat\"));\r\n            var formatter = this.getNumberFormatter();\r\n            var extraDecimals = this.get(\"extraTooltipPrecision\", 0);\r\n            var decimals = this.getPrivate(\"stepDecimalPlaces\", 0) + extraDecimals;\r\n            var value = $math.round(this.positionToValue(position), decimals);\r\n            if (numberFormat) {\r\n                return formatter.format(value, numberFormat);\r\n            }\r\n            else {\r\n                return formatter.format(value, undefined, decimals);\r\n                //label.set(\"text\", this.getNumberFormatter().format(value, undefined, this.getPrivate(\"stepDecimalPlaces\")));\r\n            }\r\n            // //@todo number formatter + tag\r\n            // return $math.round(this.positionToValue(position), this.getPrivate(\"stepDecimalPlaces\")).toString();\r\n        }\r\n    });\r\n    /**\r\n     * Returns a data item from series that is closest to the `position`.\r\n     *\r\n     * @param   series    Series\r\n     * @param   position  Relative position\r\n     * @return            Data item\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getSeriesItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series, position) {\r\n            var fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n            var value = this.positionToValue(position);\r\n            var index = undefined;\r\n            var oldDiff;\r\n            $array.each(series.dataItems, function (dataItem, i) {\r\n                var diff = Math.abs(dataItem.get(fieldName) - value);\r\n                if (index === undefined || diff < oldDiff) {\r\n                    index = i;\r\n                    oldDiff = diff;\r\n                }\r\n            });\r\n            if (index != null) {\r\n                return series.dataItems[index];\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Zooms the axis to specific `start` and `end` values.\r\n     *\r\n     * Optional `duration` specifies duration of zoom animation in milliseconds.\r\n     *\r\n     * @param  start     Start value\r\n     * @param  end       End value\r\n     * @param  duration  Duration in milliseconds\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"zoomToValues\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (start, end, duration) {\r\n            var min = this.getPrivate(\"minFinal\", 0);\r\n            var max = this.getPrivate(\"maxFinal\", 0);\r\n            if (this.getPrivate(\"min\") != null && this.getPrivate(\"max\") != null) {\r\n                this.zoom((start - min) / (max - min), (end - min) / (max - min), duration);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Syncs with a target axis.\r\n     *\r\n     * @param  min  Min\r\n     * @param  max  Max\r\n     * @param  step Step\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"_syncAxes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min, max, step, syncMin, syncMax, syncStep) {\r\n            var axis = this.get(\"syncWithAxis\");\r\n            if (axis) {\r\n                var count = Math.round(syncMax - syncMin) / syncStep;\r\n                var currentCount = Math.round((max - min) / step);\r\n                var gridCount = this.get(\"renderer\").gridCount();\r\n                if ($type.isNumber(count) && $type.isNumber(currentCount)) {\r\n                    var synced = false;\r\n                    var c = 0;\r\n                    var diff = (max - min) * 0.01;\r\n                    var omin = min;\r\n                    var omax = max;\r\n                    var ostep = step;\r\n                    while (synced != true) {\r\n                        synced = this._checkSync(omin, omax, ostep, count);\r\n                        c++;\r\n                        if (c > 500) {\r\n                            synced = true;\r\n                        }\r\n                        if (!synced) {\r\n                            if (c / 3 == Math.round(c / 3)) {\r\n                                omin = min - diff * c;\r\n                                if (min >= 0 && omin < 0) {\r\n                                    omin = 0;\r\n                                }\r\n                            }\r\n                            else {\r\n                                omax = max + diff * c;\r\n                                if (omax <= 0 && omax > 0) {\r\n                                    omax = 0;\r\n                                }\r\n                            }\r\n                            var minMaxStep = this._adjustMinMax(omin, omax, gridCount, true);\r\n                            omin = minMaxStep.min;\r\n                            omax = minMaxStep.max;\r\n                            ostep = minMaxStep.step;\r\n                        }\r\n                        else {\r\n                            min = omin;\r\n                            max = omax;\r\n                            step = ostep;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return { min: min, max: max, step: step };\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if axis needs to be resunced with some other axis.\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"_checkSync\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min, max, step, count) {\r\n            var currentCount = (max - min) / step;\r\n            for (var i = 1; i < count; i++) {\r\n                if ($math.round(currentCount / i, 1) == count || currentCount * i == count) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"ValueAxis\"\r\n    });\r\n    Object.defineProperty(ValueAxis, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Axis.classNames.concat([ValueAxis.className])\r\n    });\r\n    return ValueAxis;\r\n}(Axis));\r\nexport { ValueAxis };\r\n//# sourceMappingURL=ValueAxis.js.map","/** @ignore */ /** */\r\nimport * as $math from \"./Math\";\r\n/**\r\n * @ignore\r\n */\r\nexport function segmentedLine(display, segments) {\r\n    for (var s = 0, len = segments.length; s < len; s++) {\r\n        var groups = segments[s];\r\n        if (groups.length > 0) {\r\n            var firstGroup = groups[0];\r\n            if (firstGroup.length > 0) {\r\n                var firstPoint = firstGroup[0];\r\n                display.moveTo(firstPoint.x, firstPoint.y);\r\n                for (var g = 0, len_1 = groups.length; g < len_1; g++) {\r\n                    line(display, groups[g]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function line(display, points) {\r\n    for (var p = 0, len = points.length; p < len; p++) {\r\n        var point = points[p];\r\n        display.lineTo(point.x, point.y);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function moveTo(display, point) {\r\n    display.moveTo(point.x, point.y);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function clear(display) {\r\n    display.clear();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function smoothedSegmentedline(display, segments, tensionX, tensionY) {\r\n    for (var s = 0, len = segments.length; s < len; s++) {\r\n        var groups = segments[s];\r\n        if (groups.length > 0) {\r\n            var firstGroup = groups[0];\r\n            if (firstGroup.length > 0) {\r\n                var firstPoint = firstGroup[0];\r\n                display.moveTo(firstPoint.x, firstPoint.y);\r\n                for (var g = 0, len_2 = groups.length; g < len_2; g++) {\r\n                    var points = groups[g];\r\n                    if (points.length > 0) {\r\n                        display.lineTo(points[0].x, points[0].y);\r\n                    }\r\n                    smoothedLine(display, points, tensionX, tensionY);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function smoothedLine(display, points, tensionX, tensionY) {\r\n    for (var i = points.length - 1; i > 0; i--) {\r\n        var p0 = points[i];\r\n        var p1 = points[i - 1];\r\n        if (Math.abs(p0.x - p1.x) < 0.1 && Math.abs(p0.y - p1.y) < 0.1) {\r\n            points.splice(i - 1, 1);\r\n        }\r\n    }\r\n    if (points.length < 3 || (tensionX >= 1 && tensionY >= 1)) {\r\n        line(display, points);\r\n        return;\r\n    }\r\n    tensionX = 1 - tensionX + 0.00001;\r\n    tensionY = 1 - tensionY + 0.00001;\r\n    var first = points[0];\r\n    var last = points[points.length - 1];\r\n    var closed = false;\r\n    if ($math.round(first.x, 3) == $math.round(last.x) && $math.round(first.y) == $math.round(last.y)) {\r\n        closed = true;\r\n    }\r\n    // Can't moveTo here, as it wont be possible to have fill then.\r\n    var path = \"\";\r\n    for (var i = 0, len = points.length - 1; i < len; i++) {\r\n        var p0 = points[i - 1];\r\n        var p1 = points[i];\r\n        var p2 = points[i + 1];\r\n        var p3 = points[i + 2];\r\n        if (i === 0) {\r\n            if (closed) {\r\n                p0 = points[len - 2];\r\n            }\r\n            else {\r\n                p0 = points[0];\r\n            }\r\n        }\r\n        else if (i == len - 1) {\r\n            if (closed) {\r\n                p3 = points[1];\r\n            }\r\n            else {\r\n                p3 = p2;\r\n            }\r\n        }\r\n        var controlPointA = $math.getCubicControlPointA(p0, p1, p2, tensionX, tensionY);\r\n        var controlPointB = $math.getCubicControlPointB(p1, p2, p3, tensionX, tensionY);\r\n        display.bezierCurveTo(controlPointA.x, controlPointA.y, controlPointB.x, controlPointB.y, p2.x, p2.y);\r\n    }\r\n    return path;\r\n}\r\n//# sourceMappingURL=Draw.js.map","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"./Graphics\";\r\nimport * as $draw from \"../util/Draw\";\r\n/**\r\n * Draws a line.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nvar Line = /** @class */ (function (_super) {\r\n    __extends(Line, _super);\r\n    function Line() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Line.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"points\") || this.isDirty(\"segments\") || this._sizeDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Line.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this._clear) {\r\n                var points = this.get(\"points\");\r\n                var segments = this.get(\"segments\");\r\n                if (points && points.length > 0) {\r\n                    var point = points[0];\r\n                    this._display.moveTo(point.x, point.y);\r\n                    $draw.segmentedLine(this._display, [[points]]);\r\n                }\r\n                else if (segments) {\r\n                    $draw.segmentedLine(this._display, segments);\r\n                }\r\n                else if (!this.get(\"draw\")) {\r\n                    var w = this.width();\r\n                    var h = this.height();\r\n                    this._display.moveTo(0, 0);\r\n                    this._display.lineTo(w, h);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Line, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Line\"\r\n    });\r\n    Object.defineProperty(Line, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([Line.className])\r\n    });\r\n    return Line;\r\n}(Graphics));\r\nexport { Line };\r\n//# sourceMappingURL=Line.js.map","import { __extends } from \"tslib\";\r\nimport { Line } from \"./Line\";\r\n/**\r\n * Draws a tick element (mostly used on axes).\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n */\r\nvar Tick = /** @class */ (function (_super) {\r\n    __extends(Tick, _super);\r\n    function Tick() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Tick, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Tick\"\r\n    });\r\n    Object.defineProperty(Tick, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Line.classNames.concat([Tick.className])\r\n    });\r\n    return Tick;\r\n}(Line));\r\nexport { Tick };\r\n//# sourceMappingURL=Tick.js.map","import { __extends } from \"tslib\";\r\nimport { Tick } from \"../../../core/render/Tick\";\r\n/**\r\n * Draws an axis tick.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Ticks} for more info\r\n * @important\r\n */\r\nvar AxisTick = /** @class */ (function (_super) {\r\n    __extends(AxisTick, _super);\r\n    function AxisTick() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_tickPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AxisTick, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisTick\"\r\n    });\r\n    Object.defineProperty(AxisTick, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Tick.classNames.concat([AxisTick.className])\r\n    });\r\n    return AxisTick;\r\n}(Tick));\r\nexport { AxisTick };\r\n//# sourceMappingURL=AxisTick.js.map","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"../../../core/render/Graphics\";\r\n/**\r\n * Creates an axis grid line.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Grid} for more info\r\n * @important\r\n */\r\nvar Grid = /** @class */ (function (_super) {\r\n    __extends(Grid, _super);\r\n    function Grid() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Grid.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Grid, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Grid\"\r\n    });\r\n    Object.defineProperty(Grid, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([Grid.className])\r\n    });\r\n    return Grid;\r\n}(Graphics));\r\nexport { Grid };\r\n//# sourceMappingURL=Grid.js.map","import { __extends } from \"tslib\";\r\nimport { Label } from \"../../../core/render/Label\";\r\n/**\r\n * Draws an axis label.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Labels} for more info\r\n * @important\r\n */\r\nvar AxisLabel = /** @class */ (function (_super) {\r\n    __extends(AxisLabel, _super);\r\n    function AxisLabel() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_tickPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AxisLabel, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisLabel\"\r\n    });\r\n    Object.defineProperty(AxisLabel, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Label.classNames.concat([AxisLabel.className])\r\n    });\r\n    return AxisLabel;\r\n}(Label));\r\nexport { AxisLabel };\r\n//# sourceMappingURL=AxisLabel.js.map","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"../../../core/render/Graphics\";\r\nimport { Template } from \"../../../core/util/Template\";\r\nimport { ListTemplate } from \"../../../core/util/List\";\r\nimport { AxisTick } from \"./AxisTick\";\r\nimport { Grid } from \"./Grid\";\r\nimport { AxisLabel } from \"./AxisLabel\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Base class for an axis renderer.\r\n *\r\n * Should not be used on its own.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n */\r\nvar AxisRenderer = /** @class */ (function (_super) {\r\n    __extends(AxisRenderer, _super);\r\n    function AxisRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        // save for quick access\r\n        Object.defineProperty(_this, \"_axisLength\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 100\r\n        });\r\n        Object.defineProperty(_this, \"_start\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_end\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_inversed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_minSize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        /**\r\n         * Chart the renderer is used in.\r\n         */\r\n        Object.defineProperty(_this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_lc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_ls\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_thumbDownPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_downStart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_downEnd\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A list of ticks in the axis.\r\n         *\r\n         * `ticks.template` can be used to configure ticks.\r\n         *\r\n         * @default new ListTemplate<AxisTick>\r\n         */\r\n        Object.defineProperty(_this, \"ticks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return AxisTick._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.ticks.template.get(\"themeTags\", []), _this.get(\"themeTags\", []))\r\n            }, [_this.ticks.template]); })\r\n        });\r\n        /**\r\n         * A list of grid elements in the axis.\r\n         *\r\n         * `grid.template` can be used to configure grid.\r\n         *\r\n         * @default new ListTemplate<Grid>\r\n         */\r\n        Object.defineProperty(_this, \"grid\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Grid._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.grid.template.get(\"themeTags\", []), _this.get(\"themeTags\", []))\r\n            }, [_this.grid.template]); })\r\n        });\r\n        /**\r\n         * A list of fills in the axis.\r\n         *\r\n         * `axisFills.template` can be used to configure axis fills.\r\n         *\r\n         * @default new ListTemplate<Graphics>\r\n         */\r\n        Object.defineProperty(_this, \"axisFills\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Graphics._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.axisFills.template.get(\"themeTags\", [\"axis\", \"fill\"]), _this.get(\"themeTags\", []))\r\n            }, [_this.axisFills.template]); })\r\n        });\r\n        /**\r\n         * A list of labels in the axis.\r\n         *\r\n         * `labels.template` can be used to configure axis labels.\r\n         *\r\n         * @default new ListTemplate<AxisLabel>\r\n         */\r\n        Object.defineProperty(_this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return AxisLabel._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.labels.template.get(\"themeTags\", []), _this.get(\"themeTags\", []))\r\n            }, [_this.labels.template]); })\r\n        });\r\n        /**\r\n         * An [[Axis]] renderer is for.\r\n         */\r\n        Object.defineProperty(_this, \"axis\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"makeTick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, themeTags) {\r\n            var tick = this.ticks.make();\r\n            tick._setDataItem(dataItem);\r\n            dataItem.setRaw(\"tick\", tick);\r\n            tick.set(\"themeTags\", $utils.mergeTags(tick.get(\"themeTags\"), themeTags));\r\n            this.axis.labelsContainer.children.push(tick);\r\n            this.ticks.push(tick);\r\n            return tick;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"makeGrid\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, themeTags) {\r\n            var grid = this.grid.make();\r\n            grid._setDataItem(dataItem);\r\n            dataItem.setRaw(\"grid\", grid);\r\n            grid.set(\"themeTags\", $utils.mergeTags(grid.get(\"themeTags\"), themeTags));\r\n            this.axis.gridContainer.children.push(grid);\r\n            this.grid.push(grid);\r\n            return grid;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"makeAxisFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, themeTags) {\r\n            var axisFill = this.axisFills.make();\r\n            axisFill._setDataItem(dataItem);\r\n            axisFill.set(\"themeTags\", $utils.mergeTags(axisFill.get(\"themeTags\"), themeTags));\r\n            this.axis.gridContainer.children.push(axisFill);\r\n            dataItem.setRaw(\"axisFill\", axisFill);\r\n            this.axisFills.push(axisFill);\r\n            return axisFill;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"makeLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, themeTags) {\r\n            var label = this.labels.make();\r\n            label.set(\"themeTags\", $utils.mergeTags(label.get(\"themeTags\"), themeTags));\r\n            this.axis.labelsContainer.children.moveValue(label, 0);\r\n            label._setDataItem(dataItem);\r\n            dataItem.setRaw(\"label\", label);\r\n            this.labels.push(label);\r\n            return label;\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"axisLength\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"gridCount\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.axisLength() / this.get(\"minGridDistance\", 50);\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_updatePositions\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._afterNew.call(this);\r\n            this.set(\"isMeasured\", false);\r\n            var thumb = this.thumb;\r\n            if (thumb) {\r\n                this._disposers.push(thumb.events.on(\"pointerdown\", function (event) {\r\n                    _this._handleThumbDown(event.originalEvent);\r\n                }));\r\n                this._disposers.push(thumb.events.on(\"globalpointerup\", function (event) {\r\n                    _this._handleThumbUp(event.originalEvent);\r\n                }));\r\n                this._disposers.push(thumb.events.on(\"globalpointermove\", function (event) {\r\n                    _this._handleThumbMove(event.originalEvent);\r\n                }));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this.isDirty(\"pan\")) {\r\n                var thumb = this.thumb;\r\n                if (thumb) {\r\n                    var labelsContainer = this.axis.labelsContainer;\r\n                    var pan = this.get(\"pan\");\r\n                    if (pan == \"zoom\") {\r\n                        labelsContainer.children.push(thumb);\r\n                    }\r\n                    else if (pan == \"none\") {\r\n                        labelsContainer.children.removeValue(thumb);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_handleThumbDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            this._thumbDownPoint = this.toLocal(this._root.documentPointToRoot({ x: event.clientX, y: event.clientY }));\r\n            var axis = this.axis;\r\n            this._downStart = axis.get(\"start\");\r\n            this._downEnd = axis.get(\"end\");\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_handleThumbUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_event) {\r\n            this._thumbDownPoint = undefined;\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_handleThumbMove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            var downPoint = this._thumbDownPoint;\r\n            if (downPoint) {\r\n                var point = this.toLocal(this._root.documentPointToRoot({ x: event.clientX, y: event.clientY }));\r\n                var downStart = this._downStart;\r\n                var downEnd = this._downEnd;\r\n                var extra = this._getPan(point, downPoint) * Math.min(1, (downEnd - downStart)) / 2;\r\n                this.axis.setAll({ start: downStart - extra, end: downEnd + extra });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_getPan\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_point1, _point2) {\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * Converts relative position (0-1) on axis to a pixel coordinate.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinate (px)\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"positionToCoordinate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            if (this._inversed) {\r\n                return (this._end - position) * this._axisLength;\r\n            }\r\n            else {\r\n                return (position - this._start) * this._axisLength;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"updateTooltipBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_tooltip) { }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_updateSize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.markDirty();\r\n            this._clear = true;\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"toAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var start = this._start || 0;\r\n            var end = this._end || 1;\r\n            position = position * (end - start);\r\n            if (!this.get(\"inversed\")) {\r\n                position = start + position;\r\n            }\r\n            else {\r\n                position = end - position;\r\n            }\r\n            return position;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"fixPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            if (this.get(\"inversed\")) {\r\n                return 1 - position;\r\n            }\r\n            return position;\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_updateLC\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"toggleVisibility\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (sprite, position, minPosition, maxPosition) {\r\n            var axis = this.axis;\r\n            var start = axis.get(\"start\", 0);\r\n            var end = axis.get(\"end\", 1);\r\n            var updatedStart = start + (end - start) * (minPosition - 0.0001);\r\n            var updatedEnd = start + (end - start) * (maxPosition + 0.0001);\r\n            if (position < updatedStart || position > updatedEnd) {\r\n                sprite.setPrivate(\"visible\", false);\r\n            }\r\n            else {\r\n                sprite.setPrivate(\"visible\", true);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_positionTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip, point) {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                if (chart.inPlot(point)) {\r\n                    tooltip.set(\"pointTo\", this._display.toGlobal(point));\r\n                }\r\n                else {\r\n                    tooltip.hide();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"processAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    Object.defineProperty(AxisRenderer, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisRenderer\"\r\n    });\r\n    Object.defineProperty(AxisRenderer, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([AxisRenderer.className])\r\n    });\r\n    return AxisRenderer;\r\n}(Graphics));\r\nexport { AxisRenderer };\r\n//# sourceMappingURL=AxisRenderer.js.map","import { __extends, __read } from \"tslib\";\r\nimport { AxisRenderer } from \"./AxisRenderer\";\r\nimport { p100 } from \"../../../core/util/Percent\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\n/**\r\n * Used to render vertical axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n * @important\r\n */\r\nvar AxisRendererY = /** @class */ (function (_super) {\r\n    __extends(AxisRendererY, _super);\r\n    function AxisRendererY() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_downY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Rectangle.new(_this._root, { height: p100, isMeasured: false, themeTags: [\"axis\", \"y\", \"thumb\"] })\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AxisRendererY.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"y\"]);\r\n            if (this._settings.opposite) {\r\n                this._settings.themeTags.push(\"opposite\");\r\n            }\r\n            _super.prototype._afterNew.call(this);\r\n            this.setPrivateRaw(\"letter\", \"Y\");\r\n            var gridTemplate = this.grid.template;\r\n            gridTemplate.set(\"width\", p100);\r\n            gridTemplate.set(\"height\", 0);\r\n            gridTemplate.set(\"draw\", function (display, graphics) {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(graphics.width(), 0);\r\n            });\r\n            this.set(\"draw\", function (display, renderer) {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(0, renderer.height());\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererY.prototype, \"_getPan\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point1, point2) {\r\n            return (point1.y - point2.y) / this.height();\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererY.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            var axis = this.axis;\r\n            axis.ghostLabel.setPrivate(\"visible\", !this.get(\"inside\"));\r\n            var thumb = this.thumb;\r\n            var opposite = \"opposite\";\r\n            var inside = \"inside\";\r\n            var chart = this.chart;\r\n            if (this.isDirty(opposite) || this.isDirty(inside)) {\r\n                var axisChildren = axis.children;\r\n                if (this.get(inside)) {\r\n                    axis.addTag(inside);\r\n                }\r\n                else {\r\n                    axis.removeTag(inside);\r\n                }\r\n                if (chart) {\r\n                    if (this.get(opposite)) {\r\n                        var children = chart.rightAxesContainer.children;\r\n                        if (children.indexOf(axis) == -1) {\r\n                            children.moveValue(axis, 0);\r\n                        }\r\n                        axis.addTag(opposite);\r\n                        axisChildren.moveValue(this, 0);\r\n                    }\r\n                    else {\r\n                        var children = chart.leftAxesContainer.children;\r\n                        if (children.indexOf(axis) == -1) {\r\n                            children.moveValue(axis);\r\n                        }\r\n                        axis.removeTag(opposite);\r\n                        axisChildren.moveValue(this);\r\n                    }\r\n                    axis.ghostLabel._applyThemes();\r\n                    this.labels.each(function (label) {\r\n                        label._applyThemes();\r\n                    });\r\n                    this.root._markDirtyRedraw();\r\n                }\r\n                axis.markDirtySize();\r\n            }\r\n            var w = axis.labelsContainer.width();\r\n            if (chart) {\r\n                if (this.get(opposite)) {\r\n                    thumb.set(\"centerX\", 0);\r\n                }\r\n                else {\r\n                    thumb.set(\"centerX\", w);\r\n                }\r\n            }\r\n            thumb.setPrivate(\"width\", w);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"processAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.processAxis.call(this);\r\n            var axis = this.axis;\r\n            if (axis.get(\"height\") == null) {\r\n                axis.set(\"height\", p100);\r\n            }\r\n            var horizontalLayout = this._root.horizontalLayout;\r\n            axis.set(\"layout\", horizontalLayout);\r\n            axis.labelsContainer.set(\"height\", p100);\r\n            axis.axisHeader.set(\"layout\", horizontalLayout);\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererY.prototype, \"_updatePositions\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var axis = this.axis;\r\n            axis.gridContainer.set(\"y\", axis.y() - $utils.relativeToValue(axis.get(\"centerY\", 0), axis.height()));\r\n            axis.bulletsContainer.set(\"x\", this.x());\r\n            var chart = axis.chart;\r\n            if (chart) {\r\n                var plotContainer = chart.plotContainer;\r\n                var axisHeader = axis.axisHeader;\r\n                var height = axis.get(\"marginTop\", 0);\r\n                if (axisHeader.children.length > 0) {\r\n                    height = axis.axisHeader.height();\r\n                    axis.set(\"marginTop\", height);\r\n                }\r\n                else {\r\n                    axisHeader.set(\"height\", height);\r\n                }\r\n                axisHeader.setAll({ y: axis.y() - height, x: -1, width: plotContainer.width() + 2 });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"axisLength\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.axis.innerHeight();\r\n        }\r\n    });\r\n    /**\r\n     * Converts axis relative position to actual coordinate in pixels.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Point\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"positionToPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            return { x: 0, y: this.positionToCoordinate(position) };\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"updateLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (label, position, endPosition, count) {\r\n            if (label) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_1 = 0.5;\r\n                if ($type.isNumber(count) && count > 1) {\r\n                    location_1 = label.get(\"multiLocation\", location_1);\r\n                }\r\n                else {\r\n                    location_1 = label.get(\"location\", location_1);\r\n                }\r\n                var opposite = this.get(\"opposite\");\r\n                var inside = label.get(\"inside\", this.get(\"inside\", false));\r\n                if (opposite) {\r\n                    label.set(\"x\", 0);\r\n                    if (inside) {\r\n                        label.set(\"position\", \"absolute\");\r\n                    }\r\n                    else {\r\n                        label.set(\"position\", \"relative\");\r\n                    }\r\n                }\r\n                else {\r\n                    if (inside) {\r\n                        label.set(\"x\", 0);\r\n                        label.set(\"position\", \"absolute\");\r\n                    }\r\n                    else {\r\n                        label.set(\"x\", undefined);\r\n                        label.set(\"position\", \"relative\");\r\n                    }\r\n                }\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_1;\r\n                }\r\n                label.set(\"y\", this.positionToCoordinate(position));\r\n                this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"updateGrid\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (grid, position, endPosition) {\r\n            if (grid) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_2 = grid.get(\"location\", 0.5);\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_2;\r\n                }\r\n                var y = this.positionToCoordinate(position);\r\n                grid.set(\"y\", y);\r\n                this.toggleVisibility(grid, position, 0, 1);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"updateTick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tick, position, endPosition, count) {\r\n            if (tick) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_3 = 0.5;\r\n                if ($type.isNumber(count) && count > 1) {\r\n                    location_3 = tick.get(\"multiLocation\", location_3);\r\n                }\r\n                else {\r\n                    location_3 = tick.get(\"location\", location_3);\r\n                }\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_3;\r\n                }\r\n                tick.set(\"y\", this.positionToCoordinate(position));\r\n                var length_1 = tick.get(\"length\", 0);\r\n                var inside = tick.get(\"inside\", this.get(\"inside\", false));\r\n                if (this.get(\"opposite\")) {\r\n                    tick.set(\"x\", 0);\r\n                    if (inside) {\r\n                        length_1 *= -1;\r\n                    }\r\n                }\r\n                else {\r\n                    if (!inside) {\r\n                        length_1 *= -1;\r\n                    }\r\n                }\r\n                tick.set(\"draw\", function (display) {\r\n                    display.moveTo(0, 0);\r\n                    display.lineTo(length_1, 0);\r\n                });\r\n                this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"updateBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bullet, position, endPosition) {\r\n            if (bullet) {\r\n                var sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    if (!$type.isNumber(position)) {\r\n                        position = 0;\r\n                    }\r\n                    var location_4 = bullet.get(\"location\", 0.5);\r\n                    if ($type.isNumber(endPosition) && endPosition != position) {\r\n                        position = position + (endPosition - position) * location_4;\r\n                    }\r\n                    var bulletPosition = this.axis.roundAxisPosition(position, location_4);\r\n                    var previousBullet = this.axis._bullets[bulletPosition];\r\n                    var d = 1;\r\n                    if (this.get(\"opposite\")) {\r\n                        d = -1;\r\n                    }\r\n                    if (bullet.get(\"stacked\")) {\r\n                        if (previousBullet) {\r\n                            var previousSprite = previousBullet.get(\"sprite\");\r\n                            if (previousSprite) {\r\n                                sprite.set(\"x\", previousSprite.x() + previousSprite.width() * d);\r\n                            }\r\n                        }\r\n                        else {\r\n                            sprite.set(\"x\", 0);\r\n                        }\r\n                    }\r\n                    this.axis._bullets[bulletPosition] = bullet;\r\n                    sprite.set(\"y\", this.positionToCoordinate(position));\r\n                    this.toggleVisibility(sprite, position, 0, 1);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"updateFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill, position, endPosition) {\r\n            if (fill) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                if (!$type.isNumber(endPosition)) {\r\n                    endPosition = 1;\r\n                }\r\n                var y0 = this.positionToCoordinate(position);\r\n                var y1 = this.positionToCoordinate(endPosition);\r\n                this.fillDrawMethod(fill, y0, y1);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererY.prototype, \"fillDrawMethod\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill, y0, y1) {\r\n            var _this = this;\r\n            fill.set(\"draw\", function (display) {\r\n                var _a;\r\n                // using for holes, so can not be rectangle\r\n                var w = _this.axis.gridContainer.width();\r\n                var h = _this.height();\r\n                if (y1 < y0) {\r\n                    _a = __read([y0, y1], 2), y1 = _a[0], y0 = _a[1];\r\n                }\r\n                if (y0 > h || y1 < 0) {\r\n                    return;\r\n                }\r\n                //y0 = Math.max(0, y0);\r\n                //y1 = Math.min(h, y1);\r\n                display.moveTo(0, y0);\r\n                display.lineTo(w, y0);\r\n                display.lineTo(w, y1);\r\n                display.lineTo(0, y1);\r\n                display.lineTo(0, y0);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Converts relative position (0-1) on axis to a pixel coordinate.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinate (px)\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"positionToCoordinate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            if (!this._inversed) {\r\n                return (this._end - position) * this._axisLength;\r\n            }\r\n            else {\r\n                return (position - this._start) * this._axisLength;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"positionTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip, position) {\r\n            this._positionTooltip(tooltip, { x: 0, y: this.positionToCoordinate(position) });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"updateTooltipBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip) {\r\n            var inside = this.get(\"inside\");\r\n            var num = 100000;\r\n            var global = this._display.toGlobal({ x: 0, y: 0 });\r\n            var y = global.y;\r\n            var x = 0;\r\n            var h = this.axisLength();\r\n            var w = num;\r\n            var pointerOrientation = \"right\";\r\n            if (this.get(\"opposite\")) {\r\n                if (inside) {\r\n                    pointerOrientation = \"right\";\r\n                    x = global.x - num;\r\n                    w = num;\r\n                }\r\n                else {\r\n                    pointerOrientation = \"left\";\r\n                    x = global.x;\r\n                    w = num;\r\n                }\r\n            }\r\n            else {\r\n                if (inside) {\r\n                    pointerOrientation = \"left\";\r\n                    x = global.x;\r\n                    w = num;\r\n                }\r\n                else {\r\n                    pointerOrientation = \"right\";\r\n                    x = global.x - num;\r\n                    w = num;\r\n                }\r\n            }\r\n            var bounds = { left: x, right: x + w, top: y, bottom: y + h };\r\n            var oldBounds = tooltip.get(\"bounds\");\r\n            if (!$utils.sameBounds(bounds, oldBounds)) {\r\n                tooltip.set(\"bounds\", bounds);\r\n                tooltip.set(\"pointerOrientation\", pointerOrientation);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererY.prototype, \"_updateLC\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var axis = this.axis;\r\n            var parent = axis.parent;\r\n            if (parent) {\r\n                var h = parent.innerHeight();\r\n                this._lc = this.axisLength() / h;\r\n                this._ls = axis.y() / h;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"toAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var start = this._start || 0;\r\n            var end = this._end || 1;\r\n            position -= this._ls;\r\n            position = position * (end - start) / this._lc;\r\n            if (this.get(\"inversed\")) {\r\n                position = start + position;\r\n            }\r\n            else {\r\n                position = end - position;\r\n            }\r\n            return position;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"fixPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            if (!this.get(\"inversed\")) {\r\n                return 1 - position;\r\n            }\r\n            return position;\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererY, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisRendererY\"\r\n    });\r\n    Object.defineProperty(AxisRendererY, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: AxisRenderer.classNames.concat([AxisRendererY.className])\r\n    });\r\n    return AxisRendererY;\r\n}(AxisRenderer));\r\nexport { AxisRendererY };\r\n//# sourceMappingURL=AxisRendererY.js.map","import { __assign, __extends } from \"tslib\";\r\nimport { DataItem } from \"../../../core/render/Component\";\r\nimport { ValueAxis } from \"./ValueAxis\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $order from \"../../../core/util/Order\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $object from \"../../../core/util/Object\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nimport * as $time from \"../../../core/util/Time\";\r\n/**\r\n * Creates a date axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/date-axis/} for more info\r\n * @important\r\n */\r\nvar DateAxis = /** @class */ (function (_super) {\r\n    __extends(DateAxis, _super);\r\n    function DateAxis() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_dataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_seriesDataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_groupingCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_intervalDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_baseDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_intervalMax\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_intervalMin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DateAxis.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"axis\"]);\r\n            _super.prototype._afterNew.call(this);\r\n            this._setBaseInterval(this.get(\"baseInterval\"));\r\n            this.on(\"baseInterval\", function () {\r\n                _this._setBaseInterval(_this.get(\"baseInterval\"));\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_setBaseInterval\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (interval) {\r\n            this.setPrivateRaw(\"baseInterval\", interval);\r\n            this._baseDuration = $time.getIntervalDuration(interval);\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_fixZoomFactor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var maxZoomFactor = this.get(\"maxZoomFactor\");\r\n            if (maxZoomFactor != null) {\r\n                this.setPrivateRaw(\"maxZoomFactor\", maxZoomFactor);\r\n            }\r\n            else {\r\n                this.setPrivateRaw(\"maxZoomFactor\", Math.round((this.getPrivate(\"max\", 0) - this.getPrivate(\"min\", 0)) / this.baseMainDuration()));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_groupData\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var min = this.getPrivate(\"min\");\r\n            var max = this.getPrivate(\"max\");\r\n            if (($type.isNumber(min) && $type.isNumber(max))) {\r\n                this._fixZoomFactor();\r\n                var groupInterval = this.getPrivate(\"groupInterval\");\r\n                if (groupInterval) {\r\n                    this._setBaseInterval(groupInterval);\r\n                }\r\n                else {\r\n                    this._setBaseInterval(this.get(\"baseInterval\"));\r\n                }\r\n                if (this.isDirty(\"groupInterval\")) {\r\n                    var groupInterval_1 = this.get(\"groupInterval\");\r\n                    if (groupInterval_1) {\r\n                        this.setRaw(\"groupIntervals\", [groupInterval_1]);\r\n                    }\r\n                }\r\n                if (this.isDirty(\"groupData\")) {\r\n                    if (!this._dataGrouped) {\r\n                        if (this.get(\"groupData\")) {\r\n                            $array.each(this.series, function (series) {\r\n                                _this._groupSeriesData(series);\r\n                            });\r\n                            this._handleRangeChange();\r\n                        }\r\n                        else {\r\n                            var baseInterval = this.get(\"baseInterval\");\r\n                            var mainDataSetId_1 = baseInterval.timeUnit + baseInterval.count;\r\n                            $array.each(this.series, function (series) {\r\n                                series.setDataSet(mainDataSetId_1);\r\n                            });\r\n                            this._setBaseInterval(baseInterval);\r\n                            this.setPrivateRaw(\"groupInterval\", undefined);\r\n                            this.markDirtyExtremes();\r\n                        }\r\n                        this._dataGrouped = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_groupSeriesData\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            var _this = this;\r\n            if (this.get(\"groupData\") && !series.get(\"groupDataDisabled\")) {\r\n                this._dataGrouped = true; // helps to avoid double grouping\r\n                this._seriesDataGrouped = true;\r\n                // make array of intervals which will be used;\r\n                var intervals_1 = [];\r\n                var baseDuration_1 = this.baseMainDuration();\r\n                var groupIntervals = this.get(\"groupIntervals\");\r\n                if (groupIntervals) { }\r\n                $array.each(groupIntervals, function (interval) {\r\n                    var intervalDuration = $time.getIntervalDuration(interval);\r\n                    if (intervalDuration > baseDuration_1) {\r\n                        intervals_1.push(interval);\r\n                    }\r\n                });\r\n                series._dataSets = {};\r\n                var key_1 = this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\");\r\n                var fields_1;\r\n                var baseAxis = series.get(\"baseAxis\");\r\n                if (series.get(\"xAxis\") === baseAxis) {\r\n                    fields_1 = series._valueYFields;\r\n                }\r\n                else if (series.get(\"yAxis\") === baseAxis) {\r\n                    fields_1 = series._valueXFields;\r\n                }\r\n                var dataItems_1 = series._mainDataItems;\r\n                var baseInterval = this.get(\"baseInterval\");\r\n                var mainDataSetId = baseInterval.timeUnit + baseInterval.count;\r\n                series._dataSets[mainDataSetId] = dataItems_1;\r\n                var groupCallback_1 = series.get(\"groupDataCallback\");\r\n                var groupOriginals_1 = series.get(\"groupDataWithOriginals\", false);\r\n                if (groupCallback_1) {\r\n                    groupOriginals_1 = true;\r\n                }\r\n                $array.each(intervals_1, function (interval) {\r\n                    var previousTime = -Infinity;\r\n                    var dataSetId = interval.timeUnit + interval.count;\r\n                    series._dataSets[dataSetId] = [];\r\n                    var newDataItem;\r\n                    var sum = {};\r\n                    var count = {};\r\n                    var groupFieldValues = {};\r\n                    var workingFields = {};\r\n                    $array.each(fields_1, function (field) {\r\n                        sum[field] = 0;\r\n                        count[field] = 0;\r\n                        groupFieldValues[field] = series.get((field + \"Grouped\"));\r\n                        workingFields[field] = field + \"Working\";\r\n                    });\r\n                    var intervalDuration = $time.getDuration(interval.timeUnit);\r\n                    var firstItem = dataItems_1[0];\r\n                    var firstDate;\r\n                    if (firstItem) {\r\n                        firstDate = new Date(dataItems_1[0].get(key_1));\r\n                    }\r\n                    var prevNewDataItem;\r\n                    $array.each(dataItems_1, function (dataItem) {\r\n                        var time = dataItem.get(key_1);\r\n                        var roundedTime = $time.round(new Date(time), interval.timeUnit, interval.count, _this._root.locale.firstDayOfWeek, _this._root.utc, firstDate, _this._root.timezone).getTime();\r\n                        var dataContext;\r\n                        if (previousTime < roundedTime - intervalDuration / 24) {\r\n                            dataContext = $object.copy(dataItem.dataContext);\r\n                            newDataItem = new DataItem(series, dataContext, series._makeDataItem(dataContext));\r\n                            newDataItem.setRaw(key_1, roundedTime);\r\n                            series._dataSets[dataSetId].push(newDataItem);\r\n                            $array.each(fields_1, function (field) {\r\n                                var value = dataItem.get(field);\r\n                                if ($type.isNumber(value)) {\r\n                                    newDataItem.setRaw(field, value);\r\n                                    newDataItem.setRaw(workingFields[field], value);\r\n                                    count[field] = 1;\r\n                                    sum[field] = value;\r\n                                }\r\n                                else {\r\n                                    sum[field] = 0;\r\n                                    count[field] = 0;\r\n                                }\r\n                            });\r\n                            if (groupOriginals_1) {\r\n                                newDataItem.set(\"originals\", [dataItem]);\r\n                            }\r\n                            if (groupCallback_1 && prevNewDataItem) {\r\n                                groupCallback_1(prevNewDataItem, interval);\r\n                            }\r\n                            prevNewDataItem = newDataItem;\r\n                        }\r\n                        else {\r\n                            $array.each(fields_1, function (field) {\r\n                                var groupKey = groupFieldValues[field];\r\n                                var value = dataItem.get(field);\r\n                                if (value !== undefined) {\r\n                                    var currentValue = newDataItem.get(field);\r\n                                    switch (groupKey) {\r\n                                        case \"close\":\r\n                                            newDataItem.setRaw(field, value);\r\n                                            break;\r\n                                        case \"sum\":\r\n                                            newDataItem.setRaw(field, currentValue + value);\r\n                                            break;\r\n                                        case \"open\":\r\n                                            break;\r\n                                        case \"low\":\r\n                                            if (value < currentValue) {\r\n                                                newDataItem.setRaw(field, value);\r\n                                            }\r\n                                            break;\r\n                                        case \"high\":\r\n                                            if (value > currentValue) {\r\n                                                newDataItem.setRaw(field, value);\r\n                                            }\r\n                                            break;\r\n                                        case \"average\":\r\n                                            count[field]++;\r\n                                            sum[field] += value;\r\n                                            var average = sum[field] / count[field];\r\n                                            newDataItem.setRaw(field, average);\r\n                                            break;\r\n                                        case \"extreme\":\r\n                                            if (Math.abs(value) > Math.abs(currentValue)) {\r\n                                                newDataItem.setRaw(field, value);\r\n                                            }\r\n                                            break;\r\n                                    }\r\n                                    newDataItem.setRaw(workingFields[field], newDataItem.get(field));\r\n                                    var dataContext_1 = $object.copy(dataItem.dataContext);\r\n                                    dataContext_1[key_1] = roundedTime;\r\n                                    newDataItem.dataContext = dataContext_1;\r\n                                }\r\n                            });\r\n                            if (groupOriginals_1) {\r\n                                newDataItem.get(\"originals\").push(dataItem);\r\n                            }\r\n                        }\r\n                        previousTime = roundedTime;\r\n                    });\r\n                    if (groupCallback_1 && prevNewDataItem) {\r\n                        groupCallback_1(prevNewDataItem, interval);\r\n                    }\r\n                });\r\n                if (series._dataSetId) {\r\n                    series.setDataSet(series._dataSetId);\r\n                }\r\n                this.markDirtySize();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._clearDirty.call(this);\r\n            this._groupingCalculated = false;\r\n            this._dataGrouped = false;\r\n        }\r\n    });\r\n    /**\r\n     * Returns a time interval axis would group data to for a specified duration.\r\n     *\r\n     * @since 5.2.1\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getGroupInterval\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            var baseInterval = this.get(\"baseInterval\");\r\n            var groupInterval = $time.chooseInterval(0, duration, this.get(\"groupCount\", Infinity), this.get(\"groupIntervals\"));\r\n            if ($time.getIntervalDuration(groupInterval) < $time.getIntervalDuration(baseInterval)) {\r\n                groupInterval = __assign({}, baseInterval);\r\n            }\r\n            return groupInterval;\r\n        }\r\n    });\r\n    /**\r\n     * Return `max` of a specified time interval.\r\n     *\r\n     * Will work only if the axis was grouped to this interval at least once.\r\n     *\r\n     * @since 5.2.1\r\n     * @param   interval  Interval\r\n     * @return            Max\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getIntervalMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (interval) {\r\n            return this._intervalMax[interval.timeUnit + interval.count];\r\n        }\r\n    });\r\n    /**\r\n     * Return `min` of a specified time interval.\r\n     *\r\n     * Will work only if the axis was grouped to this interval at least once.\r\n     *\r\n     * @since 5.2.1\r\n     * @param   interval  Interval\r\n     * @return            Min\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getIntervalMin\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (interval) {\r\n            return this._intervalMin[interval.timeUnit + interval.count];\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_handleRangeChange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._handleRangeChange.call(this);\r\n            var selectionMin = Math.round(this.getPrivate(\"selectionMin\"));\r\n            var selectionMax = Math.round(this.getPrivate(\"selectionMax\"));\r\n            if ($type.isNumber(selectionMin) && $type.isNumber(selectionMax)) {\r\n                if (this.get(\"endLocation\") == 0) {\r\n                    selectionMax += 1;\r\n                }\r\n                if (this.get(\"groupData\") && !this._groupingCalculated) {\r\n                    this._groupingCalculated = true;\r\n                    var modifiedDifference = (selectionMax - selectionMin) + (this.get(\"startLocation\", 0) + (1 - this.get(\"endLocation\", 1)) * this.baseDuration());\r\n                    var groupInterval = this.get(\"groupInterval\");\r\n                    if (!groupInterval) {\r\n                        groupInterval = this.getGroupInterval(modifiedDifference);\r\n                    }\r\n                    var current = this.getPrivate(\"groupInterval\");\r\n                    if (groupInterval && (!current || (current.timeUnit !== groupInterval.timeUnit || current.count !== groupInterval.count) || this._seriesDataGrouped)) {\r\n                        this._seriesDataGrouped = false;\r\n                        this.setPrivateRaw(\"groupInterval\", groupInterval);\r\n                        this._setBaseInterval(groupInterval);\r\n                        if (groupInterval) {\r\n                            var newId_1 = groupInterval.timeUnit + groupInterval.count;\r\n                            $array.each(this.series, function (series) {\r\n                                if (series.get(\"baseAxis\") === _this) {\r\n                                    series.setDataSet(newId_1);\r\n                                }\r\n                            });\r\n                            this.markDirtyExtremes();\r\n                        }\r\n                    }\r\n                }\r\n                $array.each(this.series, function (series) {\r\n                    if (series.get(\"baseAxis\") === _this) {\r\n                        var fieldName_1 = (_this.getPrivate(\"name\") + _this.get(\"renderer\").getPrivate(\"letter\"));\r\n                        var start = $array.getSortedIndex(series.dataItems, function (dataItem) {\r\n                            return $order.compare(dataItem.get(fieldName_1), selectionMin);\r\n                        });\r\n                        var startIndex = start.index;\r\n                        if (startIndex > 0) {\r\n                            startIndex -= 1;\r\n                        }\r\n                        var end = $array.getSortedIndex(series.dataItems, function (dataItem) {\r\n                            return $order.compare(dataItem.get(fieldName_1), selectionMax);\r\n                        });\r\n                        var endIndex = end.index;\r\n                        var endIndex2 = endIndex;\r\n                        if (endIndex2 > 0) {\r\n                            endIndex2--;\r\n                        }\r\n                        var firstDataItem = series.dataItems[startIndex];\r\n                        var lastDataItem = series.dataItems[endIndex2];\r\n                        var lastDate = void 0;\r\n                        var firstDate = void 0;\r\n                        if (firstDataItem) {\r\n                            firstDate = firstDataItem.get(fieldName_1);\r\n                        }\r\n                        if (lastDataItem) {\r\n                            lastDate = lastDataItem.get(fieldName_1);\r\n                        }\r\n                        var outOfSelection = false;\r\n                        if (lastDate != null && firstDate != null) {\r\n                            if (lastDate < selectionMin || firstDate > selectionMax) {\r\n                                outOfSelection = true;\r\n                            }\r\n                        }\r\n                        series.setPrivate(\"outOfSelection\", outOfSelection);\r\n                        series.setPrivate(\"startIndex\", startIndex);\r\n                        series.setPrivate(\"endIndex\", endIndex);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_adjustMinMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min, max, gridCount, _strictMode) {\r\n            return { min: min, max: max, step: (max - min) / gridCount };\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"intervalDuration\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._intervalDuration;\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_saveMinMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min, max) {\r\n            var groupInterval = this.getPrivate(\"groupInterval\");\r\n            if (!groupInterval) {\r\n                groupInterval = this.get(\"baseInterval\");\r\n            }\r\n            var id = groupInterval.timeUnit + groupInterval.count;\r\n            this._intervalMin[id] = min;\r\n            this._intervalMax[id] = max;\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_prepareAxisItems\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var min = this.getPrivate(\"min\");\r\n            var max = this.getPrivate(\"max\");\r\n            this._bullets = {};\r\n            if ($type.isNumber(min) && $type.isNumber(max)) {\r\n                var selectionMin = Math.round(this.getPrivate(\"selectionMin\"));\r\n                var selectionMax = Math.round(this.getPrivate(\"selectionMax\"));\r\n                var renderer = this.get(\"renderer\");\r\n                var baseInterval = this.getPrivate(\"baseInterval\");\r\n                var value = selectionMin;\r\n                var i = 0;\r\n                var intervals = this.get(\"gridIntervals\");\r\n                var gridInterval = $time.chooseInterval(0, selectionMax - selectionMin, renderer.gridCount(), intervals);\r\n                if ($time.getIntervalDuration(gridInterval) < this.baseDuration()) {\r\n                    gridInterval = __assign({}, baseInterval);\r\n                }\r\n                var intervalDuration = $time.getIntervalDuration(gridInterval);\r\n                this._intervalDuration = intervalDuration;\r\n                var nextGridUnit = $time.getNextUnit(gridInterval.timeUnit);\r\n                value = $time.round(new Date(selectionMin - intervalDuration), gridInterval.timeUnit, gridInterval.count, this._root.locale.firstDayOfWeek, this._root.utc, new Date(min), this._root.timezone).getTime();\r\n                var previousValue = value - intervalDuration;\r\n                var format = void 0;\r\n                var formats = this.get(\"dateFormats\");\r\n                this.setPrivateRaw(\"gridInterval\", gridInterval);\r\n                while (value < selectionMax + intervalDuration) {\r\n                    var dataItem = void 0;\r\n                    if (this.dataItems.length < i + 1) {\r\n                        dataItem = new DataItem(this, undefined, {});\r\n                        this._dataItems.push(dataItem);\r\n                        this.processDataItem(dataItem);\r\n                    }\r\n                    else {\r\n                        dataItem = this.dataItems[i];\r\n                    }\r\n                    this._createAssets(dataItem, []);\r\n                    if (dataItem.isHidden()) {\r\n                        dataItem.show();\r\n                    }\r\n                    dataItem.setRaw(\"value\", value);\r\n                    var endValue = value + $time.getDuration(gridInterval.timeUnit, gridInterval.count * 1.1);\r\n                    endValue = $time.round(new Date(endValue), gridInterval.timeUnit, 1, this._root.locale.firstDayOfWeek, this._root.utc, undefined, this._root.timezone).getTime();\r\n                    dataItem.setRaw(\"endValue\", endValue);\r\n                    var date = new Date(value);\r\n                    format = formats[gridInterval.timeUnit];\r\n                    if (nextGridUnit && this.get(\"markUnitChange\") && $type.isNumber(previousValue)) {\r\n                        if (gridInterval.timeUnit != \"year\") {\r\n                            if ($time.checkChange(value, previousValue, nextGridUnit, this._root.utc, this._root.timezone)) {\r\n                                format = this.get(\"periodChangeDateFormats\")[gridInterval.timeUnit];\r\n                            }\r\n                        }\r\n                    }\r\n                    var label = dataItem.get(\"label\");\r\n                    if (label) {\r\n                        label.set(\"text\", this._root.dateFormatter.format(date, format));\r\n                    }\r\n                    this._prepareDataItem(dataItem, gridInterval.count);\r\n                    previousValue = value;\r\n                    value = endValue;\r\n                    if (value == previousValue) {\r\n                        break;\r\n                    }\r\n                    i++;\r\n                }\r\n                for (var j = i; j < this.dataItems.length; j++) {\r\n                    this.dataItems[j].hide();\r\n                }\r\n                $array.each(this.series, function (series) {\r\n                    if (series.inited) {\r\n                        series._markDirtyAxes();\r\n                    }\r\n                });\r\n            }\r\n            this._updateGhost();\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_getDelta\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._deltaMinMax = this.baseDuration() / 2;\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_fixMin\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min) {\r\n            var baseInterval = this.getPrivate(\"baseInterval\");\r\n            var startTime = $time.round(new Date(min), baseInterval.timeUnit, baseInterval.count, this._root.locale.firstDayOfWeek, this._root.utc, undefined, this._root.timezone).getTime();\r\n            var endTime = startTime + $time.getDuration(baseInterval.timeUnit, baseInterval.count * 1.1);\r\n            endTime = $time.round(new Date(endTime), baseInterval.timeUnit, 1, this._root.locale.firstDayOfWeek, this._root.utc, undefined, this._root.timezone).getTime();\r\n            return startTime + (endTime - startTime) * this.get(\"startLocation\", 0);\r\n        }\r\n    });\r\n    /* goes up to the year\r\n    protected _getFormat(timeUnit: TimeUnit, value: number, previousValue: number) {\r\n        const formats = this.get(\"dateFormats\")!;\r\n        let format = formats[timeUnit];\r\n\r\n        if (this.get(\"markUnitChange\")) {\r\n            let nextGridUnit = $time.getNextUnit(timeUnit);\r\n\r\n            while (nextGridUnit != undefined) {\r\n\r\n                if (nextGridUnit) {\r\n                    if (timeUnit != \"year\") {\r\n                        if ($time.checkChange(value, previousValue, nextGridUnit, this._root.utc, this._root.timezone)) {\r\n                            format = this.get(\"periodChangeDateFormats\")![timeUnit];\r\n                            timeUnit = nextGridUnit;\r\n                            nextGridUnit = $time.getNextUnit(nextGridUnit);\r\n                        }\r\n                        else {\r\n                            nextGridUnit = undefined;\r\n                        }\r\n                    }\r\n                    else {\r\n                        nextGridUnit = undefined;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n    */\r\n    Object.defineProperty(DateAxis.prototype, \"_fixMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (max) {\r\n            var baseInterval = this.getPrivate(\"baseInterval\");\r\n            var startTime = $time.round(new Date(max), baseInterval.timeUnit, baseInterval.count, this._root.locale.firstDayOfWeek, this._root.utc, undefined, this._root.timezone).getTime();\r\n            var endTime = startTime + $time.getDuration(baseInterval.timeUnit, baseInterval.count * 1.1);\r\n            endTime = $time.round(new Date(endTime), baseInterval.timeUnit, 1, this._root.locale.firstDayOfWeek, this._root.utc, undefined, this._root.timezone).getTime();\r\n            return startTime + (endTime - startTime) * this.get(\"endLocation\", 1);\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_updateDates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_date) {\r\n        }\r\n    });\r\n    /**\r\n     * Returns a duration of currently active `baseInterval` in milliseconds.\r\n     *\r\n     * @return Duration\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"baseDuration\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._baseDuration;\r\n            //return $time.getIntervalDuration(this.getPrivate(\"baseInterval\"));\r\n        }\r\n    });\r\n    /**\r\n     * Returns a duration of user-defined `baseInterval` in milliseconds.\r\n     *\r\n     * @return Duration\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"baseMainDuration\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return $time.getIntervalDuration(this.get(\"baseInterval\"));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"processSeriesDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, fields) {\r\n            var _this = this;\r\n            var baseInterval = this.getPrivate(\"baseInterval\");\r\n            if (!dataItem.open) {\r\n                dataItem.open = {};\r\n            }\r\n            if (!dataItem.close) {\r\n                dataItem.close = {};\r\n            }\r\n            $array.each(fields, function (field) {\r\n                var value = dataItem.get(field);\r\n                if ($type.isNumber(value)) {\r\n                    var startTime = dataItem.open[field];\r\n                    var endTime = dataItem.close[field];\r\n                    // this is done to save cpu, as rounding is quite expensive, especially with timezone set. \r\n                    // if value is between prev start and end, it means it didn't change, all is fine.\r\n                    if (value >= startTime && value <= endTime) {\r\n                    }\r\n                    else {\r\n                        startTime = $time.round(new Date(value), baseInterval.timeUnit, baseInterval.count, _this._root.locale.firstDayOfWeek, _this._root.utc, undefined, _this._root.timezone).getTime();\r\n                        endTime = startTime + $time.getDuration(baseInterval.timeUnit, baseInterval.count * 1.1);\r\n                        endTime = $time.round(new Date(endTime), baseInterval.timeUnit, 1, _this._root.locale.firstDayOfWeek, _this._root.utc, undefined, _this._root.timezone).getTime();\r\n                        dataItem.open[field] = startTime;\r\n                        dataItem.close[field] = endTime;\r\n                    }\r\n                    _this._updateDates(startTime);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getDataItemPositionX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, cellLocation, axisLocation) {\r\n            var openValue;\r\n            var closeValue;\r\n            if (dataItem.open && dataItem.close) {\r\n                openValue = dataItem.open[field];\r\n                closeValue = dataItem.close[field];\r\n            }\r\n            else {\r\n                openValue = dataItem.get(field);\r\n                closeValue = openValue;\r\n            }\r\n            var value = openValue + (closeValue - openValue) * cellLocation;\r\n            value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n            return this.valueToPosition(value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getDataItemCoordinateX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, cellLocation, axisLocation) {\r\n            return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, cellLocation, axisLocation));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getDataItemPositionY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, cellLocation, axisLocation) {\r\n            var openValue;\r\n            var closeValue;\r\n            if (dataItem.open && dataItem.close) {\r\n                openValue = dataItem.open[field];\r\n                closeValue = dataItem.close[field];\r\n            }\r\n            else {\r\n                openValue = dataItem.get(field);\r\n                closeValue = openValue;\r\n            }\r\n            var value = openValue + (closeValue - openValue) * cellLocation;\r\n            value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n            return this.valueToPosition(value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getDataItemCoordinateY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, cellLocation, axisLocation) {\r\n            return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, cellLocation, axisLocation));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"roundAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position, location) {\r\n            var value = this.positionToValue(position);\r\n            value = value - (location - 0.5) * this.baseDuration();\r\n            var baseInterval = this.getPrivate(\"baseInterval\");\r\n            if (!$type.isNaN(value)) {\r\n                var timeZone = this._root.timezone;\r\n                var firstDayOfWeek = this._root.locale.firstDayOfWeek;\r\n                value = $time.round(new Date(value), baseInterval.timeUnit, baseInterval.count, firstDayOfWeek, this._root.utc, new Date(this.getPrivate(\"min\", 0)), timeZone).getTime();\r\n                var duration = $time.getDateIntervalDuration(baseInterval, new Date(value), firstDayOfWeek, this._root.utc, this._root.timezone);\r\n                if (timeZone) {\r\n                    value = $time.round(new Date(value + this.baseDuration() * 0.01), baseInterval.timeUnit, baseInterval.count, firstDayOfWeek, this._root.utc, new Date(this.getPrivate(\"min\", 0)), timeZone).getTime();\r\n                    var newValue = value + duration * location;\r\n                    duration = $time.getDateIntervalDuration(baseInterval, new Date(newValue), firstDayOfWeek, this._root.utc, this._root.timezone);\r\n                }\r\n                return this.valueToPosition(value + duration * location);\r\n            }\r\n            return NaN;\r\n        }\r\n    });\r\n    /**\r\n     * Returns text to be used in an axis tooltip for specific relative position.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Tooltip text\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getTooltipText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            //@todo number formatter + tag\r\n            if (this.getPrivate(\"min\") != null) {\r\n                var format = this.get(\"tooltipDateFormats\")[this.getPrivate(\"baseInterval\").timeUnit];\r\n                var value = this.positionToValue(position);\r\n                var date = new Date(value);\r\n                var baseInterval = this.getPrivate(\"baseInterval\");\r\n                var duration = $time.getDateIntervalDuration(baseInterval, date, this._root.locale.firstDayOfWeek, this._root.utc, this._root.timezone);\r\n                return this._root.dateFormatter.format(new Date(value + this.get(\"tooltipIntervalOffset\", -this.get(\"tooltipLocation\", 0.5)) * duration), this.get(\"tooltipDateFormat\", format));\r\n            }\r\n            return \"\";\r\n        }\r\n    });\r\n    /**\r\n     * Returns a data item from series that is closest to the `position`.\r\n     *\r\n     * @param   series    Series\r\n     * @param   position  Relative position\r\n     * @return            Data item\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getSeriesItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series, position) {\r\n            var fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n            var value = this.positionToValue(position);\r\n            var result = $array.getSortedIndex(series.dataItems, function (dataItem) {\r\n                var diValue = 0;\r\n                if (dataItem.open) {\r\n                    diValue = dataItem.open[fieldName];\r\n                }\r\n                return $order.compare(diValue, value);\r\n            });\r\n            if (series.get(\"snapTooltip\")) {\r\n                var first = series.dataItems[result.index - 1];\r\n                var second = series.dataItems[result.index];\r\n                if (first && second) {\r\n                    if (first.open && second.close) {\r\n                        var open_1 = first.open[fieldName];\r\n                        var close_1 = second.close[fieldName];\r\n                        if (Math.abs(value - open_1) > Math.abs(value - close_1)) {\r\n                            return second;\r\n                        }\r\n                    }\r\n                }\r\n                return first;\r\n            }\r\n            else {\r\n                // @todo check if is in range\r\n                var dataItem = series.dataItems[result.index - 1];\r\n                if (dataItem) {\r\n                    if (dataItem.open && dataItem.close) {\r\n                        var open_2 = dataItem.open[fieldName];\r\n                        var close_2 = dataItem.close[fieldName];\r\n                        if (value >= open_2 && value <= close_2) {\r\n                            return dataItem;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"shouldGap\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, nextItem, autoGapCount, fieldName) {\r\n            var value1 = dataItem.get(fieldName);\r\n            var value2 = nextItem.get(fieldName);\r\n            if (value2 - value1 > this.baseDuration() * autoGapCount) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    /**\r\n     * Zooms the axis to specific `start` and `end` dates.\r\n     *\r\n     * Optional `duration` specifies duration of zoom animation in milliseconds.\r\n     *\r\n     * @param  start     Start Date\r\n     * @param  end       End Date\r\n     * @param  duration  Duration in milliseconds\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"zoomToDates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (start, end, duration) {\r\n            this.zoomToValues(start.getTime(), end.getTime(), duration);\r\n        }\r\n    });\r\n    /**\r\n     * Returns a `Date` object corresponding to specific position within plot\r\n     * area.\r\n     *\r\n     * @param   position  Pposition\r\n     * @return            Date\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"positionToDate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            return new Date(this.positionToValue(position));\r\n        }\r\n    });\r\n    /**\r\n     * Returns a relative position within plot area that corresponds to specific\r\n     * date.\r\n     *\r\n     * @param   date  Date\r\n     * @return        Position\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"dateToPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (date) {\r\n            return this.valueToPosition(date.getTime());\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"DateAxis\"\r\n    });\r\n    Object.defineProperty(DateAxis, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: ValueAxis.classNames.concat([DateAxis.className])\r\n    });\r\n    return DateAxis;\r\n}(ValueAxis));\r\nexport { DateAxis };\r\n//# sourceMappingURL=DateAxis.js.map","import { __extends, __read } from \"tslib\";\r\nimport { AxisRenderer } from \"./AxisRenderer\";\r\nimport { p100 } from \"../../../core/util/Percent\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\n/**\r\n * Used to render horizontal axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n * @important\r\n */\r\nvar AxisRendererX = /** @class */ (function (_super) {\r\n    __extends(AxisRendererX, _super);\r\n    function AxisRendererX() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Rectangle.new(_this._root, { width: p100, isMeasured: false, themeTags: [\"axis\", \"x\", \"thumb\"] })\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AxisRendererX.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"x\"]);\r\n            _super.prototype._afterNew.call(this);\r\n            this.setPrivateRaw(\"letter\", \"X\");\r\n            var gridTemplate = this.grid.template;\r\n            gridTemplate.set(\"height\", p100);\r\n            gridTemplate.set(\"width\", 0);\r\n            gridTemplate.set(\"draw\", function (display, graphics) {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(0, graphics.height());\r\n            });\r\n            this.set(\"draw\", function (display, graphics) {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(graphics.width(), 0);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            var axis = this.axis;\r\n            axis.ghostLabel.setPrivate(\"visible\", !this.get(\"inside\"));\r\n            var opposite = \"opposite\";\r\n            var inside = \"inside\";\r\n            if (this.isDirty(opposite) || this.isDirty(inside)) {\r\n                var chart = this.chart;\r\n                var axisChildren = axis.children;\r\n                if (this.get(inside)) {\r\n                    axis.addTag(inside);\r\n                }\r\n                else {\r\n                    axis.removeTag(inside);\r\n                }\r\n                if (chart) {\r\n                    if (this.get(opposite)) {\r\n                        var children = chart.topAxesContainer.children;\r\n                        if (children.indexOf(axis) == -1) {\r\n                            children.insertIndex(0, axis);\r\n                        }\r\n                        axis.addTag(opposite);\r\n                        axisChildren.moveValue(this);\r\n                    }\r\n                    else {\r\n                        var children = chart.bottomAxesContainer.children;\r\n                        if (children.indexOf(axis) == -1) {\r\n                            children.moveValue(axis);\r\n                        }\r\n                        axis.removeTag(opposite);\r\n                        axisChildren.moveValue(this, 0);\r\n                    }\r\n                    axis.ghostLabel._applyThemes();\r\n                    this.labels.each(function (label) {\r\n                        label._applyThemes();\r\n                    });\r\n                    this.root._markDirtyRedraw();\r\n                }\r\n                axis.markDirtySize();\r\n            }\r\n            this.thumb.setPrivate(\"height\", axis.labelsContainer.height());\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX.prototype, \"_getPan\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point1, point2) {\r\n            return (point2.x - point1.x) / this.width();\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX.prototype, \"toAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var start = this._start || 0;\r\n            var end = this._end || 1;\r\n            position -= this._ls;\r\n            position = position * (end - start) / this._lc;\r\n            if (!this.get(\"inversed\")) {\r\n                position = start + position;\r\n            }\r\n            else {\r\n                position = end - position;\r\n            }\r\n            return position;\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX.prototype, \"_updateLC\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var axis = this.axis;\r\n            var parent = axis.parent;\r\n            if (parent) {\r\n                var w = parent.innerWidth();\r\n                this._lc = this.axisLength() / w;\r\n                this._ls = (axis.x() - parent.get(\"paddingLeft\", 0)) / w;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX.prototype, \"_updatePositions\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var axis = this.axis;\r\n            axis.gridContainer.set(\"x\", axis.x() - $utils.relativeToValue(axis.get(\"centerX\", 0), axis.width()) - axis.parent.get(\"paddingLeft\", 0));\r\n            axis.bulletsContainer.set(\"y\", this.y());\r\n            var chart = axis.chart;\r\n            if (chart) {\r\n                var plotContainer = chart.plotContainer;\r\n                var axisHeader = axis.axisHeader;\r\n                var width = axis.get(\"marginLeft\", 0);\r\n                var x = axis.x() - width;\r\n                var parent_1 = axis.parent;\r\n                if (parent_1) {\r\n                    x -= parent_1.get(\"paddingLeft\", 0);\r\n                }\r\n                if (axisHeader.children.length > 0) {\r\n                    width = axis.axisHeader.width();\r\n                    axis.set(\"marginLeft\", width);\r\n                }\r\n                else {\r\n                    axisHeader.set(\"width\", width);\r\n                }\r\n                axisHeader.setAll({ x: x, y: -1, height: plotContainer.height() + 2 });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"processAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.processAxis.call(this);\r\n            var axis = this.axis;\r\n            axis.set(\"width\", p100);\r\n            var verticalLayout = this._root.verticalLayout;\r\n            axis.set(\"layout\", verticalLayout);\r\n            axis.labelsContainer.set(\"width\", p100);\r\n            axis.axisHeader.setAll({ layout: verticalLayout });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"axisLength\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.axis.width();\r\n        }\r\n    });\r\n    /**\r\n     * Converts axis relative position to actual coordinate in pixels.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Point\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"positionToPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            return { x: this.positionToCoordinate(position), y: 0 };\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"updateTick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tick, position, endPosition, count) {\r\n            if (tick) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_1 = 0.5;\r\n                if ($type.isNumber(count) && count > 1) {\r\n                    location_1 = tick.get(\"multiLocation\", location_1);\r\n                }\r\n                else {\r\n                    location_1 = tick.get(\"location\", location_1);\r\n                }\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_1;\r\n                }\r\n                tick.set(\"x\", this.positionToCoordinate(position));\r\n                var length_1 = tick.get(\"length\", 0);\r\n                var inside = tick.get(\"inside\", this.get(\"inside\", false));\r\n                if (this.get(\"opposite\")) {\r\n                    tick.set(\"y\", p100);\r\n                    if (!inside) {\r\n                        length_1 *= -1;\r\n                    }\r\n                }\r\n                else {\r\n                    tick.set(\"y\", 0);\r\n                    if (inside) {\r\n                        length_1 *= -1;\r\n                    }\r\n                }\r\n                tick.set(\"draw\", function (display) {\r\n                    display.moveTo(0, 0);\r\n                    display.lineTo(0, length_1);\r\n                });\r\n                this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"updateLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (label, position, endPosition, count) {\r\n            if (label) {\r\n                var location_2 = 0.5;\r\n                if ($type.isNumber(count) && count > 1) {\r\n                    location_2 = label.get(\"multiLocation\", location_2);\r\n                }\r\n                else {\r\n                    location_2 = label.get(\"location\", location_2);\r\n                }\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var inside = label.get(\"inside\", this.get(\"inside\", false));\r\n                var opposite = this.get(\"opposite\");\r\n                if (opposite) {\r\n                    if (!inside) {\r\n                        label.set(\"position\", \"relative\");\r\n                        label.set(\"y\", p100);\r\n                    }\r\n                    else {\r\n                        label.set(\"position\", \"absolute\");\r\n                        label.set(\"y\", 0);\r\n                    }\r\n                }\r\n                else {\r\n                    if (!inside) {\r\n                        label.set(\"y\", undefined);\r\n                        label.set(\"position\", \"relative\");\r\n                    }\r\n                    else {\r\n                        label.set(\"y\", 0);\r\n                        label.set(\"position\", \"absolute\");\r\n                    }\r\n                }\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_2;\r\n                }\r\n                label.set(\"x\", this.positionToCoordinate(position));\r\n                this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"updateGrid\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (grid, position, endPosition) {\r\n            if (grid) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_3 = grid.get(\"location\", 0.5);\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_3;\r\n                }\r\n                grid.set(\"x\", Math.round(this.positionToCoordinate(position)));\r\n                this.toggleVisibility(grid, position, 0, 1);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"updateBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bullet, position, endPosition) {\r\n            if (bullet) {\r\n                var sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    if (!$type.isNumber(position)) {\r\n                        position = 0;\r\n                    }\r\n                    var location_4 = bullet.get(\"location\", 0.5);\r\n                    if ($type.isNumber(endPosition) && endPosition != position) {\r\n                        position = position + (endPosition - position) * location_4;\r\n                    }\r\n                    var bulletPosition = this.axis.roundAxisPosition(position, location_4);\r\n                    var previousBullet = this.axis._bullets[bulletPosition];\r\n                    var d = -1;\r\n                    if (this.get(\"opposite\")) {\r\n                        d = 1;\r\n                    }\r\n                    if (bullet.get(\"stacked\")) {\r\n                        if (previousBullet) {\r\n                            var previousSprite = previousBullet.get(\"sprite\");\r\n                            if (previousSprite) {\r\n                                sprite.set(\"y\", previousSprite.y() + previousSprite.height() * d);\r\n                            }\r\n                        }\r\n                        else {\r\n                            sprite.set(\"y\", 0);\r\n                        }\r\n                    }\r\n                    this.axis._bullets[bulletPosition] = bullet;\r\n                    sprite.set(\"x\", this.positionToCoordinate(position));\r\n                    this.toggleVisibility(sprite, position, 0, 1);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"updateFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill, position, endPosition) {\r\n            if (fill) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                if (!$type.isNumber(endPosition)) {\r\n                    endPosition = 1;\r\n                }\r\n                var x0 = this.positionToCoordinate(position);\r\n                var x1 = this.positionToCoordinate(endPosition);\r\n                this.fillDrawMethod(fill, x0, x1);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX.prototype, \"fillDrawMethod\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill, x0, x1) {\r\n            var _this = this;\r\n            fill.set(\"draw\", function (display) {\r\n                var _a;\r\n                //display.drawRect(x0, 0, x1 - x0, this.axis!.gridContainer.height());\r\n                // using for holes, so can not be rectangle\r\n                var h = _this.axis.gridContainer.height();\r\n                var w = _this.width();\r\n                if (x1 < x0) {\r\n                    _a = __read([x0, x1], 2), x1 = _a[0], x0 = _a[1];\r\n                }\r\n                if (x0 > w || x1 < 0) {\r\n                    return;\r\n                }\r\n                /*\r\n                const limit = 10000;\r\n    \r\n                x0 = Math.max(-limit, x0);\r\n                x1 = Math.min(limit, x1);\r\n                */\r\n                display.moveTo(x0, 0);\r\n                display.lineTo(x1, 0);\r\n                display.lineTo(x1, h);\r\n                display.lineTo(x0, h);\r\n                display.lineTo(x0, 0);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"positionTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip, position) {\r\n            this._positionTooltip(tooltip, { x: this.positionToCoordinate(position), y: 0 });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"updateTooltipBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip) {\r\n            var inside = this.get(\"inside\");\r\n            var num = 100000;\r\n            var global = this._display.toGlobal({ x: 0, y: 0 });\r\n            var x = global.x;\r\n            var y = 0;\r\n            var w = this.axisLength();\r\n            var h = num;\r\n            var pointerOrientation = \"up\";\r\n            if (this.get(\"opposite\")) {\r\n                if (inside) {\r\n                    pointerOrientation = \"up\";\r\n                    y = global.y;\r\n                    h = num;\r\n                }\r\n                else {\r\n                    pointerOrientation = \"down\";\r\n                    y = global.y - num;\r\n                    h = num;\r\n                }\r\n            }\r\n            else {\r\n                if (inside) {\r\n                    pointerOrientation = \"down\";\r\n                    y = global.y - num;\r\n                    h = num;\r\n                }\r\n                else {\r\n                    pointerOrientation = \"up\";\r\n                    y = global.y;\r\n                    h = num;\r\n                }\r\n            }\r\n            var bounds = { left: x, right: x + w, top: y, bottom: y + h };\r\n            var oldBounds = tooltip.get(\"bounds\");\r\n            if (!$utils.sameBounds(bounds, oldBounds)) {\r\n                tooltip.set(\"bounds\", bounds);\r\n                tooltip.set(\"pointerOrientation\", pointerOrientation);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisRendererX\"\r\n    });\r\n    Object.defineProperty(AxisRendererX, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: AxisRenderer.classNames.concat([AxisRendererX.className])\r\n    });\r\n    return AxisRendererX;\r\n}(AxisRenderer));\r\nexport { AxisRendererX };\r\n//# sourceMappingURL=AxisRendererX.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { Component } from \"../../core/render/Component\";\r\nimport { List } from \"../../core/util/List\";\r\nimport { Color } from \"../../core/util/Color\";\r\nimport { percentInterpolate } from \"../../core/util/Animation\";\r\nimport { Percent } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $time from \"../../core/util/Time\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Label } from \"../../core/render/Label\";\r\n/**\r\n * A base class for all series.\r\n */\r\nvar Series = /** @class */ (function (_super) {\r\n    __extends(Series, _super);\r\n    function Series() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_aggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_selectionAggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_dataProcessed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_psi\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_pei\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A chart series belongs to.\r\n         */\r\n        Object.defineProperty(_this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * List of bullets to use for the series.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\r\n         */\r\n        Object.defineProperty(_this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        /**\r\n         * A [[Container]] series' bullets are stored in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(_this._root, { width: p100, height: p100, position: \"absolute\" })\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Series.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this.valueFields.push(\"value\");\r\n            _super.prototype._afterNew.call(this);\r\n            this.setPrivate(\"customData\", {});\r\n            this._disposers.push(this.bullets.events.onAll(function (change) {\r\n                if (change.type === \"clear\") {\r\n                    _this._handleBullets(_this.dataItems);\r\n                }\r\n                else if (change.type === \"push\") {\r\n                    _this._handleBullets(_this.dataItems);\r\n                }\r\n                else if (change.type === \"setIndex\") {\r\n                    _this._handleBullets(_this.dataItems);\r\n                }\r\n                else if (change.type === \"insertIndex\") {\r\n                    _this._handleBullets(_this.dataItems);\r\n                }\r\n                else if (change.type === \"removeIndex\") {\r\n                    _this._handleBullets(_this.dataItems);\r\n                }\r\n                else if (change.type === \"moveIndex\") {\r\n                    _this._handleBullets(_this.dataItems);\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown IListEvent type\");\r\n                }\r\n            }));\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.bulletsContainer.dispose(); // can be in a different parent\r\n            _super.prototype._dispose.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"startIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var len = this.dataItems.length;\r\n            return Math.min(this.getPrivate(\"startIndex\", 0), len);\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"endIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var len = this.dataItems.length;\r\n            return Math.min(this.getPrivate(\"endIndex\", len), len);\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_handleBullets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItems) {\r\n            $array.each(dataItems, function (dataItem) {\r\n                var bullets = dataItem.bullets;\r\n                if (bullets) {\r\n                    $array.each(bullets, function (bullet) {\r\n                        bullet.dispose();\r\n                    });\r\n                    dataItem.bullets = undefined;\r\n                }\r\n            });\r\n            this.markDirtyValues();\r\n        }\r\n    });\r\n    /**\r\n     * Looks up and returns a data item by its ID.\r\n     *\r\n     * @param   id  ID\r\n     * @return      Data item\r\n     */\r\n    Object.defineProperty(Series.prototype, \"getDataItemById\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (id) {\r\n            return $array.find(this.dataItems, function (dataItem) {\r\n                return dataItem.get(\"id\") == id;\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_makeBullets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var _this = this;\r\n            if (this._shouldMakeBullet(dataItem)) {\r\n                dataItem.bullets = [];\r\n                this.bullets.each(function (bulletFunction) {\r\n                    _this._makeBullet(dataItem, bulletFunction);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_shouldMakeBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) {\r\n            return true;\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_makeBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, bulletFunction, index) {\r\n            var bullet = bulletFunction(this._root, this, dataItem);\r\n            if (bullet) {\r\n                var sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite._setDataItem(dataItem);\r\n                    sprite.setRaw(\"position\", \"absolute\");\r\n                    this.bulletsContainer.children.push(sprite);\r\n                }\r\n                bullet._index = index;\r\n                bullet.series = this;\r\n                dataItem.bullets.push(bullet);\r\n            }\r\n            return bullet;\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._clearDirty.call(this);\r\n            this._aggregatesCalculated = false;\r\n            this._selectionAggregatesCalculated = false;\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._prepareChildren.call(this);\r\n            var startIndex = this.startIndex();\r\n            var endIndex = this.endIndex();\r\n            if (this.isPrivateDirty(\"baseValueSeries\")) {\r\n                var baseValueSeries = this.getPrivate(\"baseValueSeries\");\r\n                if (baseValueSeries) {\r\n                    this._disposers.push(baseValueSeries.onPrivate(\"startIndex\", function () {\r\n                        _this.markDirtyValues();\r\n                    }));\r\n                }\r\n            }\r\n            var calculateAggregates = this.get(\"calculateAggregates\");\r\n            if (calculateAggregates) {\r\n                if (this._valuesDirty && !this._dataProcessed) {\r\n                    if (!this._aggregatesCalculated) {\r\n                        this._calculateAggregates(0, this.dataItems.length);\r\n                        this._aggregatesCalculated = true;\r\n                    }\r\n                }\r\n                if ((this._psi != startIndex || this._pei != endIndex) && !this._selectionAggregatesCalculated) {\r\n                    if (startIndex === 0 && endIndex === this.dataItems.length && this._aggregatesCalculated) {\r\n                        // void\r\n                    }\r\n                    else {\r\n                        this._calculateAggregates(startIndex, endIndex);\r\n                    }\r\n                    this._selectionAggregatesCalculated = true;\r\n                }\r\n            }\r\n            if (this.isDirty(\"tooltip\")) {\r\n                var tooltip = this.get(\"tooltip\");\r\n                if (tooltip) {\r\n                    tooltip.hide(0);\r\n                    tooltip.set(\"tooltipTarget\", this);\r\n                }\r\n            }\r\n            if (this.isDirty(\"fill\") || this.isDirty(\"stroke\")) {\r\n                var markerRectangle = void 0;\r\n                var legendDataItem = this.get(\"legendDataItem\");\r\n                if (legendDataItem) {\r\n                    markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                    if (markerRectangle) {\r\n                        if (this.isVisible()) {\r\n                            if (this.isDirty(\"stroke\")) {\r\n                                var stroke = this.get(\"stroke\");\r\n                                markerRectangle.set(\"stroke\", stroke);\r\n                            }\r\n                            if (this.isDirty(\"fill\")) {\r\n                                var fill = this.get(\"fill\");\r\n                                markerRectangle.set(\"fill\", fill);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.updateLegendMarker(undefined);\r\n            }\r\n            if (this.bullets.length > 0) {\r\n                var startIndex_1 = this.startIndex();\r\n                var endIndex_1 = this.endIndex();\r\n                if (endIndex_1 < this.dataItems.length) {\r\n                    endIndex_1++;\r\n                }\r\n                for (var i = startIndex_1; i < endIndex_1; i++) {\r\n                    var dataItem = this.dataItems[i];\r\n                    if (!dataItem.bullets) {\r\n                        this._makeBullets(dataItem);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_calculateAggregates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (startIndex, endIndex) {\r\n            var _this = this;\r\n            var fields = this._valueFields;\r\n            if (!fields) {\r\n                throw new Error(\"No value fields are set for the series.\");\r\n            }\r\n            var sum = {};\r\n            var absSum = {};\r\n            var count = {};\r\n            var low = {};\r\n            var high = {};\r\n            var open = {};\r\n            var close = {};\r\n            var average = {};\r\n            var previous = {};\r\n            $array.each(fields, function (key) {\r\n                sum[key] = 0;\r\n                absSum[key] = 0;\r\n                count[key] = 0;\r\n            });\r\n            $array.each(fields, function (key) {\r\n                var change = key + \"Change\";\r\n                var changePercent = key + \"ChangePercent\";\r\n                var changePrevious = key + \"ChangePrevious\";\r\n                var changePreviousPercent = key + \"ChangePreviousPercent\";\r\n                var changeSelection = key + \"ChangeSelection\";\r\n                var changeSelectionPercent = key + \"ChangeSelectionPercent\";\r\n                var openKey = \"valueY\";\r\n                if (key == \"valueX\" || key == \"openValueX\" || key == \"lowValueX\" || key == \"highValueX\") {\r\n                    openKey = \"valueX\";\r\n                }\r\n                var baseValueSeries = _this.getPrivate(\"baseValueSeries\");\r\n                for (var i = startIndex; i < endIndex; i++) {\r\n                    var dataItem = _this.dataItems[i];\r\n                    var value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        count[key]++;\r\n                        sum[key] += value;\r\n                        absSum[key] += Math.abs(value);\r\n                        average[key] = sum[key] / count[key];\r\n                        if (low[key] > value || low[key] == null) {\r\n                            low[key] = value;\r\n                        }\r\n                        if (high[key] < value || high[key] == null) {\r\n                            high[key] = value;\r\n                        }\r\n                        close[key] = value;\r\n                        if (open[key] == null) {\r\n                            open[key] = value;\r\n                            previous[key] = value;\r\n                            if (baseValueSeries) {\r\n                                open[openKey] = baseValueSeries._getBase(openKey);\r\n                            }\r\n                        }\r\n                        if (startIndex === 0) {\r\n                            dataItem.setRaw((change), value - open[openKey]);\r\n                            dataItem.setRaw((changePercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        }\r\n                        dataItem.setRaw((changePrevious), value - previous[openKey]);\r\n                        dataItem.setRaw((changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\r\n                        dataItem.setRaw((changeSelection), value - open[openKey]);\r\n                        dataItem.setRaw((changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        previous[key] = value;\r\n                    }\r\n                }\r\n            });\r\n            $array.each(fields, function (key) {\r\n                _this.setPrivate((key + \"AverageSelection\"), average[key]);\r\n                _this.setPrivate((key + \"CountSelection\"), count[key]);\r\n                _this.setPrivate((key + \"SumSelection\"), sum[key]);\r\n                _this.setPrivate((key + \"AbsoluteSumSelection\"), absSum[key]);\r\n                _this.setPrivate((key + \"LowSelection\"), low[key]);\r\n                _this.setPrivate((key + \"HighSelection\"), high[key]);\r\n                _this.setPrivate((key + \"OpenSelection\"), open[key]);\r\n                _this.setPrivate((key + \"CloseSelection\"), close[key]);\r\n            });\r\n            if (startIndex === 0 && endIndex === this.dataItems.length) {\r\n                $array.each(fields, function (key) {\r\n                    _this.setPrivate((key + \"Average\"), average[key]);\r\n                    _this.setPrivate((key + \"Count\"), count[key]);\r\n                    _this.setPrivate((key + \"Sum\"), sum[key]);\r\n                    _this.setPrivate((key + \"AbsoluteSum\"), absSum[key]);\r\n                    _this.setPrivate((key + \"Low\"), low[key]);\r\n                    _this.setPrivate((key + \"High\"), high[key]);\r\n                    _this.setPrivate((key + \"Open\"), open[key]);\r\n                    _this.setPrivate((key + \"Close\"), close[key]);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._updateChildren.call(this);\r\n            this._psi = this.startIndex();\r\n            this._pei = this.endIndex();\r\n            if (this.isDirty(\"visible\")) {\r\n                this.bulletsContainer.set(\"visible\", this.get(\"visible\"));\r\n            }\r\n            // Apply heat rules\r\n            if (this._valuesDirty && this.get(\"heatRules\") != null) {\r\n                var rules = this.get(\"heatRules\", []);\r\n                $array.each(rules, function (rule) {\r\n                    var minValue = rule.minValue || _this.getPrivate((rule.dataField + \"Low\")) || 0;\r\n                    var maxValue = rule.maxValue || _this.getPrivate((rule.dataField + \"High\")) || 0;\r\n                    $array.each(rule.target._entities, function (target) {\r\n                        var value = target.dataItem.get(rule.dataField);\r\n                        if (!$type.isNumber(value)) {\r\n                            return;\r\n                        }\r\n                        var percent;\r\n                        if (rule.logarithmic) {\r\n                            percent = (Math.log(value) * Math.LOG10E - Math.log(minValue) * Math.LOG10E) / ((Math.log(maxValue) * Math.LOG10E - Math.log(minValue) * Math.LOG10E));\r\n                        }\r\n                        else {\r\n                            percent = (value - minValue) / (maxValue - minValue);\r\n                        }\r\n                        if ($type.isNumber(value) && (!$type.isNumber(percent) || Math.abs(percent) == Infinity)) {\r\n                            percent = 0.5;\r\n                        }\r\n                        // fixes problems if all values are the same\r\n                        var propertyValue;\r\n                        if ($type.isNumber(rule.min)) {\r\n                            propertyValue = rule.min + (rule.max - rule.min) * percent;\r\n                        }\r\n                        else if (rule.min instanceof Color) {\r\n                            propertyValue = Color.interpolate(percent, rule.min, rule.max);\r\n                        }\r\n                        else if (rule.min instanceof Percent) {\r\n                            propertyValue = percentInterpolate(percent, rule.min, rule.max);\r\n                        }\r\n                        if (rule.customFunction) {\r\n                            rule.customFunction.call(_this, target, minValue, maxValue, value);\r\n                        }\r\n                        else {\r\n                            target.set(rule.key, propertyValue);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            if (this.bullets.length > 0) {\r\n                var count = this.dataItems.length;\r\n                var startIndex = this.startIndex();\r\n                var endIndex = this.endIndex();\r\n                if (endIndex < count) {\r\n                    endIndex++;\r\n                }\r\n                if (startIndex > 0) {\r\n                    startIndex--;\r\n                }\r\n                for (var i = 0; i < startIndex; i++) {\r\n                    this._hideBullets(this.dataItems[i]);\r\n                }\r\n                for (var i = startIndex; i < endIndex; i++) {\r\n                    this._positionBullets(this.dataItems[i]);\r\n                }\r\n                for (var i = endIndex; i < count; i++) {\r\n                    this._hideBullets(this.dataItems[i]);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_positionBullets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var _this = this;\r\n            if (dataItem.bullets) {\r\n                $array.each(dataItem.bullets, function (bullet) {\r\n                    _this._positionBullet(bullet);\r\n                    var sprite = bullet.get(\"sprite\");\r\n                    if (bullet.get(\"dynamic\")) {\r\n                        if (sprite) {\r\n                            sprite._markDirtyKey(\"fill\");\r\n                            sprite.markDirtySize();\r\n                        }\r\n                        if (sprite instanceof Container) {\r\n                            sprite.walkChildren(function (child) {\r\n                                child._markDirtyKey(\"fill\");\r\n                                child.markDirtySize();\r\n                                if (child instanceof Label) {\r\n                                    child.text.markDirtyText();\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    if (sprite instanceof Label && sprite.get(\"populateText\")) {\r\n                        sprite.text.markDirtyText();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_hideBullets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            if (dataItem.bullets) {\r\n                $array.each(dataItem.bullets, function (bullet) {\r\n                    var sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        sprite.setPrivate(\"visible\", false);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_positionBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_bullet) {\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_placeBulletsContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (chart) {\r\n            chart.bulletsContainer.children.moveValue(this.bulletsContainer);\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_removeBulletsContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var bulletsContainer = this.bulletsContainer;\r\n            if (bulletsContainer.parent) {\r\n                bulletsContainer.parent.children.removeValue(bulletsContainer);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Series.prototype, \"disposeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            //super.disposeDataItem(dataItem); // does nothing\r\n            var bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, function (bullet) {\r\n                    bullet.dispose();\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_getItemReaderLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return \"\";\r\n        }\r\n    });\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(Series.prototype, \"showDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises, bullets;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [_super.prototype.showDataItem.call(this, dataItem, duration)];\r\n                            bullets = dataItem.bullets;\r\n                            if (bullets) {\r\n                                $array.each(bullets, function (bullet) {\r\n                                    promises.push(bullet.get(\"sprite\").show(duration));\r\n                                });\r\n                            }\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(Series.prototype, \"hideDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises, bullets;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [_super.prototype.hideDataItem.call(this, dataItem, duration)];\r\n                            bullets = dataItem.bullets;\r\n                            if (bullets) {\r\n                                $array.each(bullets, function (bullet) {\r\n                                    promises.push(bullet.get(\"sprite\").hide(duration));\r\n                                });\r\n                            }\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_sequencedShowHide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (show, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var startIndex_2, endIndex_2;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!this.get(\"sequencedInterpolation\")) return [3 /*break*/, 4];\r\n                            if (!$type.isNumber(duration)) {\r\n                                duration = this.get(\"interpolationDuration\", 0);\r\n                            }\r\n                            if (!(duration > 0)) return [3 /*break*/, 2];\r\n                            startIndex_2 = this.startIndex();\r\n                            endIndex_2 = this.endIndex();\r\n                            return [4 /*yield*/, Promise.all($array.map(this.dataItems, function (dataItem, i) { return __awaiter(_this, void 0, void 0, function () {\r\n                                    var realDuration, delay;\r\n                                    return __generator(this, function (_a) {\r\n                                        switch (_a.label) {\r\n                                            case 0:\r\n                                                realDuration = duration || 0;\r\n                                                if (i < startIndex_2 - 10 || i > endIndex_2 + 10) {\r\n                                                    realDuration = 0;\r\n                                                }\r\n                                                delay = this.get(\"sequencedDelay\", 0) + realDuration / (endIndex_2 - startIndex_2);\r\n                                                return [4 /*yield*/, $time.sleep(delay * (i - startIndex_2))];\r\n                                            case 1:\r\n                                                _a.sent();\r\n                                                if (!show) return [3 /*break*/, 3];\r\n                                                return [4 /*yield*/, this.showDataItem(dataItem, realDuration)];\r\n                                            case 2:\r\n                                                _a.sent();\r\n                                                return [3 /*break*/, 5];\r\n                                            case 3: return [4 /*yield*/, this.hideDataItem(dataItem, realDuration)];\r\n                                            case 4:\r\n                                                _a.sent();\r\n                                                _a.label = 5;\r\n                                            case 5: return [2 /*return*/];\r\n                                        }\r\n                                    });\r\n                                }); }))];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [3 /*break*/, 4];\r\n                        case 2: return [4 /*yield*/, Promise.all($array.map(this.dataItems, function (dataItem) {\r\n                                if (show) {\r\n                                    return _this.showDataItem(dataItem, 0);\r\n                                }\r\n                                else {\r\n                                    return _this.hideDataItem(dataItem, 0);\r\n                                }\r\n                            }))];\r\n                        case 3:\r\n                            _a.sent();\r\n                            _a.label = 4;\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Series.prototype, \"updateLegendValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var legendDataItem = dataItem.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                var valueLabel = legendDataItem.get(\"valueLabel\");\r\n                if (valueLabel) {\r\n                    var text = valueLabel.text;\r\n                    var txt = \"\";\r\n                    valueLabel._setDataItem(dataItem);\r\n                    txt = this.get(\"legendValueText\", text.get(\"text\", \"\"));\r\n                    valueLabel.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n                var label = legendDataItem.get(\"label\");\r\n                if (label) {\r\n                    var text = label.text;\r\n                    var txt = \"\";\r\n                    label._setDataItem(dataItem);\r\n                    txt = this.get(\"legendLabelText\", text.get(\"text\", \"\"));\r\n                    label.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Series.prototype, \"updateLegendMarker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) {\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_onHide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._onHide.call(this);\r\n            var tooltip = this.getTooltip();\r\n            if (tooltip) {\r\n                tooltip.hide();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Series.prototype, \"hoverDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) { }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Series.prototype, \"unhoverDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) { }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Series.prototype, \"_getBase\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var dataItem = this.dataItems[this.startIndex()];\r\n            if (dataItem) {\r\n                return dataItem.get(key);\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    Object.defineProperty(Series, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Series\"\r\n    });\r\n    Object.defineProperty(Series, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Component.classNames.concat([Series.className])\r\n    });\r\n    return Series;\r\n}(Component));\r\nexport { Series };\r\n//# sourceMappingURL=Series.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { DataItem } from \"../../../core/render/Component\";\r\nimport { Series } from \"../../../core/render/Series\";\r\nimport { List } from \"../../../core/util/List\";\r\nimport { Container } from \"../../../core/render/Container\";\r\nimport { Graphics } from \"../../../core/render/Graphics\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $object from \"../../../core/util/Object\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * @ignore\r\n */\r\nfunction min(left, right) {\r\n    if (left == null) {\r\n        return right;\r\n    }\r\n    else if (right == null) {\r\n        return left;\r\n    }\r\n    else if (right < left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction max(left, right) {\r\n    if (left == null) {\r\n        return right;\r\n    }\r\n    else if (right == null) {\r\n        return left;\r\n    }\r\n    else if (right > left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * A base class for all XY chart series.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/} for more info\r\n */\r\nvar XYSeries = /** @class */ (function (_super) {\r\n    __extends(XYSeries, _super);\r\n    function XYSeries() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_xField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_yField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_xOpenField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_yOpenField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_xLowField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_xHighField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_yLowField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_yHighField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_axesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_stackDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_selectionProcessed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_dataSets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_mainContainerMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        /**\r\n         * A [[Container]] that us used to put series' elements in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"mainContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, {}))\r\n        });\r\n        /**\r\n         * A list of axis ranges that affect the series.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n         */\r\n        Object.defineProperty(_this, \"axisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        Object.defineProperty(_this, \"_skipped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_couldStackTo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_reallyStackedTo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_stackedSeries\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_aLocationX0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_aLocationX1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_aLocationY0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_aLocationY1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_showBullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"valueXFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"valueX\",\r\n                \"openValueX\",\r\n                \"lowValueX\",\r\n                \"highValueX\"\r\n            ]\r\n        });\r\n        Object.defineProperty(_this, \"valueYFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"valueY\",\r\n                \"openValueY\",\r\n                \"lowValueY\",\r\n                \"highValueY\"\r\n            ]\r\n        });\r\n        Object.defineProperty(_this, \"_valueXFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_valueYFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // used for full min/max\r\n        Object.defineProperty(_this, \"_valueXShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_valueYShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // used for selection (uses working)\r\n        Object.defineProperty(_this, \"__valueXShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"__valueYShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_emptyDataItem\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new DataItem(_this, undefined, {})\r\n        });\r\n        Object.defineProperty(_this, \"_dataSetId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipFieldX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipFieldY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(XYSeries.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this.fields.push(\"categoryX\", \"categoryY\", \"openCategoryX\", \"openCategoryY\");\r\n            this.valueFields.push(\"valueX\", \"valueY\", \"openValueX\", \"openValueY\", \"lowValueX\", \"lowValueY\", \"highValueX\", \"highValueY\");\r\n            this._setRawDefault(\"vcx\", 1);\r\n            this._setRawDefault(\"vcy\", 1);\r\n            // this can't go to themes, as data might be parsed before theme\r\n            this._setRawDefault(\"valueXShow\", \"valueXWorking\");\r\n            this._setRawDefault(\"valueYShow\", \"valueYWorking\");\r\n            this._setRawDefault(\"openValueXShow\", \"openValueXWorking\");\r\n            this._setRawDefault(\"openValueYShow\", \"openValueYWorking\");\r\n            this._setRawDefault(\"lowValueXShow\", \"lowValueXWorking\");\r\n            this._setRawDefault(\"lowValueYShow\", \"lowValueYWorking\");\r\n            this._setRawDefault(\"highValueXShow\", \"highValueXWorking\");\r\n            this._setRawDefault(\"highValueYShow\", \"highValueYWorking\");\r\n            this._setRawDefault(\"lowValueXGrouped\", \"low\");\r\n            this._setRawDefault(\"lowValueYGrouped\", \"low\");\r\n            this._setRawDefault(\"highValueXGrouped\", \"high\");\r\n            this._setRawDefault(\"highValueYGrouped\", \"high\");\r\n            _super.prototype._afterNew.call(this);\r\n            this._settings.xAxis.series.push(this);\r\n            this._settings.yAxis.series.push(this);\r\n            this.set(\"maskContent\", true);\r\n            this._disposers.push(this.axisRanges.events.onAll(function (change) {\r\n                if (change.type === \"clear\") {\r\n                    $array.each(change.oldValues, function (axisRange) {\r\n                        _this._removeAxisRange(axisRange);\r\n                    });\r\n                }\r\n                else if (change.type === \"push\") {\r\n                    _this._processAxisRange(change.newValue);\r\n                }\r\n                else if (change.type === \"setIndex\") {\r\n                    _this._processAxisRange(change.newValue);\r\n                }\r\n                else if (change.type === \"insertIndex\") {\r\n                    _this._processAxisRange(change.newValue);\r\n                }\r\n                else if (change.type === \"removeIndex\") {\r\n                    _this._removeAxisRange(change.oldValue);\r\n                }\r\n                else if (change.type === \"moveIndex\") {\r\n                    _this._processAxisRange(change.value);\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown IStreamEvent type\");\r\n                }\r\n            }));\r\n            if (!this.get(\"baseAxis\")) {\r\n                var xAxis = this.get(\"xAxis\");\r\n                var yAxis = this.get(\"yAxis\");\r\n                if (yAxis.isType(\"CategoryAxis\") || yAxis.isType(\"DateAxis\")) {\r\n                    this.set(\"baseAxis\", yAxis);\r\n                }\r\n                else {\r\n                    this.set(\"baseAxis\", xAxis);\r\n                }\r\n            }\r\n            this.states.create(\"hidden\", { opacity: 1, visible: false });\r\n            this._makeFieldNames();\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_processAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axisRange) {\r\n            var container = Container.new(this._root, {});\r\n            axisRange.container = container;\r\n            this.children.push(container);\r\n            axisRange.series = this;\r\n            var axisDataItem = axisRange.axisDataItem;\r\n            axisDataItem.setRaw(\"isRange\", true);\r\n            var axis = axisDataItem.component;\r\n            if (axis) {\r\n                axis._processAxisRange(axisDataItem, [\"range\", \"series\"]);\r\n                var bullet = axisDataItem.get(\"bullet\");\r\n                if (bullet) {\r\n                    var sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        sprite.setPrivate(\"visible\", false);\r\n                    }\r\n                }\r\n                var axisFill = axisDataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    container.set(\"mask\", axisFill);\r\n                }\r\n                axis._seriesAxisRanges.push(axisDataItem);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_removeAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axisRange) {\r\n            var axisDataItem = axisRange.axisDataItem;\r\n            var axis = axisDataItem.component;\r\n            axis.disposeDataItem(axisDataItem);\r\n            $array.remove(axis._seriesAxisRanges, axisDataItem);\r\n            var container = axisRange.container;\r\n            if (container) {\r\n                container.dispose();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_updateFields\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._updateFields.call(this);\r\n            this._valueXFields = [];\r\n            this._valueYFields = [];\r\n            this._valueXShowFields = [];\r\n            this._valueYShowFields = [];\r\n            this.__valueXShowFields = [];\r\n            this.__valueYShowFields = [];\r\n            if (this.valueXFields) {\r\n                $array.each(this.valueXFields, function (key) {\r\n                    var field = _this.get((key + \"Field\"));\r\n                    if (field) {\r\n                        _this._valueXFields.push(key);\r\n                        var field_1 = _this.get((key + \"Show\"));\r\n                        _this.__valueXShowFields.push(field_1);\r\n                        if (field_1.indexOf(\"Working\") != -1) {\r\n                            _this._valueXShowFields.push(field_1.split(\"Working\")[0]);\r\n                        }\r\n                        else {\r\n                            _this._valueYShowFields.push(field_1);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if (this.valueYFields) {\r\n                $array.each(this.valueYFields, function (key) {\r\n                    var field = _this.get((key + \"Field\"));\r\n                    if (field) {\r\n                        _this._valueYFields.push(key);\r\n                        var field_2 = _this.get((key + \"Show\"));\r\n                        _this.__valueYShowFields.push(field_2);\r\n                        if (field_2.indexOf(\"Working\") != -1) {\r\n                            _this._valueYShowFields.push(field_2.split(\"Working\")[0]);\r\n                        }\r\n                        else {\r\n                            _this._valueYShowFields.push(field_2);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._dispose.call(this);\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                chart.series.removeValue(this);\r\n            }\r\n            $array.removeFirst(this.get(\"xAxis\").series, this);\r\n            $array.removeFirst(this.get(\"yAxis\").series, this);\r\n        }\r\n    });\r\n    // TODO use  SelectKeys<this[\"_privateSettings\"], number | undefined>\r\n    Object.defineProperty(XYSeries.prototype, \"_min\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var newValue = min(this.getPrivate(key), value);\r\n            this.setPrivate(key, newValue);\r\n        }\r\n    });\r\n    // TODO use  SelectKeys<this[\"_privateSettings\"], number | undefined>\r\n    Object.defineProperty(XYSeries.prototype, \"_max\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var newValue = max(this.getPrivate(key), value);\r\n            this.setPrivate(key, newValue);\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_shouldMakeBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            if (!this.get(\"xAxis\").inited || !this.get(\"yAxis\").inited) {\r\n                return false;\r\n            }\r\n            if (dataItem.get(this._xField) != null && dataItem.get(this._yField) != null) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_makeFieldNames\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var xName = xAxis.getPrivate(\"name\");\r\n            var xCapName = $utils.capitalizeFirst(xName);\r\n            var yName = yAxis.getPrivate(\"name\");\r\n            var yCapName = $utils.capitalizeFirst(yName);\r\n            var xLetter = xAxis.get(\"renderer\").getPrivate(\"letter\");\r\n            var yLetter = yAxis.get(\"renderer\").getPrivate(\"letter\");\r\n            var open = \"open\";\r\n            var low = \"low\";\r\n            var high = \"high\";\r\n            var show = \"Show\";\r\n            if (xAxis.className === \"ValueAxis\") {\r\n                this._xField = this.get((xName + xLetter + show));\r\n                this._xOpenField = this.get((open + xCapName + xLetter + show));\r\n                this._xLowField = this.get((low + xCapName + xLetter + show));\r\n                this._xHighField = this.get((high + xCapName + xLetter + show));\r\n            }\r\n            else {\r\n                this._xField = (xName + xLetter);\r\n                this._xOpenField = (open + xCapName + xLetter);\r\n                this._xLowField = (low + xCapName + xLetter);\r\n                this._xHighField = (high + xCapName + xLetter);\r\n            }\r\n            if (yAxis.className === \"ValueAxis\") {\r\n                this._yField = this.get((yName + yLetter + show));\r\n                this._yOpenField = this.get((open + yCapName + yLetter + show));\r\n                this._yLowField = this.get((low + yCapName + yLetter + show));\r\n                this._yHighField = this.get((high + yCapName + yLetter + show));\r\n            }\r\n            else {\r\n                this._yField = (yName + yLetter);\r\n                this._yOpenField = (open + yCapName + yLetter);\r\n                this._yLowField = (low + yCapName + yLetter);\r\n                this._yHighField = (high + yCapName + yLetter);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_fixVC\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var baseAxis = this.get(\"baseAxis\");\r\n            var hiddenState = this.states.lookup(\"hidden\");\r\n            var sequencedInterpolation = this.get(\"sequencedInterpolation\");\r\n            if (hiddenState) {\r\n                var value = 0;\r\n                if (sequencedInterpolation) {\r\n                    value = 0.999999999999; // makes animate, good for stacked\r\n                }\r\n                if (xAxis === baseAxis) {\r\n                    hiddenState.set(\"vcy\", value);\r\n                }\r\n                else if (yAxis === baseAxis) {\r\n                    hiddenState.set(\"vcx\", value);\r\n                }\r\n                else {\r\n                    hiddenState.set(\"vcy\", value);\r\n                    hiddenState.set(\"vcx\", value);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_handleMaskBullets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.isDirty(\"maskBullets\")) {\r\n                this.bulletsContainer.set(\"maskContent\", this.get(\"maskBullets\"));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._prepareChildren.call(this);\r\n            if (this.isDirty(\"valueYShow\") || this.isDirty(\"valueXShow\" || this.isDirty(\"openValueYShow\") || this.isDirty(\"openValueXShow\") || this.isDirty(\"lowValueYShow\") || this.isDirty(\"lowValueXShow\") || this.isDirty(\"highValueYShow\") || this.isDirty(\"highValueXShow\"))) {\r\n                this._updateFields();\r\n                this._makeFieldNames();\r\n                this._valuesDirty = true;\r\n            }\r\n            this.set(\"width\", this.get(\"xAxis\").width());\r\n            this.set(\"height\", this.get(\"yAxis\").height());\r\n            this._handleMaskBullets();\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var baseAxis = this.get(\"baseAxis\");\r\n            var tooltipPositionX = this.get(\"tooltipPositionX\");\r\n            var tooltipFieldX;\r\n            switch (tooltipPositionX) {\r\n                case \"open\":\r\n                    tooltipFieldX = this._xOpenField;\r\n                    break;\r\n                case \"low\":\r\n                    tooltipFieldX = this._xLowField;\r\n                    break;\r\n                case \"high\":\r\n                    tooltipFieldX = this._xHighField;\r\n                    break;\r\n                default:\r\n                    tooltipFieldX = this._xField;\r\n            }\r\n            this._tooltipFieldX = tooltipFieldX;\r\n            var tooltipPositionY = this.get(\"tooltipPositionY\");\r\n            var tooltipFieldY;\r\n            switch (tooltipPositionY) {\r\n                case \"open\":\r\n                    tooltipFieldY = this._yOpenField;\r\n                    break;\r\n                case \"low\":\r\n                    tooltipFieldY = this._yLowField;\r\n                    break;\r\n                case \"high\":\r\n                    tooltipFieldY = this._yHighField;\r\n                    break;\r\n                default:\r\n                    tooltipFieldY = this._yField;\r\n            }\r\n            this._tooltipFieldY = tooltipFieldY;\r\n            if (this.isDirty(\"baseAxis\")) {\r\n                this._fixVC();\r\n            }\r\n            this.set(\"x\", xAxis.x() - $utils.relativeToValue(xAxis.get(\"centerX\", 0), xAxis.width()) - xAxis.parent.get(\"paddingLeft\", 0));\r\n            this.set(\"y\", yAxis.y() - $utils.relativeToValue(yAxis.get(\"centerY\", 0), yAxis.height()) - yAxis.parent.get(\"paddingTop\", 0));\r\n            this.bulletsContainer.set(\"y\", this.y());\r\n            this.bulletsContainer.set(\"x\", this.x());\r\n            var stacked = this.get(\"stacked\");\r\n            if (this.isDirty(\"stacked\")) {\r\n                if (stacked) {\r\n                    if (this._valuesDirty && !this._dataProcessed) {\r\n                    }\r\n                    else {\r\n                        this._stack();\r\n                    }\r\n                }\r\n                else {\r\n                    this._unstack();\r\n                }\r\n            }\r\n            if (this._valuesDirty && !this._dataProcessed) {\r\n                this._dataProcessed = true;\r\n                if (stacked) {\r\n                    this._stack();\r\n                }\r\n                $array.each(this.dataItems, function (dataItem) {\r\n                    $array.each(_this._valueXShowFields, function (key) {\r\n                        var value = dataItem.get(key);\r\n                        if (value != null) {\r\n                            if (stacked) {\r\n                                value += _this.getStackedXValue(dataItem, key);\r\n                            }\r\n                            _this._min(\"minX\", value);\r\n                            _this._max(\"maxX\", value);\r\n                        }\r\n                    });\r\n                    $array.each(_this._valueYShowFields, function (key) {\r\n                        var value = dataItem.get(key);\r\n                        if (value != null) {\r\n                            if (stacked) {\r\n                                value += _this.getStackedYValue(dataItem, key);\r\n                            }\r\n                            _this._min(\"minY\", value);\r\n                            _this._max(\"maxY\", value);\r\n                        }\r\n                    });\r\n                    xAxis.processSeriesDataItem(dataItem, _this._valueXFields);\r\n                    yAxis.processSeriesDataItem(dataItem, _this._valueYFields);\r\n                });\r\n                xAxis._seriesValuesDirty = true;\r\n                yAxis._seriesValuesDirty = true;\r\n                if (!this.get(\"ignoreMinMax\")) {\r\n                    if (this.isPrivateDirty(\"minX\") || this.isPrivateDirty(\"maxX\")) {\r\n                        xAxis.markDirtyExtremes();\r\n                    }\r\n                    if (this.isPrivateDirty(\"minY\") || this.isPrivateDirty(\"maxY\")) {\r\n                        yAxis.markDirtyExtremes();\r\n                    }\r\n                }\r\n                this._markStakedDirtyStack();\r\n                //this.updateLegendMarker(undefined); // causes legend marker to change color instantly when on\r\n                this.updateLegendValue(undefined);\r\n            }\r\n            if (this.isDirty(\"vcx\") || this.isDirty(\"vcy\")) {\r\n                this._markStakedDirtyStack();\r\n            }\r\n            if (!this._dataGrouped) {\r\n                xAxis._groupSeriesData(this);\r\n                yAxis._groupSeriesData(this);\r\n                this._dataGrouped = true;\r\n            }\r\n            if (this._valuesDirty || this.isPrivateDirty(\"startIndex\") || this.isPrivateDirty(\"endIndex\") || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._stackDirty) {\r\n                var startIndex = this.startIndex();\r\n                var endIndex = this.endIndex();\r\n                var minBulletDistance = this.get(\"minBulletDistance\", 0);\r\n                if (minBulletDistance > 0 && baseAxis) {\r\n                    if (baseAxis.get(\"renderer\").axisLength() / (endIndex - startIndex) > minBulletDistance) {\r\n                        this._showBullets = true;\r\n                    }\r\n                    else {\r\n                        this._showBullets = false;\r\n                    }\r\n                }\r\n                if ((this._psi != startIndex || this._pei != endIndex || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._stackDirty || this._valuesDirty) && !this._selectionProcessed) {\r\n                    this._selectionProcessed = true;\r\n                    var vcx = this.get(\"vcx\", 1);\r\n                    var vcy = this.get(\"vcy\", 1);\r\n                    var stacked_1 = this.get(\"stacked\", false);\r\n                    var outOfSelection = this.getPrivate(\"outOfSelection\");\r\n                    if (baseAxis === xAxis) {\r\n                        yAxis._calculateTotals();\r\n                        this.setPrivateRaw(\"selectionMinY\", undefined);\r\n                        this.setPrivateRaw(\"selectionMaxY\", undefined);\r\n                        if (!outOfSelection) {\r\n                            for (var i = startIndex; i < endIndex; i++) {\r\n                                this.processYSelectionDataItem(this.dataItems[i], vcy, stacked_1);\r\n                            }\r\n                        }\r\n                        else {\r\n                            yAxis.markDirtySelectionExtremes();\r\n                        }\r\n                    }\r\n                    else if (baseAxis === yAxis) {\r\n                        xAxis._calculateTotals();\r\n                        this.setPrivateRaw(\"selectionMinX\", undefined);\r\n                        this.setPrivateRaw(\"selectionMaxX\", undefined);\r\n                        if (!outOfSelection) {\r\n                            for (var i = startIndex; i < endIndex; i++) {\r\n                                this.processXSelectionDataItem(this.dataItems[i], vcx, stacked_1);\r\n                            }\r\n                        }\r\n                        else {\r\n                            yAxis.markDirtySelectionExtremes();\r\n                        }\r\n                    }\r\n                    if (baseAxis === xAxis) {\r\n                        if (this.get(\"valueYShow\") !== \"valueYWorking\") {\r\n                            var selectionMinY = this.getPrivate(\"selectionMinY\");\r\n                            if (selectionMinY != null) {\r\n                                this.setPrivateRaw(\"minY\", selectionMinY);\r\n                                yAxis.markDirtyExtremes();\r\n                            }\r\n                            var selectionMaxY = this.getPrivate(\"selectionMaxY\");\r\n                            if (selectionMaxY != null) {\r\n                                this.setPrivateRaw(\"maxY\", selectionMaxY);\r\n                                yAxis.markDirtyExtremes();\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (baseAxis === yAxis) {\r\n                        if (this.get(\"valueXShow\") !== \"valueXWorking\") {\r\n                            var selectionMinX = this.getPrivate(\"selectionMinX\");\r\n                            if (selectionMinX != null) {\r\n                                this.setPrivateRaw(\"minX\", selectionMinX);\r\n                                yAxis.markDirtyExtremes();\r\n                            }\r\n                            var selectionMaxX = this.getPrivate(\"selectionMaxX\");\r\n                            if (selectionMaxX != null) {\r\n                                this.setPrivateRaw(\"maxX\", selectionMaxX);\r\n                                xAxis.markDirtyExtremes();\r\n                            }\r\n                        }\r\n                    }\r\n                    if (this.isPrivateDirty(\"selectionMinX\") || this.isPrivateDirty(\"selectionMaxX\")) {\r\n                        xAxis.markDirtySelectionExtremes();\r\n                    }\r\n                    if (this.isPrivateDirty(\"selectionMinY\") || this.isPrivateDirty(\"selectionMaxY\")) {\r\n                        yAxis.markDirtySelectionExtremes();\r\n                    }\r\n                    // this.updateLegendValue(undefined); flickers while panning\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_makeRangeMask\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            if (this.axisRanges.length > 0) {\r\n                var mainContainerMask_1 = this._mainContainerMask;\r\n                if (mainContainerMask_1 == null) {\r\n                    mainContainerMask_1 = this.children.push(Graphics.new(this._root, {}));\r\n                    this._mainContainerMask = mainContainerMask_1;\r\n                    mainContainerMask_1.set(\"draw\", function (display, target) {\r\n                        var parent = _this.parent;\r\n                        if (parent) {\r\n                            var w = _this._root.container.width();\r\n                            var h = _this._root.container.height();\r\n                            display.moveTo(-w, -h);\r\n                            display.lineTo(-w, h * 2);\r\n                            display.lineTo(w * 2, h * 2);\r\n                            display.lineTo(w * 2, -h);\r\n                            display.lineTo(-w, -h);\r\n                            _this.axisRanges.each(function (axisRange) {\r\n                                var fill = axisRange.axisDataItem.get(\"axisFill\");\r\n                                if (parent) {\r\n                                    if (fill) {\r\n                                        var draw = fill.get(\"draw\");\r\n                                        if (draw) {\r\n                                            draw(display, target);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                        _this.mainContainer._display.mask = mainContainerMask_1._display;\r\n                    });\r\n                }\r\n                mainContainerMask_1.markDirty();\r\n                mainContainerMask_1._markDirtyKey(\"fill\");\r\n            }\r\n            else {\r\n                this.mainContainer._display.mask = null;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateChildren.call(this);\r\n            // save for performance\r\n            this._x = this.x();\r\n            this._y = this.y();\r\n            this._makeRangeMask();\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_stack\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                var seriesIndex = chart.series.indexOf(this);\r\n                this._couldStackTo = [];\r\n                if (seriesIndex > 0) {\r\n                    var series = void 0;\r\n                    for (var i = seriesIndex - 1; i >= 0; i--) {\r\n                        series = chart.series.getIndex(i);\r\n                        if (series.get(\"xAxis\") === this.get(\"xAxis\") && series.get(\"yAxis\") === this.get(\"yAxis\") && series.className === this.className) {\r\n                            this._couldStackTo.push(series);\r\n                            if (!series.get(\"stacked\")) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this._stackDataItems();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_unstack\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $object.each(this._reallyStackedTo, function (_key, value) {\r\n                delete (value._stackedSeries[_this.uid]);\r\n            });\r\n            this._reallyStackedTo = {};\r\n            $array.each(this.dataItems, function (dataItem) {\r\n                dataItem.setRaw(\"stackToItemY\", undefined);\r\n                dataItem.setRaw(\"stackToItemX\", undefined);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_stackDataItems\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            // this works only with the same number of data @todo: search by date/category?\r\n            var baseAxis = this.get(\"baseAxis\");\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var field;\r\n            var stackToItemKey;\r\n            if (baseAxis === xAxis) {\r\n                field = \"valueY\";\r\n                stackToItemKey = \"stackToItemY\";\r\n            }\r\n            else if (baseAxis === yAxis) {\r\n                field = \"valueX\";\r\n                stackToItemKey = \"stackToItemX\";\r\n            }\r\n            var len = this._couldStackTo.length;\r\n            var index = 0;\r\n            var stackToNegative = this.get(\"stackToNegative\");\r\n            this._reallyStackedTo = {};\r\n            $array.each(this.dataItems, function (dataItem) {\r\n                for (var s = 0; s < len; s++) {\r\n                    var stackToSeries = _this._couldStackTo[s];\r\n                    var stackToItem = stackToSeries.dataItems[index];\r\n                    var value = dataItem.get(field);\r\n                    if (stackToItem) {\r\n                        var stackValue = stackToItem.get(field);\r\n                        if (stackToNegative) {\r\n                            if ($type.isNumber(value)) {\r\n                                if ($type.isNumber(stackValue)) {\r\n                                    if (value >= 0 && stackValue >= 0) {\r\n                                        dataItem.setRaw(stackToItemKey, stackToItem);\r\n                                        _this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                                        stackToSeries._stackedSeries[_this.uid] = _this;\r\n                                        break;\r\n                                    }\r\n                                    if (value < 0 && stackValue < 0) {\r\n                                        dataItem.setRaw(stackToItemKey, stackToItem);\r\n                                        _this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                                        stackToSeries._stackedSeries[_this.uid] = _this;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                break;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if ($type.isNumber(value) && $type.isNumber(stackValue)) {\r\n                                dataItem.setRaw(stackToItemKey, stackToItem);\r\n                                _this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                                stackToSeries._stackedSeries[_this.uid] = _this;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                index++;\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"processXSelectionDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, vcx, stacked) {\r\n            var _this = this;\r\n            $array.each(this.__valueXShowFields, function (key) {\r\n                var value = dataItem.get(key);\r\n                if (value != null) {\r\n                    if (stacked) {\r\n                        value += _this.getStackedXValueWorking(dataItem, key);\r\n                    }\r\n                    _this._min(\"selectionMinX\", value);\r\n                    _this._max(\"selectionMaxX\", value * vcx);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"processYSelectionDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, vcy, stacked) {\r\n            var _this = this;\r\n            $array.each(this.__valueYShowFields, function (key) {\r\n                var value = dataItem.get(key);\r\n                if (value != null) {\r\n                    if (stacked) {\r\n                        value += _this.getStackedYValueWorking(dataItem, key);\r\n                    }\r\n                    _this._min(\"selectionMinY\", value);\r\n                    _this._max(\"selectionMaxY\", value * vcy);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"getStackedYValueWorking\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, key) {\r\n            var stackToItem = dataItem.get(\"stackToItemY\");\r\n            if (stackToItem) {\r\n                var stackedToSeries = stackToItem.component;\r\n                return stackToItem.get(key, 0) * stackedToSeries.get(\"vcy\", 1) + this.getStackedYValueWorking(stackToItem, key);\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"getStackedXValueWorking\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, key) {\r\n            var stackToItem = dataItem.get(\"stackToItemX\");\r\n            if (stackToItem) {\r\n                var stackedToSeries = stackToItem.component;\r\n                return stackToItem.get(key, 0) * stackedToSeries.get(\"vcx\", 1) + this.getStackedXValueWorking(stackToItem, key);\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"getStackedYValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, key) {\r\n            var stackToItem = dataItem.get(\"stackToItemY\");\r\n            if (stackToItem) {\r\n                return stackToItem.get(key, 0) + this.getStackedYValue(stackToItem, key);\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"getStackedXValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, key) {\r\n            var stackToItem = dataItem.get(\"stackToItemX\");\r\n            if (stackToItem) {\r\n                return stackToItem.get(key, 0) + this.getStackedXValue(stackToItem, key);\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"createLegendMarker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) {\r\n            this.updateLegendMarker();\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_markDirtyAxes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._axesDirty = true;\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_markDataSetDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._afterDataChange();\r\n            this._valuesDirty = true;\r\n            this._dataProcessed = false;\r\n            this._aggregatesCalculated = false;\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._clearDirty.call(this);\r\n            this._axesDirty = false;\r\n            this._selectionProcessed = false;\r\n            this._stackDirty = false;\r\n            this._dataProcessed = false;\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_positionBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bullet) {\r\n            var sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                var dataItem = sprite.dataItem;\r\n                var locationX = bullet.get(\"locationX\", dataItem.get(\"locationX\", 0.5));\r\n                var locationY = bullet.get(\"locationY\", dataItem.get(\"locationY\", 0.5));\r\n                var xAxis = this.get(\"xAxis\");\r\n                var yAxis = this.get(\"yAxis\");\r\n                var positionX = xAxis.getDataItemPositionX(dataItem, this._xField, locationX, this.get(\"vcx\", 1));\r\n                var positionY = yAxis.getDataItemPositionY(dataItem, this._yField, locationY, this.get(\"vcy\", 1));\r\n                var point = this.getPoint(positionX, positionY);\r\n                var left = dataItem.get(\"left\", point.x);\r\n                var right = dataItem.get(\"right\", point.x);\r\n                var top_1 = dataItem.get(\"top\", point.y);\r\n                var bottom = dataItem.get(\"bottom\", point.y);\r\n                if (this._shouldShowBullet(positionX, positionY)) {\r\n                    if (!bullet.getPrivate(\"hidden\")) {\r\n                        sprite.setPrivate(\"visible\", true);\r\n                    }\r\n                    else {\r\n                        sprite.setPrivate(\"visible\", false);\r\n                    }\r\n                    var w = right - left;\r\n                    var h = bottom - top_1;\r\n                    if (sprite.isType(\"Label\")) {\r\n                        sprite.setPrivate(\"maxWidth\", Math.abs(w));\r\n                        sprite.setPrivate(\"maxHeight\", Math.abs(h));\r\n                    }\r\n                    var x = left + w * locationX;\r\n                    var y = bottom - h * locationY;\r\n                    sprite.set(\"x\", x);\r\n                    sprite.set(\"y\", y);\r\n                }\r\n                else {\r\n                    sprite.setPrivate(\"visible\", false);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_shouldShowBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_positionX, _positionY) {\r\n            return this._showBullets;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"setDataSet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (id) {\r\n            if (this._dataSets[id]) {\r\n                this._handleDataSetChange();\r\n                this._dataItems = this._dataSets[id];\r\n                this._markDataSetDirty();\r\n                this._dataSetId = id;\r\n                var type = \"datasetchanged\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, { type: type, target: this, id: id });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_handleDataSetChange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.bullets.length > 0) {\r\n                $array.each(this._dataItems, function (dataItem) {\r\n                    var bullets = dataItem.bullets;\r\n                    if (bullets) {\r\n                        $array.each(bullets, function (bullet) {\r\n                            var sprite = bullet.get(\"sprite\");\r\n                            if (sprite) {\r\n                                sprite.setPrivate(\"visible\", false);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            this._selectionProcessed = false; // for totals to be calculated\r\n        }\r\n    });\r\n    /**\r\n     * Shows hidden series.\r\n     *\r\n     * @param   duration  Duration of animation in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"show\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this._fixVC();\r\n                            promises = [];\r\n                            promises.push(_super.prototype.show.call(this, duration).then(function () {\r\n                                _this._isShowing = false;\r\n                                var xAxis = _this.get(\"xAxis\");\r\n                                var yAxis = _this.get(\"yAxis\");\r\n                                var baseAxis = _this.get(\"baseAxis\");\r\n                                if (yAxis !== baseAxis) {\r\n                                    yAxis.markDirtySelectionExtremes();\r\n                                }\r\n                                if (xAxis !== baseAxis) {\r\n                                    xAxis.markDirtySelectionExtremes();\r\n                                }\r\n                            }));\r\n                            promises.push(this.bulletsContainer.show(duration));\r\n                            promises.push(this._sequencedShowHide(true, duration));\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Hides series.\r\n     *\r\n     * @param   duration  Duration of animation in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"hide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this._fixVC();\r\n                            promises = [];\r\n                            promises.push(_super.prototype.hide.call(this, duration).then(function () {\r\n                                _this._isHiding = false;\r\n                            }));\r\n                            promises.push(this.bulletsContainer.hide(duration));\r\n                            promises.push(this._sequencedShowHide(false, duration));\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"showDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises, easing;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [_super.prototype.showDataItem.call(this, dataItem, duration)];\r\n                            if (!$type.isNumber(duration)) {\r\n                                duration = this.get(\"stateAnimationDuration\", 0);\r\n                            }\r\n                            easing = this.get(\"stateAnimationEasing\");\r\n                            $array.each(this._valueFields, function (key) {\r\n                                promises.push(dataItem.animate({ key: key + \"Working\", to: dataItem.get(key), duration: duration, easing: easing }).waitForStop());\r\n                            });\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"hideDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises, hiddenState, easing, xAxis, yAxis, baseAxis, stacked, min_1, baseValue_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [_super.prototype.hideDataItem.call(this, dataItem, duration)];\r\n                            hiddenState = this.states.create(\"hidden\", {});\r\n                            if (!$type.isNumber(duration)) {\r\n                                duration = hiddenState.get(\"stateAnimationDuration\", this.get(\"stateAnimationDuration\", 0));\r\n                            }\r\n                            easing = hiddenState.get(\"stateAnimationEasing\", this.get(\"stateAnimationEasing\"));\r\n                            xAxis = this.get(\"xAxis\");\r\n                            yAxis = this.get(\"yAxis\");\r\n                            baseAxis = this.get(\"baseAxis\");\r\n                            stacked = this.get(\"stacked\");\r\n                            if (baseAxis === xAxis || !baseAxis) {\r\n                                $array.each(this._valueYFields, function (key) {\r\n                                    var min = yAxis.getPrivate(\"min\");\r\n                                    var baseValue = yAxis.baseValue();\r\n                                    if ($type.isNumber(min) && min > baseValue) {\r\n                                        baseValue = min;\r\n                                    }\r\n                                    if (stacked) {\r\n                                        baseValue = 0;\r\n                                    }\r\n                                    promises.push(dataItem.animate({ key: key + \"Working\", to: baseValue, duration: duration, easing: easing }).waitForStop());\r\n                                });\r\n                            }\r\n                            if (baseAxis === yAxis || !baseAxis) {\r\n                                min_1 = xAxis.getPrivate(\"min\");\r\n                                baseValue_1 = xAxis.baseValue();\r\n                                if ($type.isNumber(min_1) && min_1 > baseValue_1) {\r\n                                    baseValue_1 = min_1;\r\n                                }\r\n                                if (stacked) {\r\n                                    baseValue_1 = 0;\r\n                                }\r\n                                $array.each(this._valueXFields, function (key) {\r\n                                    promises.push(dataItem.animate({ key: key + \"Working\", to: baseValue_1, duration: duration, easing: easing }).waitForStop());\r\n                                });\r\n                            }\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_markDirtyStack\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._stackDirty = true;\r\n            this.markDirty();\r\n            this._markStakedDirtyStack();\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_markStakedDirtyStack\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var stackedSeries = this._stackedSeries;\r\n            if (stackedSeries) {\r\n                $object.each(stackedSeries, function (_key, value) {\r\n                    if (!value._stackDirty) {\r\n                        value._markDirtyStack();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_afterChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterChanged.call(this);\r\n            if (this._skipped) {\r\n                this._markDirtyAxes();\r\n                this._skipped = false;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Shows a tooltip for specific data item.\r\n     *\r\n     * @param  dataItem  Data item\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"showDataItemTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            this.updateLegendMarker(dataItem);\r\n            this.updateLegendValue(dataItem);\r\n            var tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                if (!this.isHidden()) {\r\n                    tooltip._setDataItem(dataItem);\r\n                    if (dataItem) {\r\n                        var locationX = this.get(\"locationX\", 0);\r\n                        var locationY = this.get(\"locationY\", 1);\r\n                        var itemLocationX = dataItem.get(\"locationX\", locationX);\r\n                        var itemLocationY = dataItem.get(\"locationY\", locationY);\r\n                        var xAxis = this.get(\"xAxis\");\r\n                        var yAxis = this.get(\"yAxis\");\r\n                        var vcx = this.get(\"vcx\", 1);\r\n                        var vcy = this.get(\"vcy\", 1);\r\n                        var xPos = xAxis.getDataItemPositionX(dataItem, this._tooltipFieldX, this._aLocationX0 + (this._aLocationX1 - this._aLocationX0) * itemLocationX, vcx);\r\n                        var yPos = yAxis.getDataItemPositionY(dataItem, this._tooltipFieldY, this._aLocationY0 + (this._aLocationY1 - this._aLocationY0) * itemLocationY, vcy);\r\n                        var point = this.getPoint(xPos, yPos);\r\n                        var show_1 = true;\r\n                        $array.each(this._valueFields, function (field) {\r\n                            if (dataItem.get(field) == null) {\r\n                                show_1 = false;\r\n                            }\r\n                        });\r\n                        if (show_1) {\r\n                            var chart = this.chart;\r\n                            if (chart && chart.inPlot(point)) {\r\n                                tooltip.label.text.markDirtyText();\r\n                                tooltip.set(\"tooltipTarget\", this._getTooltipTarget(dataItem));\r\n                                tooltip.set(\"pointTo\", this._display.toGlobal({ x: point.x, y: point.y }));\r\n                            }\r\n                            else {\r\n                                tooltip._setDataItem(undefined);\r\n                            }\r\n                        }\r\n                        else {\r\n                            tooltip._setDataItem(undefined);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    this.hideTooltip();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_getTooltipTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            if (this.get(\"seriesTooltipTarget\") == \"bullet\") {\r\n                var bullets = dataItem.bullets;\r\n                if (bullets && bullets.length > 0) {\r\n                    var bullet = bullets[0];\r\n                    var sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        return sprite;\r\n                    }\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"updateLegendValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var legendDataItem = this.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                var label = legendDataItem.get(\"label\");\r\n                if (label) {\r\n                    var txt = \"\";\r\n                    if (dataItem) {\r\n                        label._setDataItem(dataItem);\r\n                        txt = this.get(\"legendLabelText\", label.get(\"text\", this.get(\"name\", \"\")));\r\n                    }\r\n                    else {\r\n                        label._setDataItem(this._emptyDataItem);\r\n                        txt = this.get(\"legendRangeLabelText\", this.get(\"legendLabelText\", label.get(\"text\", this.get(\"name\", \"\"))));\r\n                    }\r\n                    label.set(\"text\", txt);\r\n                }\r\n                var valueLabel = legendDataItem.get(\"valueLabel\");\r\n                if (valueLabel) {\r\n                    var txt = \"\";\r\n                    if (dataItem) {\r\n                        valueLabel._setDataItem(dataItem);\r\n                        txt = this.get(\"legendValueText\", valueLabel.get(\"text\", \"\"));\r\n                    }\r\n                    else {\r\n                        valueLabel._setDataItem(this._emptyDataItem);\r\n                        txt = this.get(\"legendRangeValueText\", valueLabel.get(\"text\", \"\"));\r\n                    }\r\n                    valueLabel.set(\"text\", txt);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_getItemReaderLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var text = \"X: {\" + this._xField;\r\n            if (this.get(\"xAxis\").isType(\"DateAxis\")) {\r\n                text += \".formatDate()\";\r\n            }\r\n            text += \"}; Y: {\" + this._yField;\r\n            if (this.get(\"yAxis\").isType(\"DateAxis\")) {\r\n                text += \".formatDate()\";\r\n            }\r\n            text += \"}\";\r\n            return text;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"getPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (positionX, positionY) {\r\n            var x = this.get(\"xAxis\").get(\"renderer\").positionToCoordinate(positionX);\r\n            var y = this.get(\"yAxis\").get(\"renderer\").positionToCoordinate(positionY);\r\n            // if coordinate is super big, canvas fails to draw line, capping to some big number (won't make any visual difference)\r\n            var max = 999999999;\r\n            if (y < -max) {\r\n                y = -max;\r\n            }\r\n            if (y > max) {\r\n                y = max;\r\n            }\r\n            if (x < -max) {\r\n                x = -max;\r\n            }\r\n            if (x > max) {\r\n                x = max;\r\n            }\r\n            return { x: x, y: y };\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_shouldInclude\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_position) {\r\n            return true;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"handleCursorHide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.hideTooltip();\r\n            this.updateLegendValue(undefined);\r\n            this.updateLegendMarker(undefined);\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_afterDataChange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterDataChange.call(this);\r\n            this.get(\"xAxis\")._markDirtyKey(\"start\");\r\n            this.get(\"yAxis\")._markDirtyKey(\"start\");\r\n            this.resetExtremes();\r\n        }\r\n    });\r\n    // todo description\r\n    Object.defineProperty(XYSeries.prototype, \"resetExtremes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setPrivate(\"selectionMinX\", undefined);\r\n            this.setPrivate(\"selectionMaxX\", undefined);\r\n            this.setPrivate(\"selectionMinY\", undefined);\r\n            this.setPrivate(\"selectionMaxY\", undefined);\r\n            this.setPrivate(\"minX\", undefined);\r\n            this.setPrivate(\"minY\", undefined);\r\n            this.setPrivate(\"maxX\", undefined);\r\n            this.setPrivate(\"maxY\", undefined);\r\n        }\r\n    });\r\n    /**\r\n     * Creates and returns an axis range object.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n     * @param   axisDataItem  Axis data item\r\n     * @return                Axis range\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"createAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axisDataItem) {\r\n            return this.axisRanges.push({\r\n                axisDataItem: axisDataItem\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"XYSeries\"\r\n    });\r\n    Object.defineProperty(XYSeries, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Series.classNames.concat([XYSeries.className])\r\n    });\r\n    return XYSeries;\r\n}(Series));\r\nexport { XYSeries };\r\n//# sourceMappingURL=XYSeries.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { XYSeries } from \"./XYSeries\";\r\nimport { Percent } from \"../../../core/util/Percent\";\r\nimport { visualSettings } from \"../../../core/render/Graphics\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $type from \"../../../core/util/Type\";\r\n/**\r\n * Base class for all \"column-based\" series\r\n */\r\nvar BaseColumnSeries = /** @class */ (function (_super) {\r\n    __extends(BaseColumnSeries, _super);\r\n    function BaseColumnSeries() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_ph\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_pw\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"_makeGraphics\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (listTemplate, dataItem) {\r\n            return this.makeColumn(dataItem, listTemplate);\r\n        }\r\n    });\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"_makeFieldNames\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._makeFieldNames.call(this);\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var categoryAxis = \"CategoryAxis\";\r\n            var valueAxis = \"ValueAxis\";\r\n            if (xAxis.isType(categoryAxis)) {\r\n                if (!this.get(\"openCategoryXField\")) {\r\n                    this._xOpenField = this._xField;\r\n                }\r\n            }\r\n            if (xAxis.isType(valueAxis)) {\r\n                if (!this.get(\"openValueXField\")) {\r\n                    this._xOpenField = this._xField;\r\n                }\r\n            }\r\n            if (yAxis.isType(categoryAxis)) {\r\n                if (!this.get(\"openCategoryYField\")) {\r\n                    this._yOpenField = this._yField;\r\n                }\r\n            }\r\n            if (yAxis.isType(valueAxis)) {\r\n                if (!this.get(\"openValueYField\")) {\r\n                    this._yOpenField = this._yField;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._prepareChildren.call(this);\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var len = this.dataItems.length;\r\n            var startIndex = Math.max(0, this.startIndex() - 2);\r\n            var endIndex = Math.min(this.endIndex() + 2, len - 1);\r\n            if (xAxis.inited && yAxis.inited) {\r\n                for (var i = startIndex; i <= endIndex; i++) {\r\n                    var dataItem = this.dataItems[i];\r\n                    this._createGraphics(dataItem);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                this._ph = chart.plotContainer.height();\r\n                this._pw = chart.plotContainer.width();\r\n            }\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var baseAxis = this.get(\"baseAxis\");\r\n            var columnsTemplate = this.columns.template;\r\n            if (this.isDirty(\"fill\")) {\r\n                if (columnsTemplate.get(\"fill\") == null) {\r\n                    columnsTemplate.set(\"fill\", this.get(\"fill\"));\r\n                }\r\n            }\r\n            if (this.isDirty(\"stroke\")) {\r\n                if (columnsTemplate.get(\"stroke\") == null) {\r\n                    columnsTemplate.set(\"stroke\", this.get(\"stroke\"));\r\n                }\r\n            }\r\n            var index = 0;\r\n            var clusterCount = 0;\r\n            var i = 0;\r\n            $array.each(baseAxis.series, function (series) {\r\n                if (series instanceof BaseColumnSeries) {\r\n                    var stacked = series.get(\"stacked\");\r\n                    if (stacked && i == 0) {\r\n                        clusterCount++;\r\n                    }\r\n                    if (!stacked && series.get(\"clustered\")) {\r\n                        clusterCount++;\r\n                    }\r\n                }\r\n                if (series === _this) {\r\n                    index = clusterCount - 1;\r\n                }\r\n                i++;\r\n            });\r\n            if (!this.get(\"clustered\")) {\r\n                index = 0;\r\n                clusterCount = 1;\r\n            }\r\n            if (clusterCount === 0) {\r\n                clusterCount = 1;\r\n                index = 0;\r\n            }\r\n            var xRenderer = xAxis.get(\"renderer\");\r\n            var yRenderer = yAxis.get(\"renderer\");\r\n            var cellStartLocation = \"cellStartLocation\";\r\n            var cellEndLocation = \"cellEndLocation\";\r\n            var cellLocationX0 = xRenderer.get(cellStartLocation, 0);\r\n            var cellLocationX1 = xRenderer.get(cellEndLocation, 1);\r\n            var cellLocationY0 = yRenderer.get(cellStartLocation, 0);\r\n            var cellLocationY1 = yRenderer.get(cellEndLocation, 1);\r\n            this._aLocationX0 = cellLocationX0 + (index / clusterCount) * (cellLocationX1 - cellLocationX0);\r\n            this._aLocationX1 = cellLocationX0 + (index + 1) / clusterCount * (cellLocationX1 - cellLocationX0);\r\n            ;\r\n            this._aLocationY0 = cellLocationY0 + (index / clusterCount) * (cellLocationY1 - cellLocationY0);\r\n            this._aLocationY1 = cellLocationY0 + (index + 1) / clusterCount * (cellLocationY1 - cellLocationY0);\r\n            if (xAxis.inited && yAxis.inited) {\r\n                if (this._axesDirty || this._valuesDirty || this._stackDirty || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._sizeDirty) {\r\n                    var len = this.dataItems.length;\r\n                    var startIndex = Math.max(0, this.startIndex() - 2);\r\n                    var endIndex = Math.min(this.endIndex() + 2, len - 1);\r\n                    for (var i_1 = 0; i_1 < startIndex; i_1++) {\r\n                        this._toggleColumn(this.dataItems[i_1], false);\r\n                    }\r\n                    var previous = this.dataItems[startIndex];\r\n                    for (var i_2 = startIndex; i_2 <= endIndex; i_2++) {\r\n                        var dataItem = this.dataItems[i_2];\r\n                        if (dataItem.get(\"valueX\") != null && dataItem.get(\"valueY\") != null) {\r\n                            previous = dataItem;\r\n                            if (i_2 > 0 && startIndex > 0) {\r\n                                for (var j = i_2 - 1; j >= 0; j--) {\r\n                                    var dataItem_1 = this.dataItems[j];\r\n                                    if (dataItem_1.get(\"valueX\") != null && dataItem_1.get(\"valueY\") != null) {\r\n                                        previous = dataItem_1;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    for (var i_3 = startIndex; i_3 <= endIndex; i_3++) {\r\n                        var dataItem = this.dataItems[i_3];\r\n                        this._updateGraphics(dataItem, previous);\r\n                        if (dataItem.get(\"valueX\") != null && dataItem.get(\"valueY\") != null) {\r\n                            previous = dataItem;\r\n                        }\r\n                    }\r\n                    for (var i_4 = endIndex + 1; i_4 < len; i_4++) {\r\n                        this._toggleColumn(this.dataItems[i_4], false);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this._skipped = true;\r\n            }\r\n            this.updateLegendMarker();\r\n            _super.prototype._updateChildren.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"_createGraphics\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var _this = this;\r\n            var graphics = dataItem.get(\"graphics\");\r\n            if (!graphics) {\r\n                graphics = this._makeGraphics(this.columns, dataItem);\r\n                dataItem.set(\"graphics\", graphics);\r\n                graphics._setDataItem(dataItem);\r\n                var legendDataItem = dataItem.get(\"legendDataItem\");\r\n                if (legendDataItem) {\r\n                    var markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                    if (markerRectangle) {\r\n                        markerRectangle.setAll({ fill: graphics.get(\"fill\"), stroke: graphics.get(\"stroke\") });\r\n                    }\r\n                }\r\n                this.axisRanges.each(function (axisRange) {\r\n                    var container = axisRange.container;\r\n                    var graphicsArray = dataItem.get(\"rangeGraphics\", []);\r\n                    dataItem.set(\"rangeGraphics\", graphicsArray);\r\n                    var rangeGraphics = _this._makeGraphics(axisRange.columns, dataItem);\r\n                    graphicsArray.push(rangeGraphics);\r\n                    rangeGraphics.setPrivate(\"list\", axisRange.columns);\r\n                    container.children.push(rangeGraphics);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"_updateGraphics\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, previousDataItem) {\r\n            var _this = this;\r\n            var graphics = dataItem.get(\"graphics\");\r\n            //if (!graphics) {\r\n            //\tthis._createGraphics(dataItem);\r\n            //\tgraphics = dataItem.get(\"graphics\")!;\r\n            //}\r\n            var xField = this._xField;\r\n            var yField = this._yField;\r\n            var valueX = dataItem.get(xField);\r\n            var valueY = dataItem.get(yField);\r\n            if (valueX != null && valueY != null) {\r\n                var xOpenField = this._xOpenField;\r\n                var yOpenField = this._yOpenField;\r\n                var locationX = this.get(\"locationX\", dataItem.get(\"locationX\", 0.5));\r\n                var locationY = this.get(\"locationY\", dataItem.get(\"locationY\", 0.5));\r\n                var openLocationX = this.get(\"openLocationX\", dataItem.get(\"openLocationX\", locationX));\r\n                var openLocationY = this.get(\"openLocationY\", dataItem.get(\"openLocationY\", locationY));\r\n                var width = graphics.get(\"width\");\r\n                var height = graphics.get(\"height\");\r\n                var stacked = this.get(\"stacked\");\r\n                var xAxis = this.get(\"xAxis\");\r\n                var yAxis = this.get(\"yAxis\");\r\n                var baseAxis = this.get(\"baseAxis\");\r\n                var xStart = xAxis.get(\"start\");\r\n                var xEnd = xAxis.get(\"end\");\r\n                var yStart = yAxis.get(\"start\");\r\n                var yEnd = yAxis.get(\"end\");\r\n                var l_1;\r\n                var r_1;\r\n                var t_1;\r\n                var b_1;\r\n                var vcy = this.get(\"vcy\", 1);\r\n                var vcx = this.get(\"vcx\", 1);\r\n                var fitW_1 = false;\r\n                var fitH_1 = false;\r\n                if (yAxis.isType(\"CategoryAxis\") && xAxis.isType(\"CategoryAxis\")) {\r\n                    var startLocation = this._aLocationX0 + openLocationX - 0.5;\r\n                    var endLocation = this._aLocationX1 + locationX - 0.5;\r\n                    if (width instanceof Percent) {\r\n                        var offset = (endLocation - startLocation) * (1 - width.value) / 2;\r\n                        startLocation += offset;\r\n                        endLocation -= offset;\r\n                    }\r\n                    l_1 = xAxis.getDataItemPositionX(dataItem, xOpenField, startLocation, vcx);\r\n                    r_1 = xAxis.getDataItemPositionX(dataItem, xField, endLocation, vcx);\r\n                    startLocation = this._aLocationY0 + openLocationY - 0.5;\r\n                    endLocation = this._aLocationY1 + locationY - 0.5;\r\n                    if (height instanceof Percent) {\r\n                        var offset = (endLocation - startLocation) * (1 - height.value) / 2;\r\n                        startLocation += offset;\r\n                        endLocation -= offset;\r\n                    }\r\n                    t_1 = yAxis.getDataItemPositionY(dataItem, yOpenField, startLocation, vcy);\r\n                    b_1 = yAxis.getDataItemPositionY(dataItem, yField, endLocation, vcy);\r\n                    dataItem.setRaw(\"point\", { x: l_1 + (r_1 - l_1) / 2, y: t_1 + (b_1 - t_1) / 2 });\r\n                }\r\n                else if (xAxis === baseAxis) {\r\n                    var startLocation = this._aLocationX0 + openLocationX - 0.5;\r\n                    var endLocation = this._aLocationX1 + locationX - 0.5;\r\n                    if (width instanceof Percent) {\r\n                        var offset = (endLocation - startLocation) * (1 - width.value) / 2;\r\n                        startLocation += offset;\r\n                        endLocation -= offset;\r\n                    }\r\n                    l_1 = xAxis.getDataItemPositionX(dataItem, xOpenField, startLocation, vcx);\r\n                    r_1 = xAxis.getDataItemPositionX(dataItem, xField, endLocation, vcx);\r\n                    t_1 = yAxis.getDataItemPositionY(dataItem, yField, locationY, vcy);\r\n                    if (this._yOpenField !== this._yField) {\r\n                        b_1 = yAxis.getDataItemPositionY(dataItem, yOpenField, openLocationY, vcy);\r\n                    }\r\n                    else {\r\n                        if (stacked) {\r\n                            var stackToItemY = dataItem.get(\"stackToItemY\");\r\n                            if (stackToItemY) {\r\n                                b_1 = yAxis.getDataItemPositionY(stackToItemY, yField, openLocationY, stackToItemY.component.get(\"vcy\"));\r\n                            }\r\n                            else {\r\n                                b_1 = yAxis.basePosition();\r\n                            }\r\n                        }\r\n                        else {\r\n                            b_1 = yAxis.basePosition();\r\n                        }\r\n                    }\r\n                    dataItem.setRaw(\"point\", { x: l_1 + (r_1 - l_1) / 2, y: t_1 });\r\n                    fitH_1 = true;\r\n                }\r\n                else if (yAxis === baseAxis) {\r\n                    var startLocation = this._aLocationY0 + openLocationY - 0.5;\r\n                    var endLocation = this._aLocationY1 + locationY - 0.5;\r\n                    if (height instanceof Percent) {\r\n                        var offset = (endLocation - startLocation) * (1 - height.value) / 2;\r\n                        startLocation += offset;\r\n                        endLocation -= offset;\r\n                    }\r\n                    t_1 = yAxis.getDataItemPositionY(dataItem, yOpenField, startLocation, vcy);\r\n                    b_1 = yAxis.getDataItemPositionY(dataItem, yField, endLocation, vcy);\r\n                    r_1 = xAxis.getDataItemPositionX(dataItem, xField, locationX, vcx);\r\n                    if (this._xOpenField !== this._xField) {\r\n                        l_1 = xAxis.getDataItemPositionX(dataItem, xOpenField, openLocationX, vcx);\r\n                    }\r\n                    else {\r\n                        if (stacked) {\r\n                            var stackToItemX = dataItem.get(\"stackToItemX\");\r\n                            if (stackToItemX) {\r\n                                l_1 = xAxis.getDataItemPositionX(stackToItemX, xField, openLocationX, stackToItemX.component.get(\"vcx\"));\r\n                            }\r\n                            else {\r\n                                l_1 = xAxis.basePosition();\r\n                            }\r\n                        }\r\n                        else {\r\n                            l_1 = xAxis.basePosition();\r\n                        }\r\n                    }\r\n                    fitW_1 = true;\r\n                    dataItem.setRaw(\"point\", { x: r_1, y: t_1 + (b_1 - t_1) / 2 });\r\n                }\r\n                this._updateSeriesGraphics(dataItem, graphics, l_1, r_1, t_1, b_1, fitW_1, fitH_1);\r\n                if ((l_1 < xStart && r_1 < xStart) || (l_1 > xEnd && r_1 > xEnd) || (t_1 < yStart && b_1 < yStart) || (t_1 > yEnd && b_1 > yEnd) || $type.isNaN(l_1) || $type.isNaN(t_1)) {\r\n                    this._toggleColumn(dataItem, false);\r\n                }\r\n                else {\r\n                    this._toggleColumn(dataItem, true);\r\n                }\r\n                var rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n                if (rangeGraphics) {\r\n                    $array.each(rangeGraphics, function (graphics) {\r\n                        _this._updateSeriesGraphics(dataItem, graphics, l_1, r_1, t_1, b_1, fitW_1, fitH_1);\r\n                    });\r\n                }\r\n                this._applyGraphicsStates(dataItem, previousDataItem);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"_updateSeriesGraphics\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, graphics, l, r, t, b, fitW, fitH) {\r\n            var width = graphics.get(\"width\");\r\n            var height = graphics.get(\"height\");\r\n            var maxWidth = graphics.get(\"maxWidth\");\r\n            var maxHeight = graphics.get(\"maxHeight\");\r\n            var ptl = this.getPoint(l, t);\r\n            var pbr = this.getPoint(r, b);\r\n            var tooltipPoint = dataItem.get(\"point\");\r\n            if (tooltipPoint) {\r\n                var point = this.getPoint(tooltipPoint.x, tooltipPoint.y);\r\n                tooltipPoint.x = point.x + this._x;\r\n                tooltipPoint.y = point.y + this._y;\r\n            }\r\n            l = ptl.x;\r\n            r = pbr.x;\r\n            t = ptl.y;\r\n            b = pbr.y;\r\n            if ($type.isNumber(width)) {\r\n                var offset = ((r - l) - width) / 2;\r\n                l += offset;\r\n                r -= offset;\r\n            }\r\n            if ($type.isNumber(maxWidth) && maxWidth < Math.abs(r - l)) {\r\n                var offset = ((r - l) - maxWidth) / 2;\r\n                l += offset;\r\n                r -= offset;\r\n            }\r\n            if ($type.isNumber(height)) {\r\n                var offset = ((b - t) - height) / 2;\r\n                t += offset;\r\n                b -= offset;\r\n            }\r\n            if ($type.isNumber(maxHeight) && maxHeight < Math.abs(b - t)) {\r\n                var offset = ((b - t) - maxHeight) / 2;\r\n                t += offset;\r\n                b -= offset;\r\n            }\r\n            if (this.get(\"adjustBulletPosition\")) {\r\n                if (fitW) {\r\n                    r = Math.min(Math.max(0, r), this._pw);\r\n                    l = Math.min(Math.max(0, l), this._pw);\r\n                }\r\n                if (fitH) {\r\n                    t = Math.min(Math.max(0, t), this._ph);\r\n                    b = Math.min(Math.max(0, b), this._ph);\r\n                }\r\n            }\r\n            dataItem.setRaw(\"left\", l);\r\n            dataItem.setRaw(\"right\", r);\r\n            dataItem.setRaw(\"top\", t);\r\n            dataItem.setRaw(\"bottom\", b);\r\n            graphics.setPrivate(\"width\", r - l);\r\n            graphics.setPrivate(\"height\", b - t);\r\n            graphics.set(\"x\", l);\r\n            graphics.set(\"y\", b - (b - t));\r\n        }\r\n    });\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"_handleDataSetChange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._handleDataSetChange.call(this);\r\n            $array.each(this._dataItems, function (dataItem) {\r\n                _this._toggleColumn(dataItem, false);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"_applyGraphicsStates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, previousDataItem) {\r\n            var graphics = dataItem.get(\"graphics\");\r\n            var dropFromOpen = graphics.states.lookup(\"dropFromOpen\");\r\n            var riseFromOpen = graphics.states.lookup(\"riseFromOpen\");\r\n            var dropFromPrevious = graphics.states.lookup(\"dropFromPrevious\");\r\n            var riseFromPrevious = graphics.states.lookup(\"riseFromPrevious\");\r\n            if (dropFromOpen || dropFromPrevious || riseFromOpen || riseFromPrevious) {\r\n                var xAxis = this.get(\"xAxis\");\r\n                var yAxis = this.get(\"yAxis\");\r\n                var baseAxis = this.get(\"baseAxis\");\r\n                var open_1;\r\n                var close_1;\r\n                var previousClose = void 0;\r\n                if (baseAxis === xAxis && yAxis.isType(\"ValueAxis\")) {\r\n                    open_1 = dataItem.get(this._yOpenField);\r\n                    close_1 = dataItem.get(this._yField);\r\n                    previousClose = previousDataItem.get(this._yField);\r\n                }\r\n                else if (baseAxis === yAxis && xAxis.isType(\"ValueAxis\")) {\r\n                    open_1 = dataItem.get(this._xOpenField);\r\n                    close_1 = dataItem.get(this._xField);\r\n                    previousClose = previousDataItem.get(this._xField);\r\n                }\r\n                if ($type.isNumber(open_1) && $type.isNumber(close_1)) {\r\n                    if (close_1 < open_1) {\r\n                        if (dropFromOpen) {\r\n                            dropFromOpen.apply();\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (riseFromOpen) {\r\n                            riseFromOpen.apply();\r\n                        }\r\n                    }\r\n                    if ($type.isNumber(previousClose)) {\r\n                        if (close_1 < previousClose) {\r\n                            if (dropFromPrevious) {\r\n                                dropFromPrevious.apply();\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (riseFromPrevious) {\r\n                                riseFromPrevious.apply();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"disposeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            _super.prototype.disposeDataItem.call(this, dataItem);\r\n            var graphics = dataItem.get(\"graphics\");\r\n            if (graphics) {\r\n                this.columns.removeValue(graphics);\r\n                graphics.dispose();\r\n            }\r\n            var rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n            if (rangeGraphics) {\r\n                $array.each(rangeGraphics, function (graphics) {\r\n                    var list = graphics.getPrivate(\"list\");\r\n                    if (list) {\r\n                        list.removeValue(graphics);\r\n                    }\r\n                    graphics.dispose();\r\n                });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"hideDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises, graphics, rangeGraphics;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [_super.prototype.hideDataItem.call(this, dataItem, duration)];\r\n                            graphics = dataItem.get(\"graphics\");\r\n                            if (graphics) {\r\n                                promises.push(graphics.hide(duration));\r\n                            }\r\n                            rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n                            if (rangeGraphics) {\r\n                                $array.each(rangeGraphics, function (graphics) {\r\n                                    promises.push(graphics.hide(duration));\r\n                                });\r\n                            }\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"_toggleColumn\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, visible) {\r\n            var graphics = dataItem.get(\"graphics\");\r\n            if (graphics) {\r\n                graphics.setPrivate(\"visible\", visible);\r\n            }\r\n            var rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n            if (rangeGraphics) {\r\n                $array.each(rangeGraphics, function (graphics) {\r\n                    graphics.setPrivate(\"visible\", visible);\r\n                });\r\n            }\r\n            var bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, function (bullet) {\r\n                    bullet.setPrivate(\"hidden\", !visible);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"showDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises, graphics, rangeGraphics;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [_super.prototype.showDataItem.call(this, dataItem, duration)];\r\n                            graphics = dataItem.get(\"graphics\");\r\n                            if (graphics) {\r\n                                promises.push(graphics.show(duration));\r\n                            }\r\n                            rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n                            if (rangeGraphics) {\r\n                                $array.each(rangeGraphics, function (graphics) {\r\n                                    promises.push(graphics.show(duration));\r\n                                });\r\n                            }\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"updateLegendMarker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var _this = this;\r\n            var legendDataItem = this.get(\"legendDataItem\");\r\n            if (this.get(\"useLastColorForLegendMarker\")) {\r\n                if (!dataItem) {\r\n                    var lastDataItem = this.dataItems[this.endIndex() - 1];\r\n                    if (lastDataItem) {\r\n                        dataItem = lastDataItem;\r\n                    }\r\n                }\r\n            }\r\n            if (legendDataItem) {\r\n                var graphics_1 = this.columns.template;\r\n                if (dataItem) {\r\n                    var column = dataItem.get(\"graphics\");\r\n                    if (column) {\r\n                        graphics_1 = column;\r\n                    }\r\n                }\r\n                var markerRectangle_1 = legendDataItem.get(\"markerRectangle\");\r\n                if (markerRectangle_1) {\r\n                    if (!legendDataItem.get(\"itemContainer\").get(\"disabled\")) {\r\n                        $array.each(visualSettings, function (setting) {\r\n                            markerRectangle_1.set(setting, graphics_1.get(setting, _this.get(setting)));\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(BaseColumnSeries.prototype, \"_getTooltipTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            if (this.get(\"seriesTooltipTarget\") == \"bullet\") {\r\n                return _super.prototype._getTooltipTarget.call(this, dataItem);\r\n            }\r\n            var column = dataItem.get(\"graphics\");\r\n            if (column) {\r\n                return column;\r\n            }\r\n            return this;\r\n        }\r\n    });\r\n    Object.defineProperty(BaseColumnSeries, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"BaseColumnSeries\"\r\n    });\r\n    Object.defineProperty(BaseColumnSeries, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: XYSeries.classNames.concat([BaseColumnSeries.className])\r\n    });\r\n    return BaseColumnSeries;\r\n}(XYSeries));\r\nexport { BaseColumnSeries };\r\n//# sourceMappingURL=BaseColumnSeries.js.map","import { __extends } from \"tslib\";\r\nimport { BaseColumnSeries } from \"./BaseColumnSeries\";\r\nimport { Template } from \"../../../core/util/Template\";\r\nimport { ListTemplate } from \"../../../core/util/List\";\r\nimport { RoundedRectangle } from \"../../../core/render/RoundedRectangle\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nvar ColumnSeries = /** @class */ (function (_super) {\r\n    __extends(ColumnSeries, _super);\r\n    function ColumnSeries() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * A [[TemplateList]] of all columns in series.\r\n         *\r\n         * `columns.template` can be used to set default settings for all columns,\r\n         * or to change on existing ones.\r\n         */\r\n        Object.defineProperty(_this, \"columns\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return RoundedRectangle._new(_this._root, {\r\n                position: \"absolute\",\r\n                themeTags: $utils.mergeTags(_this.columns.template.get(\"themeTags\", []), [\"series\", \"column\"])\r\n            }, [_this.columns.template]); })\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ColumnSeries.prototype, \"makeColumn\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, listTemplate) {\r\n            var column = this.mainContainer.children.push(listTemplate.make());\r\n            column._setDataItem(dataItem);\r\n            listTemplate.push(column);\r\n            return column;\r\n        }\r\n    });\r\n    Object.defineProperty(ColumnSeries.prototype, \"_processAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axisRange) {\r\n            var _this = this;\r\n            _super.prototype._processAxisRange.call(this, axisRange);\r\n            axisRange.columns = new ListTemplate(Template.new({}), function () { return RoundedRectangle._new(_this._root, {\r\n                position: \"absolute\",\r\n                themeTags: $utils.mergeTags(axisRange.columns.template.get(\"themeTags\", []), [\"series\", \"column\"]),\r\n            }, [_this.columns.template, axisRange.columns.template]); });\r\n        }\r\n    });\r\n    Object.defineProperty(ColumnSeries, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"ColumnSeries\"\r\n    });\r\n    Object.defineProperty(ColumnSeries, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: BaseColumnSeries.classNames.concat([ColumnSeries.className])\r\n    });\r\n    return ColumnSeries;\r\n}(BaseColumnSeries));\r\nexport { ColumnSeries };\r\n//# sourceMappingURL=ColumnSeries.js.map","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","import { __extends } from \"tslib\";\r\nimport { XYSeries } from \"./XYSeries\";\r\nimport { Graphics } from \"../../../core/render/Graphics\";\r\nimport { line, area } from \"d3-shape\";\r\nimport { Template } from \"../../../core/util/Template\";\r\nimport { ListTemplate } from \"../../../core/util/List\";\r\nimport { color } from \"../../../core/util/Color\";\r\nimport { DataItem } from \"../../../core/render/Component\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Used to plot line and/or area series.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/line-series/} for more info\r\n * @important\r\n */\r\nvar LineSeries = /** @class */ (function (_super) {\r\n    __extends(LineSeries, _super);\r\n    function LineSeries() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_endIndex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_strokeGenerator\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: line()\r\n        });\r\n        Object.defineProperty(_this, \"_fillGenerator\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: area()\r\n        });\r\n        Object.defineProperty(_this, \"_legendStroke\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_legendFill\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A [[TemplateList]] of all line segments in series.\r\n         *\r\n         * `strokes.template` can be used to set default settings for all line\r\n         * segments, or to change on existing ones.\r\n         *\r\n         * @default new ListTemplate<Graphics>\r\n         */\r\n        Object.defineProperty(_this, \"strokes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Graphics._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.strokes.template.get(\"themeTags\", []), [\"line\", \"series\", \"stroke\"])\r\n            }, [_this.strokes.template]); })\r\n        });\r\n        /**\r\n         * A [[TemplateList]] of all segment fills in series.\r\n         *\r\n         * `fills.template` can be used to set default settings for all segment\r\n         * fills, or to change on existing ones.\r\n         *\r\n         * @default new ListTemplate<Graphics>\r\n         */\r\n        Object.defineProperty(_this, \"fills\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Graphics._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.strokes.template.get(\"themeTags\", []), [\"line\", \"series\", \"fill\"])\r\n            }, [_this.fills.template]); })\r\n        });\r\n        // custom set from data\r\n        Object.defineProperty(_this, \"_fillTemplate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_strokeTemplate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_previousPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [0, 0, 0, 0]\r\n        });\r\n        Object.defineProperty(_this, \"_dindex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_sindex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(LineSeries.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._fillGenerator.y0(function (p) {\r\n                return p[3];\r\n            });\r\n            this._fillGenerator.x0(function (p) {\r\n                return p[2];\r\n            });\r\n            this._fillGenerator.y1(function (p) {\r\n                return p[1];\r\n            });\r\n            this._fillGenerator.x1(function (p) {\r\n                return p[0];\r\n            });\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(LineSeries.prototype, \"makeStroke\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (strokes) {\r\n            var stroke = this.mainContainer.children.push(strokes.make());\r\n            strokes.push(stroke);\r\n            return stroke;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(LineSeries.prototype, \"makeFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fills) {\r\n            var fill = this.mainContainer.children.push(fills.make());\r\n            fills.push(fill);\r\n            return fill;\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._strokeTemplate = undefined;\r\n            this._fillTemplate = undefined;\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            if (this.isDirty(\"stroke\")) {\r\n                var stroke = this.get(\"stroke\");\r\n                this.strokes.template.set(\"stroke\", stroke);\r\n                var legendStroke = this._legendStroke;\r\n                if (legendStroke) {\r\n                    legendStroke.states.lookup(\"default\").set(\"stroke\", stroke);\r\n                }\r\n            }\r\n            if (this.isDirty(\"fill\")) {\r\n                var fill = this.get(\"fill\");\r\n                this.fills.template.set(\"fill\", fill);\r\n                var legendFill = this._legendFill;\r\n                if (legendFill) {\r\n                    legendFill.states.lookup(\"default\").set(\"fill\", fill);\r\n                }\r\n            }\r\n            if (this.isDirty(\"curveFactory\")) {\r\n                var curveFactory = this.get(\"curveFactory\");\r\n                if (curveFactory) {\r\n                    this._strokeGenerator.curve(curveFactory);\r\n                    this._fillGenerator.curve(curveFactory);\r\n                }\r\n            }\r\n            if (xAxis.inited && yAxis.inited) {\r\n                if (this._axesDirty || this._valuesDirty || this._stackDirty || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._sizeDirty || this.isDirty(\"connect\") || this.isDirty(\"curveFactory\")) {\r\n                    this.fills.each(function (fill) {\r\n                        fill.setPrivate(\"visible\", false);\r\n                    });\r\n                    this.strokes.each(function (fill) {\r\n                        fill.setPrivate(\"visible\", false);\r\n                    });\r\n                    this.axisRanges.each(function (axisRange) {\r\n                        var fills = axisRange.fills;\r\n                        if (fills) {\r\n                            fills.each(function (fill) {\r\n                                fill.setPrivate(\"visible\", false);\r\n                            });\r\n                        }\r\n                        var strokes = axisRange.strokes;\r\n                        if (strokes) {\r\n                            strokes.each(function (stroke) {\r\n                                stroke.setPrivate(\"visible\", false);\r\n                            });\r\n                        }\r\n                    });\r\n                    var startIndex = this.startIndex();\r\n                    var strokeTemplateField = this.strokes.template.get(\"templateField\");\r\n                    var fillTemplateField = this.fills.template.get(\"templateField\");\r\n                    var strokeTemplateFound = true;\r\n                    var fillTemplateFound = true;\r\n                    if (strokeTemplateField) {\r\n                        strokeTemplateFound = false;\r\n                    }\r\n                    if (fillTemplateField) {\r\n                        fillTemplateFound = false;\r\n                    }\r\n                    var _loop_1 = function (i) {\r\n                        var dataItem = this_1.dataItems[i];\r\n                        var hasValues = true;\r\n                        var dataContext = dataItem.dataContext;\r\n                        if (strokeTemplateField) {\r\n                            if (dataContext[strokeTemplateField]) {\r\n                                strokeTemplateFound = true;\r\n                            }\r\n                        }\r\n                        if (fillTemplateField) {\r\n                            if (dataContext[fillTemplateField]) {\r\n                                fillTemplateFound = true;\r\n                            }\r\n                        }\r\n                        $array.each(this_1._valueFields, function (field) {\r\n                            if (!$type.isNumber(dataItem.get(field))) {\r\n                                hasValues = false;\r\n                            }\r\n                        });\r\n                        if (hasValues && strokeTemplateFound && fillTemplateFound) {\r\n                            startIndex = i;\r\n                            return \"break\";\r\n                        }\r\n                    };\r\n                    var this_1 = this;\r\n                    for (var i = startIndex - 1; i >= 0; i--) {\r\n                        var state_1 = _loop_1(i);\r\n                        if (state_1 === \"break\")\r\n                            break;\r\n                    }\r\n                    var len = this.dataItems.length;\r\n                    var endIndex = this.endIndex();\r\n                    if (endIndex < len) {\r\n                        endIndex++;\r\n                        var _loop_2 = function (i) {\r\n                            var dataItem = this_2.dataItems[i];\r\n                            var hasValues = true;\r\n                            $array.each(this_2._valueFields, function (field) {\r\n                                if (!$type.isNumber(dataItem.get(field))) {\r\n                                    hasValues = false;\r\n                                }\r\n                            });\r\n                            if (hasValues) {\r\n                                endIndex = i + 1;\r\n                                return \"break\";\r\n                            }\r\n                        };\r\n                        var this_2 = this;\r\n                        for (var i = endIndex; i < len; i++) {\r\n                            var state_2 = _loop_2(i);\r\n                            if (state_2 === \"break\")\r\n                                break;\r\n                        }\r\n                    }\r\n                    if (startIndex > 0) {\r\n                        startIndex--;\r\n                    }\r\n                    this._endIndex = endIndex;\r\n                    this._clearGraphics();\r\n                    this._sindex = 0;\r\n                    this._dindex = startIndex;\r\n                    if (this.dataItems.length == 1) {\r\n                        this._startSegment(0);\r\n                    }\r\n                    else {\r\n                        // this is done to avoid recursion with a lot of segments \r\n                        while (this._dindex < endIndex - 1) {\r\n                            this._startSegment(this._dindex);\r\n                            this._sindex++;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this._skipped = true;\r\n            }\r\n            _super.prototype._updateChildren.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_clearGraphics\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.strokes.clear();\r\n            this.fills.clear();\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_startSegment\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItemIndex) {\r\n            var _this = this;\r\n            var endIndex = this._endIndex;\r\n            var currentEndIndex = endIndex;\r\n            var autoGapCount = this.get(\"autoGapCount\");\r\n            var connect = this.get(\"connect\");\r\n            var fill = this.makeFill(this.fills);\r\n            var fillTemplate = this._fillTemplate;\r\n            var originalTemplate = this.fills.template;\r\n            if (fillTemplate && fillTemplate != originalTemplate) {\r\n                fill.template = fillTemplate;\r\n            }\r\n            fill.setPrivate(\"visible\", true);\r\n            var stroke = this.makeStroke(this.strokes);\r\n            var strokeTemplate = this._strokeTemplate;\r\n            if (strokeTemplate && strokeTemplate != this.strokes.template) {\r\n                stroke.template = strokeTemplate;\r\n            }\r\n            stroke.setPrivate(\"visible\", true);\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var baseAxis = this.get(\"baseAxis\");\r\n            var vcx = this.get(\"vcx\", 1);\r\n            var vcy = this.get(\"vcy\", 1);\r\n            var xField = this._xField;\r\n            var yField = this._yField;\r\n            var xOpenField = this._xOpenField;\r\n            var yOpenField = this._yOpenField;\r\n            var xOpenFieldValue = this.get(\"openValueXField\");\r\n            var yOpenFieldValue = this.get(\"openValueYField\");\r\n            if (!xOpenFieldValue) {\r\n                xOpenField = this._xField;\r\n            }\r\n            if (!yOpenFieldValue) {\r\n                yOpenField = this._yField;\r\n            }\r\n            var stacked = this.get(\"stacked\");\r\n            var basePosX = xAxis.basePosition();\r\n            var basePosY = yAxis.basePosition();\r\n            var baseField;\r\n            if (baseAxis === yAxis) {\r\n                baseField = this._yField;\r\n            }\r\n            else {\r\n                baseField = this._xField;\r\n            }\r\n            var segments = [];\r\n            var points = [];\r\n            segments.push(points);\r\n            var strokeTemplateField = this.strokes.template.get(\"templateField\");\r\n            var fillTemplateField = this.fills.template.get(\"templateField\");\r\n            var locationX = this.get(\"locationX\", 0.5);\r\n            var locationY = this.get(\"locationY\", 0.5);\r\n            var openLocationX = this.get(\"openLocationX\", locationX);\r\n            var openLocationY = this.get(\"openLocationY\", locationY);\r\n            var minDistance = this.get(\"minDistance\", 0);\r\n            var i;\r\n            var fillVisible = this.fills.template.get(\"visible\");\r\n            if (this.axisRanges.length > 0) {\r\n                fillVisible = true;\r\n            }\r\n            var getOpen = false;\r\n            if (stacked || xOpenFieldValue || yOpenFieldValue) {\r\n                getOpen = true;\r\n            }\r\n            var o = {\r\n                points: points,\r\n                segments: segments,\r\n                stacked: stacked,\r\n                getOpen: getOpen,\r\n                basePosX: basePosX,\r\n                basePosY: basePosY,\r\n                fillVisible: fillVisible,\r\n                xField: xField,\r\n                yField: yField,\r\n                xOpenField: xOpenField,\r\n                yOpenField: yOpenField,\r\n                vcx: vcx,\r\n                vcy: vcy,\r\n                baseAxis: baseAxis,\r\n                xAxis: xAxis,\r\n                yAxis: yAxis,\r\n                locationX: locationX,\r\n                locationY: locationY,\r\n                openLocationX: openLocationX,\r\n                openLocationY: openLocationY,\r\n                minDistance: minDistance\r\n            };\r\n            for (i = dataItemIndex; i < currentEndIndex; i++) {\r\n                this._dindex = i;\r\n                var dataItem = this._dataItems[i];\r\n                var valueX = dataItem.get(xField);\r\n                var valueY = dataItem.get(yField);\r\n                if (valueX == null || valueY == null) {\r\n                    if (!connect) {\r\n                        points = [];\r\n                        segments.push(points);\r\n                        o.points = points;\r\n                    }\r\n                }\r\n                else {\r\n                    this._getPoints(dataItem, o);\r\n                }\r\n                if (strokeTemplateField) {\r\n                    var strokeTemplate_1 = dataItem.dataContext[strokeTemplateField];\r\n                    if (strokeTemplate_1) {\r\n                        if (!(strokeTemplate_1 instanceof Template)) {\r\n                            strokeTemplate_1 = Template.new(strokeTemplate_1);\r\n                        }\r\n                        this._strokeTemplate = strokeTemplate_1;\r\n                        if (i > dataItemIndex) {\r\n                            currentEndIndex = i;\r\n                            break;\r\n                        }\r\n                        else {\r\n                            stroke.template = strokeTemplate_1;\r\n                        }\r\n                    }\r\n                }\r\n                if (fillTemplateField) {\r\n                    var fillTemplate_1 = dataItem.dataContext[fillTemplateField];\r\n                    if (fillTemplate_1) {\r\n                        if (!(fillTemplate_1 instanceof Template)) {\r\n                            fillTemplate_1 = Template.new(fillTemplate_1);\r\n                        }\r\n                        this._fillTemplate = fillTemplate_1;\r\n                        if (i > dataItemIndex) {\r\n                            currentEndIndex = i;\r\n                            break;\r\n                        }\r\n                        else {\r\n                            fill.template = fillTemplate_1;\r\n                        }\r\n                    }\r\n                }\r\n                if (!connect) {\r\n                    var nextItem = this.dataItems[i + 1];\r\n                    if (nextItem) {\r\n                        if (baseAxis.shouldGap(dataItem, nextItem, autoGapCount, baseField)) {\r\n                            points = [];\r\n                            segments.push(points);\r\n                            o.points = points;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            fill.setRaw(\"userData\", [dataItemIndex, i]);\r\n            stroke.setRaw(\"userData\", [dataItemIndex, i]);\r\n            if (i === endIndex) {\r\n                this._endLine(points, segments[0][0]);\r\n            }\r\n            if (stroke) {\r\n                this._drawStroke(stroke, segments);\r\n            }\r\n            if (fill) {\r\n                this._drawFill(fill, segments);\r\n            }\r\n            this.axisRanges.each(function (axisRange) {\r\n                var container = axisRange.container;\r\n                var fills = axisRange.fills;\r\n                var fill = _this.makeFill(fills);\r\n                if (container) {\r\n                    container.children.push(fill);\r\n                }\r\n                fill.setPrivate(\"visible\", true);\r\n                _this._drawFill(fill, segments);\r\n                var strokes = axisRange.strokes;\r\n                var stroke = _this.makeStroke(strokes);\r\n                if (container) {\r\n                    container.children.push(stroke);\r\n                }\r\n                stroke.setPrivate(\"visible\", true);\r\n                _this._drawStroke(stroke, segments);\r\n                fill.setRaw(\"userData\", [dataItemIndex, i]);\r\n                stroke.setRaw(\"userData\", [dataItemIndex, i]);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_getPoints\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, o) {\r\n            var points = o.points;\r\n            var itemLocationX = dataItem.get(\"locationX\", o.locationX);\r\n            var itemLocationY = dataItem.get(\"locationY\", o.locationY);\r\n            var xPos = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX, o.vcx);\r\n            var yPos = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY, o.vcy);\r\n            if (this._shouldInclude(xPos)) {\r\n                var iPoint = this.getPoint(xPos, yPos);\r\n                var point = [iPoint.x, iPoint.y];\r\n                iPoint.x += this._x;\r\n                iPoint.y += this._y;\r\n                dataItem.set(\"point\", iPoint);\r\n                if (o.fillVisible) {\r\n                    var xPos0 = xPos;\r\n                    var yPos0 = yPos;\r\n                    if (o.baseAxis === o.xAxis) {\r\n                        yPos0 = o.basePosY;\r\n                    }\r\n                    else if (o.baseAxis === o.yAxis) {\r\n                        xPos0 = o.basePosX;\r\n                    }\r\n                    if (o.getOpen) {\r\n                        var valueX = dataItem.get(o.xOpenField);\r\n                        var valueY = dataItem.get(o.yOpenField);\r\n                        if (valueX != null && valueY != null) {\r\n                            var itemLocationX_1 = dataItem.get(\"openLocationX\", o.openLocationX);\r\n                            var itemLocationY_1 = dataItem.get(\"openLocationY\", o.openLocationY);\r\n                            if (o.stacked) {\r\n                                var stackToItemX = dataItem.get(\"stackToItemX\");\r\n                                var stackToItemY = dataItem.get(\"stackToItemY\");\r\n                                if (stackToItemX) {\r\n                                    xPos0 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX_1, stackToItemX.component.get(\"vcx\"));\r\n                                    if ($type.isNaN(xPos0)) {\r\n                                        xPos0 = o.basePosX;\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (o.yAxis === o.baseAxis) {\r\n                                        xPos0 = o.basePosX;\r\n                                    }\r\n                                    else {\r\n                                        xPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX_1, o.vcx);\r\n                                    }\r\n                                }\r\n                                if (stackToItemY) {\r\n                                    yPos0 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY_1, stackToItemY.component.get(\"vcy\"));\r\n                                    if ($type.isNaN(yPos0)) {\r\n                                        yPos0 = o.basePosY;\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (o.xAxis === o.baseAxis) {\r\n                                        yPos0 = o.basePosY;\r\n                                    }\r\n                                    else {\r\n                                        yPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY_1, o.vcy);\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                xPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX_1, o.vcx);\r\n                                yPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY_1, o.vcy);\r\n                            }\r\n                        }\r\n                    }\r\n                    var closeIPoint = this.getPoint(xPos0, yPos0);\r\n                    point[2] = closeIPoint.x;\r\n                    point[3] = closeIPoint.y;\r\n                }\r\n                if (o.minDistance > 0) {\r\n                    var p0 = point[0];\r\n                    var p1 = point[1];\r\n                    var p2 = point[2];\r\n                    var p3 = point[3];\r\n                    var prev = this._previousPoint;\r\n                    var pp0 = prev[0];\r\n                    var pp1 = prev[1];\r\n                    var pp2 = prev[2];\r\n                    var pp3 = prev[3];\r\n                    if (Math.hypot(p0 - pp0, p1 - pp1) > o.minDistance || (p2 && p3 && Math.hypot(p2 - pp2, p3 - pp3) > o.minDistance)) {\r\n                        points.push(point);\r\n                        this._previousPoint = point;\r\n                    }\r\n                }\r\n                else {\r\n                    points.push(point);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_endLine\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_points, _firstPoint) {\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_drawStroke\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (graphics, segments) {\r\n            var _this = this;\r\n            if (graphics.get(\"visible\")) {\r\n                graphics.set(\"draw\", function (display) {\r\n                    $array.each(segments, function (segment) {\r\n                        _this._strokeGenerator.context(display);\r\n                        _this._strokeGenerator(segment);\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_drawFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (graphics, segments) {\r\n            var _this = this;\r\n            if (graphics.get(\"visible\")) {\r\n                graphics.set(\"draw\", function (display) {\r\n                    $array.each(segments, function (segment) {\r\n                        _this._fillGenerator.context(display);\r\n                        _this._fillGenerator(segment);\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_processAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axisRange) {\r\n            var _this = this;\r\n            _super.prototype._processAxisRange.call(this, axisRange);\r\n            axisRange.fills = new ListTemplate(Template.new({}), function () { return Graphics._new(_this._root, {\r\n                themeTags: $utils.mergeTags(axisRange.fills.template.get(\"themeTags\", []), [\"line\", \"series\", \"fill\"]),\r\n            }, [_this.fills.template, axisRange.fills.template]); });\r\n            axisRange.strokes = new ListTemplate(Template.new({}), function () { return Graphics._new(_this._root, {\r\n                themeTags: $utils.mergeTags(axisRange.strokes.template.get(\"themeTags\", []), [\"line\", \"series\", \"stroke\"]),\r\n            }, [_this.strokes.template, axisRange.strokes.template]); });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(LineSeries.prototype, \"createLegendMarker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) {\r\n            var legendDataItem = this.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                var marker = legendDataItem.get(\"marker\");\r\n                var markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                if (markerRectangle) {\r\n                    markerRectangle.setPrivate(\"visible\", false);\r\n                }\r\n                marker.set(\"background\", Rectangle.new(marker._root, { fillOpacity: 0, fill: color(0x000000) }));\r\n                var legendStroke = marker.children.push(Graphics._new(marker._root, {\r\n                    themeTags: [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"], interactive: false\r\n                }, [this.strokes.template]));\r\n                this._legendStroke = legendStroke;\r\n                var legendFill = marker.children.push(Graphics._new(marker._root, {\r\n                    themeTags: [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]\r\n                }, [this.fills.template]));\r\n                this._legendFill = legendFill;\r\n                var disabledColor = this._root.interfaceColors.get(\"disabled\");\r\n                legendStroke.states.create(\"disabled\", { fill: disabledColor, stroke: disabledColor });\r\n                legendFill.states.create(\"disabled\", { fill: disabledColor, stroke: disabledColor });\r\n                if (this.bullets.length > 0) {\r\n                    var bulletFunction = this.bullets.getIndex(0);\r\n                    if (bulletFunction) {\r\n                        var bullet = bulletFunction(marker._root, this, new DataItem(this, {}, {}));\r\n                        if (bullet) {\r\n                            var sprite = bullet.get(\"sprite\");\r\n                            if (sprite instanceof Graphics) {\r\n                                sprite.states.create(\"disabled\", { fill: disabledColor, stroke: disabledColor });\r\n                            }\r\n                            if (sprite) {\r\n                                sprite.set(\"tooltipText\", undefined);\r\n                                sprite.set(\"tooltipHTML\", undefined);\r\n                                marker.children.push(sprite);\r\n                                sprite.setAll({ x: marker.width() / 2, y: marker.height() / 2 });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"LineSeries\"\r\n    });\r\n    Object.defineProperty(LineSeries, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: XYSeries.classNames.concat([LineSeries.className])\r\n    });\r\n    return LineSeries;\r\n}(XYSeries));\r\nexport { LineSeries };\r\n//# sourceMappingURL=LineSeries.js.map","/**\r\n * @ignore\r\n */\r\nvar MonotoneXTension = /** @class */ (function () {\r\n    function MonotoneXTension(context, tension) {\r\n        Object.defineProperty(this, \"_line\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_point\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_context\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_x0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_x1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_t0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_tension\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        this._context = context;\r\n        this._tension = tension;\r\n    }\r\n    Object.defineProperty(MonotoneXTension.prototype, \"areaStart\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._line = 0;\r\n        }\r\n    });\r\n    Object.defineProperty(MonotoneXTension.prototype, \"areaEnd\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._line = NaN;\r\n        }\r\n    });\r\n    Object.defineProperty(MonotoneXTension.prototype, \"lineStart\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._x0 = this._x1 =\r\n                this._y0 = this._y1 =\r\n                    this._t0 = NaN;\r\n            this._point = 0;\r\n        }\r\n    });\r\n    Object.defineProperty(MonotoneXTension.prototype, \"lineEnd\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            switch (this._point) {\r\n                case 2:\r\n                    this._context.lineTo(this._x1, this._y1);\r\n                    break;\r\n                case 3:\r\n                    point(this, this._t0, slope2(this, this._t0));\r\n                    break;\r\n            }\r\n            if (this._line || (this._line !== 0 && this._point === 1))\r\n                this._context.closePath();\r\n            this._line = 1 - this._line;\r\n        }\r\n    });\r\n    Object.defineProperty(MonotoneXTension.prototype, \"point\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y) {\r\n            var t1 = NaN;\r\n            x = +x, y = +y;\r\n            if (x === this._x1 && y === this._y1)\r\n                return; // Ignore coincident points.\r\n            switch (this._point) {\r\n                case 0:\r\n                    this._point = 1;\r\n                    this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\r\n                    break;\r\n                case 1:\r\n                    this._point = 2;\r\n                    break;\r\n                case 2:\r\n                    this._point = 3;\r\n                    point(this, slope2(this, t1 = slope3(this, x, y)), t1);\r\n                    break;\r\n                default:\r\n                    point(this, this._t0, t1 = slope3(this, x, y));\r\n                    break;\r\n            }\r\n            this._x0 = this._x1, this._x1 = x;\r\n            this._y0 = this._y1, this._y1 = y;\r\n            this._t0 = t1;\r\n        }\r\n    });\r\n    return MonotoneXTension;\r\n}());\r\nexport { MonotoneXTension };\r\n/**\r\n * @ignore\r\n */\r\nexport function curveMonotoneXTension(tension) {\r\n    function monotoneXTension(context) {\r\n        return new MonotoneXTension(context, tension);\r\n    }\r\n    return monotoneXTension;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction sign(x) {\r\n    return x < 0 ? -1 : 1;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction slope3(that, x2, y2) {\r\n    var h0 = (that._x1 - that._x0);\r\n    var h1 = (x2 - that._x1);\r\n    var s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0);\r\n    var s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0);\r\n    var p = (s0 * h1 + s1 * h0) / (h0 + h1);\r\n    return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction slope2(that, t) {\r\n    var h = that._x1 - that._x0;\r\n    return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction point(that, t0, t1) {\r\n    var x0 = that._x0, y0 = that._y0, x1 = that._x1, y1 = that._y1, dx = (x1 - x0) / 1.5 * (1 - that._tension);\r\n    that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\r\n}\r\n//# sourceMappingURL=MonotoneXTension.js.map","import { __extends } from \"tslib\";\r\nimport { LineSeries } from \"./LineSeries\";\r\nimport { curveMonotoneXTension } from \"../../../core/render/MonotoneXTension\";\r\n/**\r\n * Smoothed line series suitable for horizontal plots.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/smoothed-series/} for more info\r\n */\r\nvar SmoothedXLineSeries = /** @class */ (function (_super) {\r\n    __extends(SmoothedXLineSeries, _super);\r\n    function SmoothedXLineSeries() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(SmoothedXLineSeries.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._setDefault(\"curveFactory\", curveMonotoneXTension(this.get(\"tension\", 0.5)));\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(SmoothedXLineSeries.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.isDirty(\"tension\")) {\r\n                this.set(\"curveFactory\", curveMonotoneXTension(this.get(\"tension\", 0.5)));\r\n                this._valuesDirty = true;\r\n            }\r\n            _super.prototype._updateChildren.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(SmoothedXLineSeries, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"SmoothedXLineSeries\"\r\n    });\r\n    Object.defineProperty(SmoothedXLineSeries, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: LineSeries.classNames.concat([SmoothedXLineSeries.className])\r\n    });\r\n    return SmoothedXLineSeries;\r\n}(LineSeries));\r\nexport { SmoothedXLineSeries };\r\n//# sourceMappingURL=SmoothedXLineSeries.js.map","import { __extends } from \"tslib\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { Graphics } from \"../../core/render/Graphics\";\r\nimport { Grid } from \"./axes/Grid\";\r\n//import { Animations } from \"../core/util/Animation\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $object from \"../../core/util/Object\";\r\n/**\r\n * Creates a chart cursor for an [[XYChart]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/} for more info\r\n * @important\r\n */\r\nvar XYCursor = /** @class */ (function (_super) {\r\n    __extends(XYCursor, _super);\r\n    function XYCursor() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * A [[Grid]] elment that used for horizontal line of the cursor crosshair.\r\n         *\r\n         * @default Grid.new()\r\n         */\r\n        Object.defineProperty(_this, \"lineX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Grid.new(_this._root, {\r\n                themeTags: [\"x\"]\r\n            }))\r\n        });\r\n        /**\r\n         * A [[Grid]] elment that used for horizontal line of the cursor crosshair.\r\n         *\r\n         * @default Grid.new()\r\n         */\r\n        Object.defineProperty(_this, \"lineY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Grid.new(_this._root, {\r\n                themeTags: [\"y\"]\r\n            }))\r\n        });\r\n        /**\r\n         * An element that represents current selection.\r\n         *\r\n         * @default Graphics.new()\r\n         */\r\n        Object.defineProperty(_this, \"selection\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Graphics.new(_this._root, {\r\n                themeTags: [\"selection\", \"cursor\"], layer: 30\r\n            }))\r\n        });\r\n        Object.defineProperty(_this, \"_movePoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_lastPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { x: 0, y: 0 }\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A chart cursor is attached to.\r\n         */\r\n        Object.defineProperty(_this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(XYCursor.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"xy\", \"cursor\"]);\r\n            _super.prototype._afterNew.call(this);\r\n            this.setAll({ \"width\": p100, height: p100, isMeasured: true, position: \"absolute\" });\r\n            this.states.create(\"hidden\", { visible: true, opacity: 0 });\r\n            this._drawLines();\r\n            this.setPrivateRaw(\"visible\", false);\r\n            this._disposers.push(this.setTimeout(function () {\r\n                _this.setPrivate(\"visible\", true);\r\n            }, 500));\r\n            this.lineX.events.on(\"positionchanged\", function () {\r\n                _this._handleXLine();\r\n            });\r\n            this.lineY.events.on(\"positionchanged\", function () {\r\n                _this._handleYLine();\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_setUpTouch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                chart.plotContainer._display.cancelTouch = this.get(\"behavior\") != \"none\" ? true : false;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_handleXLine\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var x = this.lineX.x();\r\n            var visible = true;\r\n            if (x < 0 || x > this.width()) {\r\n                visible = false;\r\n            }\r\n            this.lineX.setPrivate(\"visible\", visible);\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_handleYLine\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var y = this.lineY.y();\r\n            var visible = true;\r\n            if (y < 0 || y > this.height()) {\r\n                visible = false;\r\n            }\r\n            this.lineY.setPrivate(\"visible\", visible);\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._prepareChildren.call(this);\r\n            if (this.isDirty(\"xAxis\")) {\r\n                this._tooltipX = false;\r\n                var xAxis = this.get(\"xAxis\");\r\n                if (xAxis) {\r\n                    var tooltip_1 = xAxis.get(\"tooltip\");\r\n                    if (tooltip_1) {\r\n                        this._tooltipX = true;\r\n                        tooltip_1.on(\"pointTo\", function () {\r\n                            _this._updateXLine(tooltip_1);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"yAxis\")) {\r\n                this._tooltipY = false;\r\n                var yAxis = this.get(\"yAxis\");\r\n                if (yAxis) {\r\n                    var tooltip_2 = yAxis.get(\"tooltip\");\r\n                    if (tooltip_2) {\r\n                        this._tooltipY = true;\r\n                        tooltip_2.on(\"pointTo\", function () {\r\n                            _this._updateYLine(tooltip_2);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_handleSyncWith\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                var syncWith = this.get(\"syncWith\");\r\n                var otherCharts_1 = [];\r\n                if (syncWith) {\r\n                    $array.each(syncWith, function (cursor) {\r\n                        var chart = cursor.chart;\r\n                        if (chart) {\r\n                            otherCharts_1.push(chart);\r\n                        }\r\n                    });\r\n                }\r\n                chart._otherCharts = otherCharts_1;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateChildren.call(this);\r\n            this._handleSyncWith();\r\n            if (this.isDirty(\"positionX\") || this.isDirty(\"positionY\")) {\r\n                var positionX = this.get(\"positionX\");\r\n                var positionY = this.get(\"positionY\");\r\n                if (positionX == null && positionY == null) {\r\n                    this.hide(0);\r\n                }\r\n                else {\r\n                    this._movePoint = this.toGlobal(this._getPoint(this.get(\"positionX\", 0), this.get(\"positionY\", 0)));\r\n                    this.handleMove();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_updateXLine\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip) {\r\n            var x = $math.round(this._display.toLocal(tooltip.get(\"pointTo\", { x: 0, y: 0 })).x, 2);\r\n            if (this._toX != x) {\r\n                this.lineX.animate({ key: \"x\", to: x, duration: tooltip.get(\"animationDuration\", 0), easing: tooltip.get(\"animationEasing\") });\r\n                this._toX = x;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_updateYLine\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip) {\r\n            var y = $math.round(this._display.toLocal(tooltip.get(\"pointTo\", { x: 0, y: 0 })).y, 2);\r\n            if (this._toY != y) {\r\n                this.lineY.animate({ key: \"y\", to: y, duration: tooltip.get(\"animationDuration\", 0), easing: tooltip.get(\"animationEasing\") });\r\n                this._toY = y;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_drawLines\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this.lineX.set(\"draw\", function (display) {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(0, _this.height());\r\n            });\r\n            this.lineY.set(\"draw\", function (display) {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(_this.width(), 0);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_setChart\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (chart) {\r\n            var _this = this;\r\n            this.chart = chart;\r\n            this._handleSyncWith();\r\n            var plotContainer = chart.plotContainer;\r\n            this.events.on(\"boundschanged\", function () {\r\n                _this._disposers.push(_this.setTimeout(function () {\r\n                    if (_this.get(\"alwaysShow\")) {\r\n                        _this._movePoint = _this.toGlobal(_this._getPoint(_this.get(\"positionX\", 0), _this.get(\"positionY\", 0)));\r\n                        _this.handleMove();\r\n                    }\r\n                }, 50));\r\n            });\r\n            //this._display.interactive = true;\r\n            if ($utils.supports(\"touchevents\")) {\r\n                this._disposers.push(plotContainer.events.on(\"click\", function (event) {\r\n                    if ($utils.isTouchEvent(event.originalEvent)) {\r\n                        _this._handleMove(event.originalEvent);\r\n                    }\r\n                }));\r\n                this._setUpTouch();\r\n            }\r\n            this._disposers.push(plotContainer.events.on(\"pointerdown\", function (event) {\r\n                _this._handleCursorDown(event.originalEvent);\r\n            }));\r\n            this._disposers.push(plotContainer.events.on(\"globalpointerup\", function (event) {\r\n                _this._handleCursorUp(event.originalEvent);\r\n                if (!event.native && !_this.isHidden()) {\r\n                    _this._handleMove(event.originalEvent);\r\n                }\r\n            }));\r\n            this._disposers.push(plotContainer.events.on(\"globalpointermove\", function (event) {\r\n                if (!_this.get(\"syncWith\")) {\r\n                    if ($object.keys(plotContainer._downPoints).length == 0 && !event.native && _this.isHidden()) {\r\n                        // Ignore mouse movement if it originates on outside element and\r\n                        // we're not dragging.\r\n                        return;\r\n                    }\r\n                }\r\n                _this._handleMove(event.originalEvent);\r\n            }));\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                parent.children.moveValue(this.selection);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_inPlot\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                return chart.inPlot(point);\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_handleCursorDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            var rootPoint = this._root.documentPointToRoot({ x: event.clientX, y: event.clientY });\r\n            var local = this._display.toLocal(rootPoint);\r\n            var chart = this.chart;\r\n            this.selection.set(\"draw\", function () { });\r\n            if (chart && this._inPlot(local)) {\r\n                this._downPoint = local;\r\n                if (this.get(\"behavior\") != \"none\") {\r\n                    this.selection.show();\r\n                    var type = \"selectstarted\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this });\r\n                    }\r\n                }\r\n                var positionX = this._getPosition(local).x;\r\n                var positionY = this._getPosition(local).y;\r\n                this.setPrivate(\"downPositionX\", positionX);\r\n                this.setPrivate(\"downPositionY\", positionY);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_handleCursorUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            // TODO: handle multitouch\r\n            if (this._downPoint) {\r\n                var behavior = this.get(\"behavior\", \"none\");\r\n                if (behavior != \"none\") {\r\n                    if (behavior.charAt(0) === \"z\") {\r\n                        this.selection.hide();\r\n                    }\r\n                    var rootPoint = this._root.documentPointToRoot({ x: event.clientX, y: event.clientY });\r\n                    var local = this._display.toLocal(rootPoint);\r\n                    var downPoint = this._downPoint;\r\n                    var moveThreshold = this.get(\"moveThreshold\", 1);\r\n                    if (local && downPoint) {\r\n                        var dispatch = false;\r\n                        if (behavior === \"zoomX\" || behavior === \"zoomXY\" || behavior === \"selectX\" || behavior === \"selectXY\") {\r\n                            if (Math.abs(local.x - downPoint.x) > moveThreshold) {\r\n                                dispatch = true;\r\n                            }\r\n                        }\r\n                        if (behavior === \"zoomY\" || behavior === \"zoomXY\" || behavior === \"selectY\" || behavior === \"selectXY\") {\r\n                            if (Math.abs(local.y - downPoint.y) > moveThreshold) {\r\n                                dispatch = true;\r\n                            }\r\n                        }\r\n                        if (dispatch) {\r\n                            var type = \"selectended\";\r\n                            if (this.events.isEnabled(type)) {\r\n                                this.events.dispatch(type, { type: type, target: this });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._downPoint = undefined;\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_handleMove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            if (this.getPrivate(\"visible\")) {\r\n                var chart = this.chart;\r\n                if (chart && $object.keys(chart.plotContainer._downPoints).length > 1) {\r\n                    this.set(\"forceHidden\", true);\r\n                    return;\r\n                }\r\n                else {\r\n                    this.set(\"forceHidden\", false);\r\n                }\r\n                // TODO: handle multitouch\r\n                var rootPoint = this._root.documentPointToRoot({ x: event.clientX, y: event.clientY });\r\n                var lastPoint = this._lastPoint;\r\n                if (Math.round(lastPoint.x) === Math.round(rootPoint.x) && Math.round(lastPoint.y) === Math.round(rootPoint.y)) {\r\n                    return;\r\n                }\r\n                this._lastPoint = rootPoint;\r\n                this.handleMove({ x: rootPoint.x, y: rootPoint.y });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_getPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return { x: point.x / this.width(), y: point.y / this.height() };\r\n        }\r\n    });\r\n    /**\r\n     * Moves the cursor to X/Y coordinates within chart container (`point`).\r\n     *\r\n     * If `skipEvent` parameter is set to `true`, the move will not invoke\r\n     * the `\"cursormoved\"` event.\r\n     *\r\n     * @param  point      X/Y to move cursor to\r\n     * @param  skipEvent  Do not fire \"cursormoved\" event\r\n     */\r\n    Object.defineProperty(XYCursor.prototype, \"handleMove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point, skipEvent) {\r\n            if (!point) {\r\n                point = this._movePoint;\r\n            }\r\n            var alwaysShow = this.get(\"alwaysShow\");\r\n            if (!point) {\r\n                this.hide(0);\r\n                return;\r\n            }\r\n            this._movePoint = point;\r\n            var local = this._display.toLocal(point);\r\n            var chart = this.chart;\r\n            if (chart && this._inPlot(local)) {\r\n                chart._movePoint = point;\r\n                if (this.isHidden()) {\r\n                    this.show();\r\n                    var behavior = this.get(\"behavior\", \"\");\r\n                    if (behavior.charAt(0) == \"z\") {\r\n                        this.selection.set(\"draw\", function () { });\r\n                    }\r\n                }\r\n                var x = local.x;\r\n                var y = local.y;\r\n                var xyPos = this._getPosition(local);\r\n                this.setPrivate(\"point\", local);\r\n                var snapToSeries_1 = this.get(\"snapToSeries\");\r\n                var userPositionX = this.get(\"positionX\");\r\n                var positionX_1 = xyPos.x;\r\n                if ($type.isNumber(userPositionX)) {\r\n                    positionX_1 = userPositionX;\r\n                }\r\n                var userPositionY = this.get(\"positionY\");\r\n                var positionY_1 = xyPos.y;\r\n                if ($type.isNumber(userPositionY)) {\r\n                    positionY_1 = userPositionY;\r\n                }\r\n                this.setPrivate(\"positionX\", positionX_1);\r\n                this.setPrivate(\"positionY\", positionY_1);\r\n                var xy = this._getPoint(positionX_1, positionY_1);\r\n                x = xy.x;\r\n                y = xy.y;\r\n                chart.xAxes.each(function (axis) {\r\n                    axis._handleCursorPosition(positionX_1, snapToSeries_1);\r\n                    if (alwaysShow) {\r\n                        axis.handleCursorShow();\r\n                    }\r\n                });\r\n                chart.yAxes.each(function (axis) {\r\n                    axis._handleCursorPosition(positionY_1, snapToSeries_1);\r\n                    if (alwaysShow) {\r\n                        axis.handleCursorShow();\r\n                    }\r\n                });\r\n                if (!skipEvent) {\r\n                    chart._handleCursorPosition();\r\n                    var type = \"cursormoved\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this });\r\n                    }\r\n                }\r\n                this._updateLines(x, y);\r\n                chart.arrangeTooltips();\r\n            }\r\n            else if (!this._downPoint) {\r\n                if (!alwaysShow) {\r\n                    this.hide(0);\r\n                    var type = \"cursorhidden\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this });\r\n                    }\r\n                }\r\n            }\r\n            if (this._downPoint && this.get(\"behavior\") != \"none\") {\r\n                this._updateSelection(local);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_getPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (positionX, positionY) {\r\n            return { x: this.width() * positionX, y: this.height() * positionY };\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_updateLines\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y) {\r\n            if (!this._tooltipX) {\r\n                this.lineX.set(\"x\", x);\r\n            }\r\n            if (!this._tooltipY) {\r\n                this.lineY.set(\"y\", y);\r\n            }\r\n            this._drawLines();\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_updateSelection\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            var _this = this;\r\n            var selection = this.selection;\r\n            var behavior = this.get(\"behavior\");\r\n            var w = this.width();\r\n            var h = this.height();\r\n            if (point.x < 0) {\r\n                point.x = 0;\r\n            }\r\n            if (point.x > w) {\r\n                point.x = w;\r\n            }\r\n            if (point.y < 0) {\r\n                point.y = 0;\r\n            }\r\n            if (point.y > h) {\r\n                point.y = h;\r\n            }\r\n            selection.set(\"draw\", function (display) {\r\n                var downPoint = _this._downPoint;\r\n                if (downPoint) {\r\n                    if (behavior === \"zoomXY\" || behavior === \"selectXY\") {\r\n                        display.moveTo(downPoint.x, downPoint.y);\r\n                        display.lineTo(downPoint.x, point.y);\r\n                        display.lineTo(point.x, point.y);\r\n                        display.lineTo(point.x, downPoint.y);\r\n                        display.lineTo(downPoint.x, downPoint.y);\r\n                    }\r\n                    else if (behavior === \"zoomX\" || behavior === \"selectX\") {\r\n                        display.moveTo(downPoint.x, 0);\r\n                        display.lineTo(downPoint.x, h);\r\n                        display.lineTo(point.x, h);\r\n                        display.lineTo(point.x, 0);\r\n                        display.lineTo(downPoint.x, 0);\r\n                    }\r\n                    else if (behavior === \"zoomY\" || behavior === \"selectY\") {\r\n                        display.moveTo(0, downPoint.y);\r\n                        display.lineTo(w, downPoint.y);\r\n                        display.lineTo(w, point.y);\r\n                        display.lineTo(0, point.y);\r\n                        display.lineTo(0, downPoint.y);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_onHide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.isHidden()) {\r\n                var chart = this.chart;\r\n                if (chart) {\r\n                    chart.xAxes.each(function (axis) {\r\n                        axis.handleCursorHide();\r\n                    });\r\n                    chart.yAxes.each(function (axis) {\r\n                        axis.handleCursorHide();\r\n                    });\r\n                    chart.series.each(function (series) {\r\n                        series.handleCursorHide();\r\n                    });\r\n                }\r\n            }\r\n            _super.prototype._onHide.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_onShow\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.isHidden()) {\r\n                var chart = this.chart;\r\n                if (chart) {\r\n                    chart.xAxes.each(function (axis) {\r\n                        axis.handleCursorShow();\r\n                    });\r\n                    chart.yAxes.each(function (axis) {\r\n                        axis.handleCursorShow();\r\n                    });\r\n                }\r\n            }\r\n            _super.prototype._onShow.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._dispose.call(this);\r\n            this.selection.dispose();\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"XYCursor\"\r\n    });\r\n    Object.defineProperty(XYCursor, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([XYCursor.className])\r\n    });\r\n    return XYCursor;\r\n}(Container));\r\nexport { XYCursor };\r\n//# sourceMappingURL=XYCursor.js.map","import { __extends } from \"tslib\";\r\nimport { Theme } from \"../core/Theme\";\r\n/**\r\n * @ignore\r\n */\r\nvar AnimatedTheme = /** @class */ (function (_super) {\r\n    __extends(AnimatedTheme, _super);\r\n    function AnimatedTheme() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(AnimatedTheme.prototype, \"setupDefaultRules\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.setupDefaultRules.call(this);\r\n            this.rule(\"Component\").setAll({\r\n                interpolationDuration: 600\r\n            });\r\n            this.rule(\"Hierarchy\").set(\"animationDuration\", 600);\r\n            this.rule(\"Scrollbar\").set(\"animationDuration\", 600);\r\n            this.rule(\"Tooltip\").set(\"animationDuration\", 300);\r\n            this.rule(\"MapChart\").set(\"animationDuration\", 1000);\r\n            this.rule(\"MapChart\").set(\"wheelDuration\", 300);\r\n            this.rule(\"Entity\").setAll({\r\n                stateAnimationDuration: 600\r\n            });\r\n            this.rule(\"Sprite\").states.create(\"default\", { stateAnimationDuration: 600 });\r\n            this.rule(\"Tooltip\", [\"axis\"]).setAll({\r\n                animationDuration: 200\r\n            });\r\n            this.rule(\"WordCloud\").set(\"animationDuration\", 500);\r\n        }\r\n    });\r\n    return AnimatedTheme;\r\n}(Theme));\r\nexport { AnimatedTheme };\r\n//# sourceMappingURL=AnimatedTheme.js.map","import { AnimatedTheme } from \"../.internal/themes/AnimatedTheme\";\r\nexport default AnimatedTheme;\r\n//# sourceMappingURL=Animated.js.map","<template>\n  <div class=\"myChart\" ref=\"chartdiv\" :style=\"containerSize\"></div>\n\n</template>\n\n<script>\nimport * as am5 from '@amcharts/amcharts5';\nimport * as am5xy from '@amcharts/amcharts5/xy';\nimport am5themes_Animated from '@amcharts/amcharts5/themes/Animated';\n\nexport default {\n  name: 'XYChart',\n  data() {\n    return {}\n  },\n  props: {\n    containerSize: {\n      type: Object,\n      required: true\n    }\n  },\n  mounted() {\n    let root = am5.Root.new(this.$refs.chartdiv);\n\n    root.setThemes([am5themes_Animated.new(root)]);\n\n    // root.dateFormatter.setAll({\n    //   dateFormat: \"yyyy-MM-dd\",\n    //   dateFields: [\"valueX\"]\n    // });\n\n    let chart = root.container.children.push(\n        am5xy.XYChart.new(root, {\n          panX: true,\n          panY: true,\n          wheelX: \"panX\",\n          wheelY: \"ZoomX\",\n          pinchZoomX: true,\n          maxTooltipDistance: 0\n          // layout: root.verticalLayout\n        })\n    );\n\n    let data = [\n      {\n        date: new Date('2022-04-01').getTime(),\n        category: \"Alpha\",\n        value1: 1400,\n        value2: 1589\n      },\n      {\n        date: new Date('2022-04-02').getTime(),\n        category: \"Bravo\",\n        value1: 1200,\n        value2: 1600\n      },\n      {\n        date: new Date('2022-04-03').getTime(),\n        category: \"Charlie\",\n        value1: 1250,\n        value2: 1450\n      },\n      {\n        date: new Date('2022-04-04').getTime(),\n        category: \"Delta\",\n        value1: 1050,\n        value2: 1230\n      },\n      {\n        date: new Date('2022-04-05').getTime(),\n        category: \"Easy\",\n        value1: 1000,\n        value2: 1300\n      },\n      {\n        date: new Date('2022-04-06').getTime(),\n        category: \"Foxtrot\",\n        value1: 1200,\n        value2: 1400\n      },\n      {\n        date: new Date('2022-04-07').getTime(),\n        category: \"Golf\",\n        value1: 1150,\n        value2: 1230\n      }\n    ];\n    // Create Y-axis\n    let yAxis = chart.yAxes.push(\n        am5xy.ValueAxis.new(root, {\n          renderer: am5xy.AxisRendererY.new(root, {}),\n          tooltip: am5.Tooltip.new(root, {})\n        })\n    );\n    // Create X-Axis\n\n    // let xAxis = chart.xAxes.push(\n    //     am5xy.CategoryAxis.new(root, {\n    //       renderer: am5xy.AxisRendererX.new(root, {}),\n    //       categoryField: \"category\"\n    //     })\n    // );\n\n    let xAxis = chart.xAxes.push(\n      am5xy.DateAxis.new(root, {\n        // maxDeviation: 0.2,\n        baseInterval: { timeUnit: 'day', count: 1 },\n        renderer: am5xy.AxisRendererX.new(root, {}),\n        tooltip: am5.Tooltip.new(root, {})\n      })\n    );\n    xAxis.data.setAll(data);\n\n    let series1 = chart.series.push(\n        am5xy.ColumnSeries.new(root, {\n          name: \"Series\",\n          xAxis: xAxis,\n          yAxis: yAxis,\n          valueYField: \"value1\",\n          valueXField: \"date\",\n          categoryXField: \"category\"\n        })\n    );\n    series1.data.setAll(data);\n\n    let series2 = chart.series.push(\n        am5xy.SmoothedXLineSeries.new(root, {\n          minBulletDistance: 10,\n          name: \"Series\",\n          xAxis: xAxis,\n          yAxis: yAxis,\n          valueYField: \"value2\",\n          valueXField: \"date\",\n          categoryXField: \"category\",\n          tooltip: am5.Tooltip.new(root, {\n            pointerOrientation: \"vertical\",\n            labelText: \"[bold]VALUE[/]\\n {valueY}EA\"\n          })\n        })\n    );\n    series2.data.setAll(data);\n\n    // Add legend\n    // let legend = chart.children.push(am5.Legend.new(root, {}));\n    // legend.data.setAll(chart.series.values);\n\n    // Add cursor\n   chart.set('cursor', am5xy.XYCursor.new(root, {}));\n\n    // cursor.lineY.set(\"visible\", false);\n\n    series2.bullets.push(function() {\n      let circle = am5.Circle.new(root, {\n        radius: 6,\n        fill: series2.get(\"fill\"),\n        stroke: root.interfaceColors.get(\"background\"),\n        strokeWidth: 2,\n        shadowColor: series2.get(\"fill\"),\n        shadowBlur: 20,\n        shadowOffsetX: 15,\n        shadowOffsetY: 15,\n        shadowOpacity: 0.8\n      });\n\n      return am5.Bullet.new(root, {\n        sprite: circle\n      });\n    });\n\n\n\n    series1.columns.template.setAll({\n      cornerRadiusTL: 15, cornerRadiusTR: 15, width: 30,\n      // shadowColor: am5.color(0x000000),\n      // shadowBlur: 20,\n      // shadowOffsetX: 4,\n      // shadowOffsetY: 4\n    });\n\n    series2.strokes.template.setAll({\n      strokeWidth: 2,\n      shadowColor: series2.get('stroke'),\n      shadowBlur: 20,\n      shadowOffsetX: 15,\n      shadowOffsetY: 15,\n      shadowOpacity: 0.8\n    })\n    series1.columns.template.adapters.add('fill', function(fill, target) {\n      return chart.get('colors').getIndex(series1.columns.indexOf(target));\n    });\n\n    series1.columns.template.adapters.add('stroke', function(fill, target) {\n      return chart.get('colors').getIndex(series1.columns.indexOf(target));\n    });\n\n    series1.appear(1000);\n    series2.appear(1000);\n    chart.appear(1000, 100);\n\n    this.root = root;\n\n  },\n  beforeDestroy() {\n    if (this.root) {\n      this.root.dispose();\n    }\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./XYCharts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./XYCharts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./XYCharts.vue?vue&type=template&id=7d784504&\"\nimport script from \"./XYCharts.vue?vue&type=script&lang=js&\"\nexport * from \"./XYCharts.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"chartdiv\",staticClass:\"myChart\",style:(_vm.containerSize)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __extends } from \"tslib\";\r\nimport { Series } from \"./Series\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Label } from \"../../core/render/Label\";\r\nimport { RoundedRectangle } from \"../../core/render/RoundedRectangle\";\r\nimport { Template } from \"../../core/util/Template\";\r\nimport { ListTemplate } from \"../../core/util/List\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * A universal legend control.\r\n *\r\n * @important\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/legend/} for more info\r\n */\r\nvar Legend = /** @class */ (function (_super) {\r\n    __extends(Legend, _super);\r\n    function Legend() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * List of all [[Container]] elements for legend items.\r\n         *\r\n         * @default new ListTemplate<Container>\r\n         */\r\n        Object.defineProperty(_this, \"itemContainers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Container._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.itemContainers.template.get(\"themeTags\", []), [\"legend\", \"item\"]),\r\n                themeTagsSelf: $utils.mergeTags(_this.itemContainers.template.get(\"themeTagsSelf\", []), [\"itemcontainer\"]),\r\n                background: RoundedRectangle.new(_this._root, {\r\n                    themeTags: $utils.mergeTags(_this.itemContainers.template.get(\"themeTags\", []), [\"legend\", \"item\", \"background\"]),\r\n                    themeTagsSelf: $utils.mergeTags(_this.itemContainers.template.get(\"themeTagsSelf\", []), [\"itemcontainer\"])\r\n                })\r\n            }, [_this.itemContainers.template]); })\r\n        });\r\n        /**\r\n         * List of legend marker elements.\r\n         *\r\n         * @default new ListTemplate<Container>\r\n         */\r\n        Object.defineProperty(_this, \"markers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Container._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.markers.template.get(\"themeTags\", []), [\"legend\", \"marker\"])\r\n            }, [_this.markers.template]); })\r\n        });\r\n        /**\r\n         * List of legend label elements.\r\n         *\r\n         * @default new ListTemplate<Label>\r\n         */\r\n        Object.defineProperty(_this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Label._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.labels.template.get(\"themeTags\", []), [\"legend\", \"label\"])\r\n            }, [_this.labels.template]); })\r\n        });\r\n        /**\r\n         * List of legend value label elements.\r\n         *\r\n         * @default new ListTemplate<label>\r\n         */\r\n        Object.defineProperty(_this, \"valueLabels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Label._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.valueLabels.template.get(\"themeTags\", []), [\"legend\", \"label\", \"value\"])\r\n            }, [_this.valueLabels.template]); })\r\n        });\r\n        /**\r\n         * List of rectangle elements used for default legend markers.\r\n         *\r\n         * @default new ListTemplate<RoundedRectangle>\r\n         */\r\n        Object.defineProperty(_this, \"markerRectangles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return RoundedRectangle._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.markerRectangles.template.get(\"themeTags\", []), [\"legend\", \"marker\", \"rectangle\"])\r\n            }, [_this.markerRectangles.template]); })\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Legend.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"legend\"]);\r\n            this.fields.push(\"name\", \"stroke\", \"fill\");\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Legend.prototype, \"makeItemContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var itemContainer = this.children.push(this.itemContainers.make());\r\n            itemContainer._setDataItem(dataItem);\r\n            this.itemContainers.push(itemContainer);\r\n            itemContainer.states.create(\"disabled\", {});\r\n            return itemContainer;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Legend.prototype, \"makeMarker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var marker = this.markers.make();\r\n            this.markers.push(marker);\r\n            marker.states.create(\"disabled\", {});\r\n            return marker;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Legend.prototype, \"makeLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var label = this.labels.make();\r\n            label.states.create(\"disabled\", {});\r\n            return label;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Legend.prototype, \"makeValueLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var valueLabel = this.valueLabels.make();\r\n            valueLabel.states.create(\"disabled\", {});\r\n            return valueLabel;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Legend.prototype, \"makeMarkerRectangle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var markerRectangle = this.markerRectangles.make();\r\n            markerRectangle.states.create(\"disabled\", {});\r\n            return markerRectangle;\r\n        }\r\n    });\r\n    Object.defineProperty(Legend.prototype, \"processDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var _this = this;\r\n            _super.prototype.processDataItem.call(this, dataItem);\r\n            var itemContainer = this.makeItemContainer(dataItem);\r\n            var nameField = this.get(\"nameField\");\r\n            var fillField = this.get(\"fillField\");\r\n            var strokeField = this.get(\"strokeField\");\r\n            if (itemContainer) {\r\n                var clickTarget = this.get(\"clickTarget\", \"itemContainer\");\r\n                var item_1 = dataItem.dataContext;\r\n                if (item_1 && item_1.set) {\r\n                    item_1.set(\"legendDataItem\", dataItem);\r\n                }\r\n                itemContainer._setDataItem(dataItem);\r\n                dataItem.set(\"itemContainer\", itemContainer);\r\n                var marker = this.makeMarker();\r\n                if (marker) {\r\n                    itemContainer.children.push(marker);\r\n                    marker._setDataItem(dataItem);\r\n                    dataItem.set(\"marker\", marker);\r\n                    var useDefaultMarker = this.get(\"useDefaultMarker\");\r\n                    var markerRectangle_1 = marker.children.push(this.makeMarkerRectangle());\r\n                    var fill = dataItem.get(\"fill\");\r\n                    var stroke = dataItem.get(\"stroke\");\r\n                    dataItem.set(\"markerRectangle\", markerRectangle_1);\r\n                    if (item_1 && item_1.get) {\r\n                        fill = item_1.get(fillField, fill);\r\n                        stroke = item_1.get(strokeField, stroke);\r\n                    }\r\n                    if (!stroke) {\r\n                        stroke = fill;\r\n                    }\r\n                    if (!useDefaultMarker) {\r\n                        if (item_1 && item_1.createLegendMarker) {\r\n                            item_1.createLegendMarker();\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (item_1.on) {\r\n                            item_1.on(fillField, function () {\r\n                                markerRectangle_1.set(\"fill\", item_1.get(fillField));\r\n                            });\r\n                            item_1.on(strokeField, function () {\r\n                                markerRectangle_1.set(\"stroke\", item_1.get(strokeField));\r\n                            });\r\n                        }\r\n                    }\r\n                    markerRectangle_1.setAll({ fill: fill, stroke: stroke });\r\n                    // this solves if template field is set on slice\r\n                    var component = item_1.component;\r\n                    if (component && component.updateLegendMarker) {\r\n                        component.updateLegendMarker(item_1);\r\n                    }\r\n                }\r\n                var label_1 = this.makeLabel();\r\n                if (label_1) {\r\n                    itemContainer.children.push(label_1);\r\n                    label_1._setDataItem(dataItem);\r\n                    dataItem.set(\"label\", label_1);\r\n                    label_1.text.on(\"text\", function () {\r\n                        itemContainer.set(\"ariaLabel\", label_1.text._getText() + \"; \" + _this._t(\"Press ENTER to toggle\"));\r\n                    });\r\n                    if (item_1 && item_1.get) {\r\n                        dataItem.set(\"name\", item_1.get(nameField));\r\n                    }\r\n                    var name_1 = dataItem.get(\"name\");\r\n                    if (name_1) {\r\n                        label_1.set(\"text\", name_1);\r\n                    }\r\n                }\r\n                var valueLabel = this.makeValueLabel();\r\n                if (valueLabel) {\r\n                    itemContainer.children.push(valueLabel);\r\n                    valueLabel._setDataItem(dataItem);\r\n                    dataItem.set(\"valueLabel\", valueLabel);\r\n                }\r\n                if (item_1 && item_1.show) {\r\n                    this._disposers.push(item_1.on(\"visible\", function (visible) {\r\n                        itemContainer.set(\"disabled\", !visible);\r\n                    }));\r\n                    if (!item_1.get(\"visible\")) {\r\n                        itemContainer.set(\"disabled\", true);\r\n                    }\r\n                    if (clickTarget != \"none\") {\r\n                        var clickContainer = itemContainer;\r\n                        if (clickTarget == \"marker\") {\r\n                            clickContainer = marker;\r\n                        }\r\n                        this._addClickEvents(clickContainer, item_1, dataItem);\r\n                    }\r\n                }\r\n                // Sort children\r\n                this.children.values.sort(function (a, b) {\r\n                    var targetA = a.dataItem.dataContext;\r\n                    var targetB = b.dataItem.dataContext;\r\n                    if (targetA && targetB) {\r\n                        var indexA = _this.data.indexOf(targetA);\r\n                        var indexB = _this.data.indexOf(targetB);\r\n                        if (indexA > indexB) {\r\n                            return 1;\r\n                        }\r\n                        else if (indexA < indexB) {\r\n                            return -1;\r\n                        }\r\n                    }\r\n                    return 0;\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Legend.prototype, \"_addClickEvents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (container, item, dataItem) {\r\n            var _this = this;\r\n            container.set(\"cursorOverStyle\", \"pointer\");\r\n            container.events.on(\"pointerover\", function () {\r\n                var component = item.component;\r\n                if (component && component.hoverDataItem) {\r\n                    component.hoverDataItem(item);\r\n                }\r\n            });\r\n            container.events.on(\"pointerout\", function () {\r\n                var component = item.component;\r\n                if (component && component.hoverDataItem) {\r\n                    component.unhoverDataItem(item);\r\n                }\r\n            });\r\n            container.events.on(\"click\", function () {\r\n                var labelText = dataItem.get(\"label\").text._getText();\r\n                if (item.show && item.isHidden && (item.isHidden() || item.get(\"visible\") === false)) {\r\n                    item.show();\r\n                    container.set(\"disabled\", false);\r\n                    _this._root.readerAlert(_this._t(\"%1 shown\", _this._root.locale, labelText));\r\n                }\r\n                else if (item.hide) {\r\n                    item.hide();\r\n                    container.set(\"disabled\", true);\r\n                    _this._root.readerAlert(_this._t(\"%1 hidden\", _this._root.locale, labelText));\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Legend.prototype, \"disposeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            _super.prototype.disposeDataItem.call(this, dataItem);\r\n            var dataContext = dataItem.dataContext;\r\n            if (dataContext && dataContext.get) {\r\n                var di = dataContext.get(\"legendDataItem\");\r\n                if (di == dataItem) {\r\n                    dataContext.set(\"legendDataItem\", undefined);\r\n                }\r\n            }\r\n            var itemContainer = dataItem.get(\"itemContainer\");\r\n            if (itemContainer) {\r\n                this.itemContainers.removeValue(itemContainer);\r\n                itemContainer.dispose();\r\n            }\r\n            var marker = dataItem.get(\"marker\");\r\n            if (marker) {\r\n                this.markers.removeValue(marker);\r\n                marker.dispose();\r\n            }\r\n            var markerRectangle = dataItem.get(\"markerRectangle\");\r\n            if (markerRectangle) {\r\n                this.markerRectangles.removeValue(markerRectangle);\r\n                markerRectangle.dispose();\r\n            }\r\n            var label = dataItem.get(\"label\");\r\n            if (label) {\r\n                this.labels.removeValue(label);\r\n                label.dispose();\r\n            }\r\n            var valueLabel = dataItem.get(\"valueLabel\");\r\n            if (valueLabel) {\r\n                this.valueLabels.removeValue(valueLabel);\r\n                valueLabel.dispose();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Legend, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Legend\"\r\n    });\r\n    Object.defineProperty(Legend, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Series.classNames.concat([Legend.className])\r\n    });\r\n    return Legend;\r\n}(Series));\r\nexport { Legend };\r\n//# sourceMappingURL=Legend.js.map","import { __extends } from \"tslib\";\r\nimport { Theme } from \"../../core/Theme\";\r\nimport { percent, p50, p100 } from \"../../core/util/Percent\";\r\nimport { ColorSet } from \"../../core/util/ColorSet\";\r\nimport { setColor } from \"../../themes/DefaultTheme\";\r\n/**\r\n * @ignore\r\n */\r\nvar PercentDefaultTheme = /** @class */ (function (_super) {\r\n    __extends(PercentDefaultTheme, _super);\r\n    function PercentDefaultTheme() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(PercentDefaultTheme.prototype, \"setupDefaultRules\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.setupDefaultRules.call(this);\r\n            var ic = this._root.interfaceColors;\r\n            var r = this.rule.bind(this);\r\n            /**\r\n             * ========================================================================\r\n             * charts/percent\r\n             * ========================================================================\r\n             */\r\n            r(\"PercentSeries\").setAll({\r\n                legendLabelText: \"{category}\",\r\n                legendValueText: \"{valuePercentTotal.formatNumber('0.00p')}\",\r\n                colors: ColorSet.new(this._root, {}),\r\n                width: p100,\r\n                height: p100\r\n            });\r\n            /**\r\n             * ========================================================================\r\n             * charts/pie\r\n             * ========================================================================\r\n             */\r\n            r(\"PieChart\").setAll({\r\n                radius: percent(80),\r\n                startAngle: -90,\r\n                endAngle: 270\r\n            });\r\n            r(\"PieSeries\").setAll({\r\n                alignLabels: true,\r\n                startAngle: -90,\r\n                endAngle: 270\r\n            });\r\n            r(\"PieSeries\").states.create(\"hidden\", { endAngle: -90, opacity: 0 });\r\n            r(\"Slice\", [\"pie\"]).setAll({\r\n                position: \"absolute\",\r\n                isMeasured: false,\r\n                x: 0,\r\n                y: 0,\r\n                toggleKey: \"active\",\r\n                tooltipText: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n                strokeWidth: 1,\r\n                strokeOpacity: 1,\r\n                role: \"figure\",\r\n                lineJoin: \"round\"\r\n            });\r\n            r(\"Slice\", [\"pie\"]).states.create(\"active\", { shiftRadius: 20 });\r\n            r(\"Slice\", [\"pie\"]).states.create(\"hoverActive\", { scale: 1 });\r\n            r(\"Slice\", [\"pie\"]).states.create(\"hover\", { scale: 1.04 });\r\n            r(\"RadialLabel\", [\"pie\"]).setAll({\r\n                textType: \"aligned\",\r\n                radius: 10,\r\n                text: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n                paddingTop: 5,\r\n                paddingBottom: 5,\r\n                populateText: true\r\n            });\r\n            r(\"Tick\", [\"pie\"]).setAll({\r\n                location: 1\r\n            });\r\n            /**\r\n             * ========================================================================\r\n             * charts/funnel\r\n             * ========================================================================\r\n             */\r\n            r(\"SlicedChart\").setAll({\r\n                paddingLeft: 10,\r\n                paddingRight: 10,\r\n                paddingTop: 10,\r\n                paddingBottom: 10\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/funnel: Funnel\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"FunnelSeries\").setAll({\r\n                startLocation: 0,\r\n                endLocation: 1,\r\n                orientation: \"vertical\",\r\n                alignLabels: true,\r\n                sequencedInterpolation: true\r\n            });\r\n            r(\"FunnelSlice\").setAll({\r\n                interactive: true,\r\n                expandDistance: 0,\r\n                //tooltipText: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\"\r\n            });\r\n            r(\"FunnelSlice\").states.create(\"hover\", { expandDistance: 0.15 });\r\n            r(\"Label\", [\"funnel\"]).setAll({\r\n                populateText: true,\r\n                text: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n                centerY: p50\r\n            });\r\n            r(\"Label\", [\"funnel\", \"horizontal\"]).setAll({\r\n                centerX: 0,\r\n                centerY: p50,\r\n                rotation: -90\r\n            });\r\n            // Class: Label\r\n            r(\"Label\", [\"funnel\", \"vertical\"]).setAll({\r\n                centerY: p50,\r\n                centerX: 0\r\n            });\r\n            r(\"Tick\", [\"funnel\"]).setAll({\r\n                location: 1\r\n            });\r\n            r(\"FunnelSlice\", [\"funnel\", \"link\"]).setAll({\r\n                fillOpacity: 0.5,\r\n                strokeOpacity: 0,\r\n                expandDistance: -0.1\r\n            });\r\n            r(\"FunnelSlice\", [\"funnel\", \"link\", \"vertical\"]).setAll({\r\n                height: 10,\r\n            });\r\n            r(\"FunnelSlice\", [\"funnel\", \"link\", \"horizontal\"]).setAll({\r\n                width: 10\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/funnel: Pyramid\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"PyramidSeries\").setAll({\r\n                valueIs: \"area\"\r\n            });\r\n            r(\"FunnelSlice\", [\"pyramid\", \"link\"]).setAll({\r\n                fillOpacity: 0.5\r\n            });\r\n            r(\"FunnelSlice\", [\"pyramid\", \"link\", \"vertical\"]).setAll({\r\n                height: 0\r\n            });\r\n            r(\"FunnelSlice\", [\"pyramid\", \"link\", \"horizontal\"]).setAll({\r\n                width: 0\r\n            });\r\n            r(\"FunnelSlice\", [\"pyramid\"]).setAll({\r\n                interactive: true,\r\n                expandDistance: 0\r\n            });\r\n            r(\"FunnelSlice\", [\"pyramid\"]).states.create(\"hover\", { expandDistance: 0.15 });\r\n            r(\"Label\", [\"pyramid\"]).setAll({\r\n                populateText: true,\r\n                text: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n                centerY: p50\r\n            });\r\n            r(\"Label\", [\"pyramid\", \"horizontal\"]).setAll({\r\n                centerX: 0,\r\n                centerY: p50,\r\n                rotation: -90\r\n            });\r\n            r(\"Label\", [\"pyramid\", \"vertical\"]).setAll({\r\n                centerY: p50,\r\n                centerX: 0\r\n            });\r\n            r(\"Tick\", [\"pyramid\"]).setAll({\r\n                location: 1\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/funnel: Pictorial\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            // Class: FunnelSlice\r\n            r(\"FunnelSlice\", [\"pictorial\"]).setAll({\r\n                interactive: true,\r\n                tooltipText: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\"\r\n            });\r\n            r(\"Label\", [\"pictorial\"]).setAll({\r\n                populateText: true,\r\n                text: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n                centerY: p50\r\n            });\r\n            r(\"Label\", [\"pictorial\", \"horizontal\"]).setAll({\r\n                centerX: 0,\r\n                centerY: p50,\r\n                rotation: -90\r\n            });\r\n            r(\"Label\", [\"pictorial\", \"vertical\"]).setAll({\r\n                centerY: p50,\r\n                centerX: 0\r\n            });\r\n            r(\"FunnelSlice\", [\"pictorial\", \"link\"]).setAll({\r\n                fillOpacity: 0.5,\r\n                width: 0,\r\n                height: 0\r\n            });\r\n            r(\"Tick\", [\"pictorial\"]).setAll({\r\n                location: 0.5\r\n            });\r\n            {\r\n                var rule = r(\"Graphics\", [\"pictorial\", \"background\"]);\r\n                rule.setAll({\r\n                    fillOpacity: 0.2\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n            }\r\n        }\r\n    });\r\n    return PercentDefaultTheme;\r\n}(Theme));\r\nexport { PercentDefaultTheme };\r\n//# sourceMappingURL=PercentDefaultTheme.js.map","import { __extends } from \"tslib\";\r\nimport { SerialChart } from \"../../core/render/SerialChart\";\r\nimport { PercentDefaultTheme } from \"./PercentDefaultTheme\";\r\n/**\r\n * Base class for [[PieChart]].\r\n *\r\n * Also used for percent-based series, like [[FunnelSeries]], [[PyramidSeries]], etc.\r\n *\r\n * @important\r\n */\r\nvar PercentChart = /** @class */ (function (_super) {\r\n    __extends(PercentChart, _super);\r\n    function PercentChart() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(PercentChart.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._defaultThemes.push(PercentDefaultTheme.new(this._root));\r\n            _super.prototype._afterNew.call(this);\r\n            this.chartContainer.children.push(this.seriesContainer);\r\n            this.seriesContainer.children.push(this.bulletsContainer);\r\n        }\r\n    });\r\n    Object.defineProperty(PercentChart.prototype, \"_processSeries\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            _super.prototype._processSeries.call(this, series);\r\n            this.seriesContainer.children.moveValue(this.bulletsContainer, this.seriesContainer.children.length - 1);\r\n        }\r\n    });\r\n    Object.defineProperty(PercentChart, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"PercentChart\"\r\n    });\r\n    Object.defineProperty(PercentChart, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: SerialChart.classNames.concat([PercentChart.className])\r\n    });\r\n    return PercentChart;\r\n}(SerialChart));\r\nexport { PercentChart };\r\n//# sourceMappingURL=PercentChart.js.map","import { __extends } from \"tslib\";\r\nimport { Percent } from \"../../core/util/Percent\";\r\nimport { PercentChart } from \"../percent/PercentChart\";\r\nimport { p50 } from \"../../core/util/Percent\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as $math from \"../../core/util/Math\";\r\n/**\r\n * Creates a pie chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/percent-charts/pie-chart/} for more info\r\n * @important\r\n */\r\nvar PieChart = /** @class */ (function (_super) {\r\n    __extends(PieChart, _super);\r\n    function PieChart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_maxRadius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(PieChart.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterNew.call(this);\r\n            this.seriesContainer.setAll({ x: p50, y: p50 });\r\n        }\r\n    });\r\n    Object.defineProperty(PieChart.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._prepareChildren.call(this);\r\n            var chartContainer = this.chartContainer;\r\n            var w = chartContainer.innerWidth();\r\n            var h = chartContainer.innerHeight();\r\n            var startAngle = this.get(\"startAngle\", 0);\r\n            var endAngle = this.get(\"endAngle\", 0);\r\n            var innerRadius = this.get(\"innerRadius\");\r\n            var bounds = $math.getArcBounds(0, 0, startAngle, endAngle, 1);\r\n            var wr = w / (bounds.right - bounds.left);\r\n            var hr = h / (bounds.bottom - bounds.top);\r\n            var innerBounds = { left: 0, right: 0, top: 0, bottom: 0 };\r\n            if (innerRadius instanceof Percent) {\r\n                var value = innerRadius.value;\r\n                var mr = Math.min(wr, hr);\r\n                value = Math.max(mr * value, mr - Math.min(h, w)) / mr;\r\n                innerBounds = $math.getArcBounds(0, 0, startAngle, endAngle, value);\r\n                this.setPrivateRaw(\"irModifyer\", value / innerRadius.value);\r\n            }\r\n            bounds = $math.mergeBounds([bounds, innerBounds]);\r\n            var prevRadius = this._maxRadius;\r\n            this._maxRadius = Math.min(wr, hr);\r\n            var radius = $utils.relativeToValue(this.get(\"radius\", 0), this._maxRadius);\r\n            this.seriesContainer.setAll({\r\n                dy: -radius * (bounds.bottom + bounds.top) / 2, dx: -radius * (bounds.right + bounds.left) / 2\r\n            });\r\n            if (this.isDirty(\"startAngle\") || this.isDirty(\"endAngle\") || prevRadius != this._maxRadius) {\r\n                this.series.each(function (series) {\r\n                    series._markDirtyKey(\"startAngle\");\r\n                });\r\n            }\r\n            if (this.isDirty(\"innerRadius\") || this.isDirty(\"radius\")) {\r\n                this.series.each(function (series) {\r\n                    series._markDirtyKey(\"innerRadius\");\r\n                });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns outer radius in pixels.\r\n     *\r\n     * If optional series parameter is passed in, it will return outer radius\r\n     * of that particular series.\r\n     *\r\n     * @param   series  Series\r\n     * @return          Radius in pixels\r\n     */\r\n    Object.defineProperty(PieChart.prototype, \"radius\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            var radius = $utils.relativeToValue(this.get(\"radius\", 0), this._maxRadius);\r\n            var innerRadius = $utils.relativeToValue(this.get(\"innerRadius\", 0), radius);\r\n            if (series) {\r\n                var index = this.series.indexOf(series);\r\n                var length_1 = this.series.length;\r\n                var seriesRadius = series.get(\"radius\");\r\n                if (seriesRadius != null) {\r\n                    return innerRadius + $utils.relativeToValue(seriesRadius, radius - innerRadius);\r\n                }\r\n                else {\r\n                    return innerRadius + (radius - innerRadius) / length_1 * (index + 1);\r\n                }\r\n            }\r\n            return radius;\r\n        }\r\n    });\r\n    /**\r\n     * Returns inner radius in pixels.\r\n     *\r\n     * If optional series parameter is passed in, it will return inner radius\r\n     * of that particular series.\r\n     *\r\n     * @param   series  Series\r\n     * @return          Radius in pixels\r\n     */\r\n    Object.defineProperty(PieChart.prototype, \"innerRadius\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            var radius = this.radius();\r\n            var innerRadius = $utils.relativeToValue(this.get(\"innerRadius\", 0), radius);\r\n            if (innerRadius < 0) {\r\n                innerRadius = radius + innerRadius;\r\n            }\r\n            if (series) {\r\n                var index = this.series.indexOf(series);\r\n                var length_2 = this.series.length;\r\n                var seriesInnerRadius = series.get(\"innerRadius\");\r\n                if (seriesInnerRadius != null) {\r\n                    return innerRadius + $utils.relativeToValue(seriesInnerRadius, radius - innerRadius);\r\n                }\r\n                else {\r\n                    return innerRadius + (radius - innerRadius) / length_2 * index;\r\n                }\r\n            }\r\n            return innerRadius;\r\n        }\r\n    });\r\n    Object.defineProperty(PieChart, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"PieChart\"\r\n    });\r\n    Object.defineProperty(PieChart, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: PercentChart.classNames.concat([PieChart.className])\r\n    });\r\n    return PieChart;\r\n}(PercentChart));\r\nexport { PieChart };\r\n//# sourceMappingURL=PieChart.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { Series } from \"../../core/render/Series\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { visualSettings } from \"../../core/render/Graphics\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\n/**\r\n * A base class for any percent chart series.\r\n */\r\nvar PercentSeries = /** @class */ (function (_super) {\r\n    __extends(PercentSeries, _super);\r\n    function PercentSeries() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"slicesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, { position: \"absolute\", isMeasured: false }))\r\n        });\r\n        Object.defineProperty(_this, \"labelsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, { position: \"absolute\", isMeasured: false }))\r\n        });\r\n        Object.defineProperty(_this, \"ticksContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, { position: \"absolute\", isMeasured: false }))\r\n        });\r\n        Object.defineProperty(_this, \"_lLabels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_rLabels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_hLabels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * A [[ListTemplate]] of all slices in series.\r\n         *\r\n         * `slices.template` can also be used to configure slices.\r\n         */\r\n        Object.defineProperty(_this, \"slices\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._makeSlices()\r\n        });\r\n        /**\r\n         * A [[ListTemplate]] of all slice labels in series.\r\n         *\r\n         * `labels.template` can also be used to configure slice labels.\r\n         */\r\n        Object.defineProperty(_this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._makeLabels()\r\n        });\r\n        /**\r\n         * A [[ListTemplate]] of all slice ticks in series.\r\n         *\r\n         * `ticks.template` can also be used to configure slice ticks.\r\n         */\r\n        Object.defineProperty(_this, \"ticks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._makeTicks()\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(PercentSeries.prototype, \"makeSlice\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var _this = this;\r\n            var slice = this.slicesContainer.children.push(this.slices.make());\r\n            slice.on(\"fill\", function () {\r\n                _this.updateLegendMarker(dataItem);\r\n            });\r\n            slice.on(\"stroke\", function () {\r\n                _this.updateLegendMarker(dataItem);\r\n            });\r\n            slice._setDataItem(dataItem);\r\n            dataItem.set(\"slice\", slice);\r\n            this.slices.push(slice);\r\n            return slice;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(PercentSeries.prototype, \"makeLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var label = this.labelsContainer.children.push(this.labels.make());\r\n            label._setDataItem(dataItem);\r\n            dataItem.set(\"label\", label);\r\n            this.labels.push(label);\r\n            return label;\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_shouldMakeBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            if (dataItem.get(\"value\") != null) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(PercentSeries.prototype, \"makeTick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var tick = this.ticksContainer.children.push(this.ticks.make());\r\n            tick._setDataItem(dataItem);\r\n            dataItem.set(\"tick\", tick);\r\n            this.ticks.push(tick);\r\n            return tick;\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.fields.push(\"category\", \"fill\");\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_onDataClear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var colors = this.get(\"colors\");\r\n            if (colors) {\r\n                colors.reset();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._prepareChildren.call(this);\r\n            this._lLabels = [];\r\n            this._rLabels = [];\r\n            this._hLabels = [];\r\n            if (this._valuesDirty) {\r\n                var sum_1 = 0;\r\n                var absSum_1 = 0;\r\n                var valueHigh_1 = 0;\r\n                var valueLow_1 = Infinity;\r\n                var count_1 = 0;\r\n                $array.each(this._dataItems, function (dataItem) {\r\n                    var valueWorking = dataItem.get(\"valueWorking\", 0);\r\n                    sum_1 += valueWorking;\r\n                    absSum_1 += Math.abs(valueWorking);\r\n                });\r\n                $array.each(this._dataItems, function (dataItem) {\r\n                    var value = dataItem.get(\"valueWorking\", 0);\r\n                    if (value >= absSum_1) {\r\n                        sum_1 = dataItem.get(\"value\", 0);\r\n                    }\r\n                    if (value > valueHigh_1) {\r\n                        valueHigh_1 = value;\r\n                    }\r\n                    if (value < valueLow_1) {\r\n                        valueLow_1 = value;\r\n                    }\r\n                    count_1++;\r\n                    var percentTotal = value / absSum_1;\r\n                    if (absSum_1 == 0) {\r\n                        percentTotal = 0;\r\n                    }\r\n                    dataItem.setRaw(\"valuePercentTotal\", percentTotal * 100);\r\n                });\r\n                this.setPrivateRaw(\"valueLow\", valueLow_1);\r\n                this.setPrivateRaw(\"valueHigh\", valueHigh_1);\r\n                this.setPrivateRaw(\"valueSum\", sum_1);\r\n                this.setPrivateRaw(\"valueAverage\", sum_1 / count_1);\r\n                this.setPrivateRaw(\"valueAbsoluteSum\", absSum_1);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Shows hidden series.\r\n     *\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    Object.defineProperty(PercentSeries.prototype, \"show\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [];\r\n                            promises.push(_super.prototype.show.call(this, duration));\r\n                            promises.push(this._sequencedShowHide(true, duration));\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Hide whole series.\r\n     *\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    Object.defineProperty(PercentSeries.prototype, \"hide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [];\r\n                            promises.push(_super.prototype.hide.call(this, duration));\r\n                            promises.push(this._sequencedShowHide(false, duration));\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(PercentSeries.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._updateChildren.call(this);\r\n            if (this._valuesDirty) {\r\n                $array.each(this._dataItems, function (dataItem) {\r\n                    dataItem.get(\"label\").text.markDirtyText();\r\n                });\r\n            }\r\n            if (this.isDirty(\"legendLabelText\") || this.isDirty(\"legendValueText\")) {\r\n                $array.each(this._dataItems, function (dataItem) {\r\n                    _this.updateLegendValue(dataItem);\r\n                });\r\n            }\r\n            this._arrange();\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_arrange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._arrangeDown(this._lLabels);\r\n            this._arrangeUp(this._lLabels);\r\n            this._arrangeDown(this._rLabels);\r\n            this._arrangeUp(this._rLabels);\r\n            this._arrangeLeft(this._hLabels);\r\n            this._arrangeRight(this._hLabels);\r\n            $array.each(this.dataItems, function (dataItem) {\r\n                _this._updateTick(dataItem);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_afterChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterChanged.call(this);\r\n            this._arrange();\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"processDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            _super.prototype.processDataItem.call(this, dataItem);\r\n            if (dataItem.get(\"fill\") == null) {\r\n                var colors = this.get(\"colors\");\r\n                if (colors) {\r\n                    dataItem.setRaw(\"fill\", colors.next());\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(PercentSeries.prototype, \"showDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises, easing, value, animation, tick, label, slice;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [_super.prototype.showDataItem.call(this, dataItem, duration)];\r\n                            if (!$type.isNumber(duration)) {\r\n                                duration = this.get(\"stateAnimationDuration\", 0);\r\n                            }\r\n                            easing = this.get(\"stateAnimationEasing\");\r\n                            value = dataItem.get(\"value\");\r\n                            animation = dataItem.animate({ key: \"valueWorking\", to: value, duration: duration, easing: easing });\r\n                            if (animation) {\r\n                                promises.push(animation.waitForStop());\r\n                            }\r\n                            tick = dataItem.get(\"tick\");\r\n                            if (tick) {\r\n                                promises.push(tick.show(duration));\r\n                            }\r\n                            label = dataItem.get(\"label\");\r\n                            if (label) {\r\n                                promises.push(label.show(duration));\r\n                            }\r\n                            slice = dataItem.get(\"slice\");\r\n                            if (slice) {\r\n                                promises.push(slice.show(duration));\r\n                            }\r\n                            if (slice.get(\"active\")) {\r\n                                slice.states.applyAnimate(\"active\");\r\n                            }\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(PercentSeries.prototype, \"hideDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises, hiddenState, easing, animation, tick, label, slice;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [_super.prototype.hideDataItem.call(this, dataItem, duration)];\r\n                            hiddenState = this.states.create(\"hidden\", {});\r\n                            if (!$type.isNumber(duration)) {\r\n                                duration = hiddenState.get(\"stateAnimationDuration\", this.get(\"stateAnimationDuration\", 0));\r\n                            }\r\n                            easing = hiddenState.get(\"stateAnimationEasing\", this.get(\"stateAnimationEasing\"));\r\n                            animation = dataItem.animate({ key: \"valueWorking\", to: 0, duration: duration, easing: easing });\r\n                            if (animation) {\r\n                                promises.push(animation.waitForStop());\r\n                            }\r\n                            tick = dataItem.get(\"tick\");\r\n                            if (tick) {\r\n                                promises.push(tick.hide(duration));\r\n                            }\r\n                            label = dataItem.get(\"label\");\r\n                            if (label) {\r\n                                promises.push(label.hide(duration));\r\n                            }\r\n                            slice = dataItem.get(\"slice\");\r\n                            slice.hideTooltip();\r\n                            if (slice) {\r\n                                promises.push(slice.hide(duration));\r\n                            }\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(PercentSeries.prototype, \"disposeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            _super.prototype.disposeDataItem.call(this, dataItem);\r\n            var label = dataItem.get(\"label\");\r\n            if (label) {\r\n                this.labels.removeValue(label);\r\n                label.dispose();\r\n            }\r\n            var tick = dataItem.get(\"tick\");\r\n            if (tick) {\r\n                this.ticks.removeValue(tick);\r\n                tick.dispose();\r\n            }\r\n            var slice = dataItem.get(\"slice\");\r\n            if (slice) {\r\n                this.slices.removeValue(slice);\r\n                slice.dispose();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Triggers hover on a series data item.\r\n     *\r\n     * @since 5.0.7\r\n     * @param  dataItem  Target data item\r\n     */\r\n    Object.defineProperty(PercentSeries.prototype, \"hoverDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var slice = dataItem.get(\"slice\");\r\n            if (slice && !slice.isHidden()) {\r\n                slice.hover();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Triggers un-hover on a series data item.\r\n     *\r\n     * @since 5.0.7\r\n     * @param  dataItem  Target data item\r\n     */\r\n    Object.defineProperty(PercentSeries.prototype, \"unhoverDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var slice = dataItem.get(\"slice\");\r\n            if (slice) {\r\n                slice.unhover();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(PercentSeries.prototype, \"updateLegendMarker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var slice = dataItem.get(\"slice\");\r\n            if (slice) {\r\n                var legendDataItem = dataItem.get(\"legendDataItem\");\r\n                if (legendDataItem) {\r\n                    var markerRectangle_1 = legendDataItem.get(\"markerRectangle\");\r\n                    $array.each(visualSettings, function (setting) {\r\n                        if (slice.get(setting) != null) {\r\n                            markerRectangle_1.set(setting, slice.get(setting));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_arrangeDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (labels) {\r\n            if (labels) {\r\n                var next_1 = this._getNextDown();\r\n                labels.sort(function (a, b) {\r\n                    if (a.y > b.y) {\r\n                        return 1;\r\n                    }\r\n                    else if (a.y < b.y) {\r\n                        return -1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                });\r\n                $array.each(labels, function (l) {\r\n                    var bounds = l.label.adjustedLocalBounds();\r\n                    var labelTop = bounds.top;\r\n                    if (l.y + labelTop < next_1) {\r\n                        l.y = next_1 - labelTop;\r\n                    }\r\n                    l.label.set(\"y\", l.y);\r\n                    next_1 = l.y + bounds.bottom;\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_getNextUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.labelsContainer.maxHeight();\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_getNextDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return 0;\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_arrangeUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (labels) {\r\n            if (labels) {\r\n                var next_2 = this._getNextUp();\r\n                labels.sort(function (a, b) {\r\n                    if (a.y < b.y) {\r\n                        return 1;\r\n                    }\r\n                    else if (a.y > b.y) {\r\n                        return -1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                });\r\n                $array.each(labels, function (l) {\r\n                    var bounds = l.label.adjustedLocalBounds();\r\n                    var labelBottom = bounds.bottom;\r\n                    if (l.y + labelBottom > next_2) {\r\n                        l.y = next_2 - labelBottom;\r\n                    }\r\n                    l.label.set(\"y\", l.y);\r\n                    next_2 = l.y + bounds.top;\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_arrangeRight\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (labels) {\r\n            if (labels) {\r\n                var next_3 = 0;\r\n                labels.sort(function (a, b) {\r\n                    if (a.y > b.y) {\r\n                        return 1;\r\n                    }\r\n                    else if (a.y < b.y) {\r\n                        return -1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                });\r\n                $array.each(labels, function (l) {\r\n                    var bounds = l.label.adjustedLocalBounds();\r\n                    var labelLeft = bounds.left;\r\n                    if (l.y + labelLeft < next_3) {\r\n                        l.y = next_3 - labelLeft;\r\n                    }\r\n                    l.label.set(\"x\", l.y);\r\n                    next_3 = l.y + bounds.right;\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_arrangeLeft\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (labels) {\r\n            if (labels) {\r\n                var next_4 = this.labelsContainer.maxWidth();\r\n                labels.sort(function (a, b) {\r\n                    if (a.y < b.y) {\r\n                        return 1;\r\n                    }\r\n                    else if (a.y > b.y) {\r\n                        return -1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                });\r\n                $array.each(labels, function (l) {\r\n                    var bounds = l.label.adjustedLocalBounds();\r\n                    var labelRight = bounds.right;\r\n                    if (l.y + labelRight > next_4) {\r\n                        l.y = next_4 - labelRight;\r\n                    }\r\n                    l.label.set(\"x\", l.y);\r\n                    next_4 = l.y + bounds.left;\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_updateSize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateSize.call(this);\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_updateTick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) {\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._dispose.call(this);\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                chart.series.removeValue(this);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PercentSeries, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"PercentSeries\"\r\n    });\r\n    Object.defineProperty(PercentSeries, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Series.classNames.concat([PercentSeries.className])\r\n    });\r\n    return PercentSeries;\r\n}(Series));\r\nexport { PercentSeries };\r\n//# sourceMappingURL=PercentSeries.js.map","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"./Graphics\";\r\nimport * as $type from \"../util/Type\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { arc } from \"d3-shape\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * Draws a slice shape.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n */\r\nvar Slice = /** @class */ (function (_super) {\r\n    __extends(Slice, _super);\r\n    function Slice() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(_this, \"ix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(_this, \"iy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_generator\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: arc()\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Slice.prototype, \"_getTooltipPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var tooltipX = this.get(\"tooltipX\");\r\n            var tooltipY = this.get(\"tooltipY\");\r\n            var x = 0;\r\n            var y = 0;\r\n            if ($type.isNumber(tooltipX)) {\r\n                x = tooltipX;\r\n            }\r\n            if ($type.isNumber(tooltipY)) {\r\n                y = tooltipY;\r\n            }\r\n            var radius = this.get(\"radius\", 0);\r\n            var innerRadius = this.get(\"innerRadius\", 0);\r\n            var dRadius = this.get(\"dRadius\", 0);\r\n            var dInnerRadius = this.get(\"dInnerRadius\", 0);\r\n            radius += dRadius;\r\n            innerRadius += dInnerRadius;\r\n            if (innerRadius < 0) {\r\n                innerRadius = radius + innerRadius;\r\n            }\r\n            if (tooltipX instanceof Percent) {\r\n                x = this.ix * (innerRadius + (radius - innerRadius) * tooltipX.value);\r\n            }\r\n            if (tooltipY instanceof Percent) {\r\n                y = this.iy * (innerRadius + (radius - innerRadius) * tooltipY.value);\r\n            }\r\n            if (this.get(\"arc\") >= 360 && innerRadius == 0) {\r\n                x = 0;\r\n                y = 0;\r\n            }\r\n            return { x: x, y: y };\r\n        }\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"radius\") || this.isDirty(\"arc\") || this.isDirty(\"innerRadius\") || this.isDirty(\"startAngle\") || this.isDirty(\"dRadius\") || this.isDirty(\"dInnerRadius\") || this.isDirty(\"cornerRadius\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Slice.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this._clear) {\r\n                var startAngle = this.get(\"startAngle\", 0);\r\n                var arc_1 = this.get(\"arc\", 0);\r\n                var generator = this._generator;\r\n                if (arc_1 < 0) {\r\n                    startAngle = startAngle + arc_1;\r\n                    arc_1 = arc_1 * -1;\r\n                }\r\n                if (arc_1 > 0.1) { // this fixes bug with full circle when arc is very small\r\n                    generator.cornerRadius(this.get(\"cornerRadius\", 0));\r\n                }\r\n                generator.context(this._display);\r\n                var radius = this.get(\"radius\", 0);\r\n                var innerRadius = this.get(\"innerRadius\", 0);\r\n                var dRadius = this.get(\"dRadius\", 0);\r\n                var dInnerRadius = this.get(\"dInnerRadius\", 0);\r\n                radius += dRadius;\r\n                innerRadius += dInnerRadius;\r\n                if (innerRadius < 0) {\r\n                    innerRadius = radius + innerRadius;\r\n                }\r\n                generator({ innerRadius: innerRadius, outerRadius: radius, startAngle: (startAngle + 90) * $math.RADIANS, endAngle: (startAngle + arc_1 + 90) * $math.RADIANS });\r\n                var middleAngle = startAngle + arc_1 / 2;\r\n                this.ix = $math.cos(middleAngle);\r\n                this.iy = $math.sin(middleAngle);\r\n            }\r\n            if (this.isDirty(\"shiftRadius\")) {\r\n                var shiftRadius = this.get(\"shiftRadius\", 0);\r\n                this.setRaw(\"dx\", this.ix * shiftRadius);\r\n                this.setRaw(\"dy\", this.iy * shiftRadius);\r\n                this.markDirtyPosition();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Slice, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Slice\"\r\n    });\r\n    Object.defineProperty(Slice, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([Slice.className])\r\n    });\r\n    return Slice;\r\n}(Graphics));\r\nexport { Slice };\r\n//# sourceMappingURL=Slice.js.map","import { __extends } from \"tslib\";\r\nimport { Text } from \"./Text\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * @ignore\r\n */\r\nvar RadialText = /** @class */ (function (_super) {\r\n    __extends(RadialText, _super);\r\n    function RadialText() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeRadialText(\"\", _this.textStyle)\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(RadialText.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(RadialText.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            this._display.clear();\r\n            if (this.isDirty(\"textType\")) {\r\n                this._display.textType = this.get(\"textType\");\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"radius\")) {\r\n                this._display.radius = this.get(\"radius\");\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"startAngle\")) {\r\n                this._display.startAngle = (this.get(\"startAngle\", 0) + 90) * $math.RADIANS;\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"inside\")) {\r\n                this._display.inside = this.get(\"inside\");\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"orientation\")) {\r\n                this._display.orientation = this.get(\"orientation\");\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"kerning\")) {\r\n                this._display.kerning = this.get(\"kerning\");\r\n                this.markDirtyBounds();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(RadialText, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"RadialText\"\r\n    });\r\n    Object.defineProperty(RadialText, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Text.classNames.concat([RadialText.className])\r\n    });\r\n    return RadialText;\r\n}(Text));\r\nexport { RadialText };\r\n//# sourceMappingURL=RadialText.js.map","import { __extends } from \"tslib\";\r\n// import * as $object from \"../util/Object\";\r\nimport { p50, Percent } from \"../util/Percent\";\r\nimport { Label } from \"./Label\";\r\nimport { RadialText } from \"./RadialText\";\r\nimport * as $math from \"../util/Math\";\r\nimport * as $utils from \"../util/Utils\";\r\nvar RadialLabel = /** @class */ (function (_super) {\r\n    __extends(RadialLabel, _super);\r\n    function RadialLabel() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_flipped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(RadialLabel.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._textKeys.push(\"textType\", \"kerning\");\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(RadialLabel.prototype, \"_makeText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._text = this.children.push(RadialText.new(this._root, {}));\r\n        }\r\n    });\r\n    /**\r\n     * Returns base radius in pixels.\r\n     *\r\n     * @return Base radius\r\n     */\r\n    Object.defineProperty(RadialLabel.prototype, \"baseRadius\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var radiusPrivate = this.getPrivate(\"radius\", 0);\r\n            var innerRadiusPrivate = this.getPrivate(\"innerRadius\", 0);\r\n            var baseRadius = this.get(\"baseRadius\", 0);\r\n            return innerRadiusPrivate + $utils.relativeToValue(baseRadius, radiusPrivate - innerRadiusPrivate);\r\n        }\r\n    });\r\n    /**\r\n     * Returns radius adjustment in pixels.\r\n     *\r\n     * @return Radius\r\n     */\r\n    Object.defineProperty(RadialLabel.prototype, \"radius\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var inside = this.get(\"inside\", false);\r\n            return this.baseRadius() + this.get(\"radius\", 0) * (inside ? -1 : 1);\r\n        }\r\n    });\r\n    Object.defineProperty(RadialLabel.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateChildren.call(this);\r\n            if (this.isDirty(\"baseRadius\") || this.isPrivateDirty(\"radius\") || this.isPrivateDirty(\"innerRadius\") || this.isDirty(\"labelAngle\") || this.isDirty(\"radius\") || this.isDirty(\"inside\") || this.isDirty(\"orientation\") || this.isDirty(\"textType\")) {\r\n                var textType = this.get(\"textType\", \"adjusted\");\r\n                var inside = this.get(\"inside\", false);\r\n                var orientation_1 = this.get(\"orientation\");\r\n                var labelAngle = $math.normalizeAngle(this.get(\"labelAngle\", 0));\r\n                this._text.set(\"startAngle\", this.get(\"labelAngle\", 0));\r\n                this._text.set(\"inside\", inside);\r\n                var sin = $math.sin(labelAngle);\r\n                var cos = $math.cos(labelAngle);\r\n                var baseRadius = this.baseRadius();\r\n                var radius = this.radius();\r\n                this._display.angle = 0;\r\n                if (textType == \"circular\") {\r\n                    this.setAll({\r\n                        paddingTop: 0,\r\n                        paddingBottom: 0,\r\n                        paddingLeft: 0,\r\n                        paddingRight: 0\r\n                    });\r\n                    // Circular labels are handled and positioned differently\r\n                    this._text.set(\"orientation\", orientation_1);\r\n                    this._text.set(\"radius\", radius);\r\n                }\r\n                else {\r\n                    if (baseRadius == 0) {\r\n                        labelAngle = 0;\r\n                        radius = 0;\r\n                    }\r\n                    // Positioning of radial/regular labels are teh same\r\n                    var x = radius * cos;\r\n                    var y = radius * sin;\r\n                    if (textType == \"radial\") {\r\n                        this.setRaw(\"x\", x);\r\n                        this.setRaw(\"y\", y);\r\n                        if ((labelAngle < 90) || (labelAngle > 270) || orientation_1 != \"auto\") {\r\n                            this._display.angle = labelAngle; // + 90;\r\n                            this._flipped = false;\r\n                        }\r\n                        else {\r\n                            this._display.angle = labelAngle + 180;\r\n                            this._flipped = true;\r\n                        }\r\n                        this._dirty.rotation = false;\r\n                    }\r\n                    else if (textType == \"adjusted\") {\r\n                        this.setRaw(\"centerX\", p50);\r\n                        this.setRaw(\"centerY\", p50);\r\n                        this.setRaw(\"x\", x);\r\n                        this.setRaw(\"y\", y);\r\n                    }\r\n                    else if (textType == \"regular\") {\r\n                        this.setRaw(\"x\", x);\r\n                        this.setRaw(\"y\", y);\r\n                    }\r\n                }\r\n                this.markDirtyPosition();\r\n                this.markDirtyBounds();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(RadialLabel.prototype, \"_updatePosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var textType = this.get(\"textType\", \"regular\");\r\n            var inside = this.get(\"inside\", false);\r\n            var dx = 0;\r\n            var dy = 0;\r\n            var labelAngle = this.get(\"labelAngle\", 0);\r\n            var bounds = this.localBounds();\r\n            var w = bounds.right - bounds.left;\r\n            var h = bounds.bottom - bounds.top;\r\n            if (textType == \"radial\") {\r\n                if (this._flipped) {\r\n                    var centerX = this.get(\"centerX\");\r\n                    if (centerX instanceof Percent) {\r\n                        w = w * (1 - centerX.value * 2);\r\n                    }\r\n                    dx = w * $math.cos(labelAngle);\r\n                    dy = w * $math.sin(labelAngle);\r\n                }\r\n            }\r\n            else if (!inside && textType == \"adjusted\") {\r\n                dx = w / 2 * $math.cos(labelAngle);\r\n                dy = h / 2 * $math.sin(labelAngle);\r\n            }\r\n            this.setRaw(\"dx\", dx);\r\n            this.setRaw(\"dy\", dy);\r\n            _super.prototype._updatePosition.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(RadialLabel.prototype, \"text\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this._text;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadialLabel, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"RadialLabel\"\r\n    });\r\n    Object.defineProperty(RadialLabel, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Label.classNames.concat([RadialLabel.className])\r\n    });\r\n    return RadialLabel;\r\n}(Label));\r\nexport { RadialLabel };\r\n//# sourceMappingURL=RadialLabel.js.map","import { __extends } from \"tslib\";\r\nimport { PercentSeries } from \"../percent/PercentSeries\";\r\nimport { Template } from \"../../core/util/Template\";\r\nimport { Slice } from \"../../core/render/Slice\";\r\nimport { Tick } from \"../../core/render/Tick\";\r\nimport { RadialLabel } from \"../../core/render/RadialLabel\";\r\nimport { ListTemplate } from \"../../core/util/List\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Creates a series for a [[PieChart]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/percent-charts/pie-chart/} for more info\r\n * @important\r\n */\r\nvar PieSeries = /** @class */ (function (_super) {\r\n    __extends(PieSeries, _super);\r\n    function PieSeries() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(PieSeries.prototype, \"_makeSlices\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            return new ListTemplate(Template.new({}), function () { return Slice._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.slices.template.get(\"themeTags\", []), [\"pie\", \"series\"])\r\n            }, [_this.slices.template]); });\r\n        }\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"_makeLabels\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            return new ListTemplate(Template.new({}), function () { return RadialLabel._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.labels.template.get(\"themeTags\", []), [\"pie\", \"series\"])\r\n            }, [_this.labels.template]); });\r\n        }\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"_makeTicks\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            return new ListTemplate(Template.new({}), function () { return Tick._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.ticks.template.get(\"themeTags\", []), [\"pie\", \"series\"])\r\n            }, [_this.ticks.template]); });\r\n        }\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"processDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var _this = this;\r\n            _super.prototype.processDataItem.call(this, dataItem);\r\n            var slice = this.makeSlice(dataItem);\r\n            slice.on(\"scale\", function () {\r\n                _this._updateTick(dataItem);\r\n            });\r\n            slice.on(\"shiftRadius\", function () {\r\n                _this._updateTick(dataItem);\r\n            });\r\n            slice.events.on(\"positionchanged\", function () {\r\n                _this._updateTick(dataItem);\r\n            });\r\n            var label = this.makeLabel(dataItem);\r\n            label.events.on(\"positionchanged\", function () {\r\n                _this._updateTick(dataItem);\r\n            });\r\n            this.makeTick(dataItem);\r\n            slice.events.on(\"positionchanged\", function () {\r\n                label.markDirty();\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"_getNextUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                return chart._maxRadius;\r\n            }\r\n            return this.labelsContainer.maxHeight() / 2;\r\n        }\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"_getNextDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                return -chart._maxRadius;\r\n            }\r\n            return -this.labelsContainer.maxHeight() / 2;\r\n        }\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._prepareChildren.call(this);\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                if (this.isDirty(\"alignLabels\")) {\r\n                    var labelsTemplate = this.labels.template;\r\n                    if (this.get(\"alignLabels\")) {\r\n                        labelsTemplate.set(\"textType\", \"aligned\");\r\n                    }\r\n                    else {\r\n                        var textType = labelsTemplate.get(\"textType\");\r\n                        if (textType == null || textType == \"aligned\") {\r\n                            labelsTemplate.set(\"textType\", \"adjusted\");\r\n                        }\r\n                    }\r\n                }\r\n                if (this._valuesDirty || this.isDirty(\"radius\") || this.isDirty(\"innerRadius\") || this.isDirty(\"startAngle\") || this.isDirty(\"endAngle\") || this.isDirty(\"alignLabels\")) {\r\n                    this.markDirtyBounds();\r\n                    var startAngle = this.get(\"startAngle\", chart.get(\"startAngle\", -90));\r\n                    var endAngle = this.get(\"endAngle\", chart.get(\"endAngle\", 270));\r\n                    var arc_1 = endAngle - startAngle;\r\n                    var currentAngle_1 = startAngle;\r\n                    var radius_1 = chart.radius(this);\r\n                    this.setPrivateRaw(\"radius\", radius_1);\r\n                    var innerRadius_1 = chart.innerRadius(this) * chart.getPrivate(\"irModifyer\", 1);\r\n                    if (innerRadius_1 < 0) {\r\n                        innerRadius_1 = radius_1 + innerRadius_1;\r\n                    }\r\n                    //if (radius > 0) {\r\n                    $array.each(this._dataItems, function (dataItem) {\r\n                        _this.updateLegendValue(dataItem);\r\n                        var currentArc = arc_1 * dataItem.get(\"valuePercentTotal\") / 100;\r\n                        var slice = dataItem.get(\"slice\");\r\n                        if (slice) {\r\n                            slice.set(\"radius\", radius_1);\r\n                            slice.set(\"innerRadius\", innerRadius_1);\r\n                            slice.set(\"startAngle\", currentAngle_1);\r\n                            slice.set(\"arc\", currentArc);\r\n                            var color = dataItem.get(\"fill\");\r\n                            slice._setDefault(\"fill\", color);\r\n                            slice._setDefault(\"stroke\", color);\r\n                        }\r\n                        var middleAngle = $math.normalizeAngle(currentAngle_1 + currentArc / 2);\r\n                        var label = dataItem.get(\"label\");\r\n                        if (label) {\r\n                            label.setPrivate(\"radius\", radius_1);\r\n                            label.setPrivate(\"innerRadius\", innerRadius_1);\r\n                            label.set(\"labelAngle\", middleAngle);\r\n                            if (label.get(\"textType\") == \"aligned\") {\r\n                                var labelRadius = radius_1 + label.get(\"radius\", 0);\r\n                                var y = radius_1 * $math.sin(middleAngle);\r\n                                if (middleAngle > 90 && middleAngle <= 270) {\r\n                                    if (!label.isHidden() && !label.isHiding()) {\r\n                                        _this._lLabels.push({ label: label, y: y });\r\n                                    }\r\n                                    labelRadius *= -1;\r\n                                    labelRadius -= _this.labelsContainer.get(\"paddingLeft\", 0);\r\n                                    label.set(\"centerX\", p100);\r\n                                    label.setPrivateRaw(\"left\", true);\r\n                                }\r\n                                else {\r\n                                    if (!label.isHidden() && !label.isHiding()) {\r\n                                        _this._rLabels.push({ label: label, y: y });\r\n                                    }\r\n                                    labelRadius += _this.labelsContainer.get(\"paddingRight\", 0);\r\n                                    label.set(\"centerX\", 0);\r\n                                    label.setPrivateRaw(\"left\", false);\r\n                                }\r\n                                label.set(\"x\", labelRadius);\r\n                                label.set(\"y\", radius_1 * $math.sin(middleAngle));\r\n                            }\r\n                        }\r\n                        currentAngle_1 += currentArc;\r\n                        _this._updateTick(dataItem);\r\n                    });\r\n                    //}\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"_updateTick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var tick = dataItem.get(\"tick\");\r\n            var label = dataItem.get(\"label\");\r\n            var slice = dataItem.get(\"slice\");\r\n            var location = tick.get(\"location\", 1);\r\n            if (tick && label && slice) {\r\n                var radius = (slice.get(\"shiftRadius\", 0) + slice.get(\"radius\", 0)) * slice.get(\"scale\", 1) * location;\r\n                var labelAngle = label.get(\"labelAngle\", 0);\r\n                var cos = $math.cos(labelAngle);\r\n                var sin = $math.sin(labelAngle);\r\n                var labelsContainer = this.labelsContainer;\r\n                var pl = labelsContainer.get(\"paddingLeft\", 0);\r\n                var pr = labelsContainer.get(\"paddingRight\", 0);\r\n                var x = 0;\r\n                var y = 0;\r\n                x = label.x();\r\n                y = label.y();\r\n                if (label.get(\"textType\") == \"circular\") {\r\n                    var labelRadius = label.radius() - label.get(\"paddingBottom\", 0);\r\n                    var labelAngle_1 = label.get(\"labelAngle\", 0);\r\n                    x = labelRadius * $math.cos(labelAngle_1);\r\n                    y = labelRadius * $math.sin(labelAngle_1);\r\n                }\r\n                var dx = -pr;\r\n                if (label.getPrivate(\"left\")) {\r\n                    dx = pl;\r\n                }\r\n                tick.set(\"points\", [{ x: slice.x() + radius * cos, y: slice.y() + radius * sin }, { x: x + dx, y: y }, { x: x, y: y }]);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"_positionBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bullet) {\r\n            var sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                var dataItem = sprite.dataItem;\r\n                var slice = dataItem.get(\"slice\");\r\n                if (slice) {\r\n                    var innerRadius = slice.get(\"innerRadius\", 0);\r\n                    var radius = slice.get(\"radius\", 0);\r\n                    var startAngle = slice.get(\"startAngle\", 0);\r\n                    var arc = slice.get(\"arc\", 0);\r\n                    var locationX = bullet.get(\"locationX\", 0.5);\r\n                    var locationY = bullet.get(\"locationY\", 0.5);\r\n                    var angle = startAngle + arc * locationX;\r\n                    var r = innerRadius + (radius - innerRadius) * locationY;\r\n                    sprite.setAll({ x: $math.cos(angle) * r, y: $math.sin(angle) * r });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PieSeries, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"PieSeries\"\r\n    });\r\n    Object.defineProperty(PieSeries, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: PercentSeries.classNames.concat([PieSeries.className])\r\n    });\r\n    return PieSeries;\r\n}(PercentSeries));\r\nexport { PieSeries };\r\n//# sourceMappingURL=PieSeries.js.map","<template>\n  <div class=\"myChart\" ref=\"chartdiv\" :style=\"containerSize\"></div>\n</template>\n\n<script>\nimport * as am5 from '@amcharts/amcharts5';\nimport * as am5percent from \"@amcharts/amcharts5/percent\";\nimport am5themes_Animated from '@amcharts/amcharts5/themes/Animated';\n\nexport default {\n  name: 'ChartView',\n  data() {\n    return {}\n  },\n  props: {\n    containerSize: {\n      type: Object,\n      required: true\n    }\n  },\n  mounted() {\n    let root = am5.Root.new(this.$refs.chartdiv);\n\n    root.setThemes([am5themes_Animated.new(root)]);\n\n\n    let chart = root.container.children.push(\n        am5percent.PieChart.new(root, {\n          name: 'Series',\n          categoryField: \"company\",\n          valueField: 'value',\n          // startAngle: -180,\n          // endAngle: 0\n          radius: am5.percent(60),\n          innerRadius: am5.percent(80),\n          maxTooltipDistance: 0\n        })\n    );\n\n\n    let data = [\n      {\n        company: 'Alpha',\n        value: 1200\n      },\n      {\n        company: 'Bravo',\n        value: 800\n      },\n      {\n        company: 'Charlie',\n        value: 500\n      },\n      {\n        company: 'Delta',\n        value: 100\n      },\n      {\n        company: 'Easy',\n        value: 50\n      },\n    ];\n\n    let series = chart.series.push(\n        am5percent.PieSeries.new(root, {\n          name: \"Series\",\n          valueField: \"value\",\n          categoryField: \"company\",\n          alignLabels: false,\n          // startAngle: -180,\n          // endAngle: 0\n          legendLabelText: \"[{fill}]{category}{/}\",\n          legendValueText: \"[bold {fill}]{value}[/]\",\n        })\n    );\n    series.data.setAll(data);\n\n    // Add legend\n    let legend = chart.children.push(am5.Legend.new(root, {\n      centerY: am5.percent(50),\n      y: am5.percent(50),\n      layout: root.verticalLayout\n    }));\n\n    legend.data.setAll(series.dataItems)\n\n    series.slices.template.setAll({\n      strokeOpacity: 0.5,\n      stroke: am5.color(0xffffff),\n      strokeWidth: 2,\n      // tooltipText: ''\n    })\n\n    series.slices.template.states.create('active', {\n      shiftRadius: 20,\n      stroke: am5.color(0xffffff),\n      strokeWidth: 5\n    })\n\n    series.labels.template.setAll({\n      // fill: am5.color(0xffffff),\n      text: \"{category}\",\n      radius: 10,\n      // inside: true,\n      // textType: 'circular'\n    })\n\n    //\n    // let label = chart.seriesContainer.children.push(am5.Label.new(root, {\n    //   textAlign: 'center',\n    //   centerY: am5.p100,\n    //   centerX: am5.p50,\n    //   text: '',\n    //   fontSize: 30\n    // }))\n    //\n    // // let currentSlice;\n    // series.slices.template.on('active', (active, slice) => {\n    //   // if(currentSlice && currentSlice !== slice && active) {\n    //   //   currentSlice.set('active', false)\n    //   // }\n    //   console.log(slice)\n    //   let color = slice.get('fill');\n    //\n    //   label.setAll({\n    //     fill: color,\n    //     text: \"1200\"\n    //   })\n    //\n    //   // currentSlice = slice\n    // })\n\n    series.labels.template.set(\"visible\", false)\n    series.ticks.template.set(\"visible\", false)\n\n\n\n\n\n    series.appear(1000);\n    chart.appear(1000, 100);\n\n    this.root = root;\n\n  },\n  beforeDestroy() {\n    if (this.root) {\n      this.root.dispose();\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PieCharts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PieCharts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PieCharts.vue?vue&type=template&id=9babdeca&\"\nimport script from \"./PieCharts.vue?vue&type=script&lang=js&\"\nexport * from \"./PieCharts.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"chartdiv\",staticClass:\"myChart gauge\",style:(_vm.containerSize)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { __extends } from \"tslib\";\r\nimport { Axis } from \"./Axis\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $math from \"../../../core/util/Math\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nimport { populateString } from \"../../../core/util/PopulateString\";\r\n/**\r\n * Creates a category axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/category-axis/} for more info\r\n * @important\r\n */\r\nvar CategoryAxis = /** @class */ (function (_super) {\r\n    __extends(CategoryAxis, _super);\r\n    function CategoryAxis() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_frequency\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_itemMap\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CategoryAxis.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"axis\"]);\r\n            this.fields.push(\"category\");\r\n            this.setPrivateRaw(\"name\", \"category\");\r\n            this.addTag(\"category\");\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(CategoryAxis.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._prepareChildren.call(this);\r\n            var len = this.dataItems.length;\r\n            var i = 0;\r\n            if (this._valuesDirty) {\r\n                this._itemMap = {};\r\n                $array.each(this.dataItems, function (dataItem) {\r\n                    dataItem.setRaw(\"index\", i);\r\n                    _this._itemMap[dataItem.get(\"category\")] = dataItem;\r\n                    i++;\r\n                });\r\n                this.setPrivateRaw(\"maxZoomFactor\", len);\r\n            }\r\n            this.setPrivateRaw(\"startIndex\", Math.max(Math.round(this.get(\"start\", 0) * len), 0));\r\n            this.setPrivateRaw(\"endIndex\", Math.min(Math.round(this.get(\"end\", 1) * len), len));\r\n            if (this._sizeDirty || this._valuesDirty || (this.isDirty(\"start\") || this.isDirty(\"end\") || this.isPrivateDirty(\"endIndex\") || this.isPrivateDirty(\"startIndex\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\"))) {\r\n                if (this.dataItems.length > 0) {\r\n                    this._handleRangeChange();\r\n                    this._prepareAxisItems();\r\n                    this._updateAxisRanges();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CategoryAxis.prototype, \"_handleRangeChange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $array.each(this.series, function (series) {\r\n                var startCategory = _this.dataItems[_this.startIndex()].get(\"category\");\r\n                var endCategory = _this.dataItems[_this.endIndex() - 1].get(\"category\");\r\n                var baseAxis = series.get(\"baseAxis\");\r\n                var xAxis = series.get(\"xAxis\");\r\n                var yAxis = series.get(\"yAxis\");\r\n                if (xAxis instanceof CategoryAxis && yAxis instanceof CategoryAxis) {\r\n                    series._markDirtyAxes();\r\n                }\r\n                else if (baseAxis === _this) {\r\n                    var key = void 0;\r\n                    var openKey = void 0;\r\n                    var otherAxis = yAxis;\r\n                    if (xAxis === baseAxis) {\r\n                        if (series.get(\"categoryXField\")) {\r\n                            key = \"categoryX\";\r\n                        }\r\n                        if (series.get(\"openCategoryXField\")) {\r\n                            openKey = \"openCategoryX\";\r\n                        }\r\n                    }\r\n                    else if (yAxis === baseAxis) {\r\n                        if (series.get(\"categoryYField\")) {\r\n                            key = \"categoryY\";\r\n                        }\r\n                        if (series.get(\"openCategoryYField\")) {\r\n                            openKey = \"openCategoryY\";\r\n                        }\r\n                        otherAxis = xAxis;\r\n                    }\r\n                    if (otherAxis.className == \"ValueAxis\") {\r\n                        if (key || openKey) {\r\n                            var startDataItem = void 0;\r\n                            var endDataItem = void 0;\r\n                            for (var i = 0, len = series.dataItems.length; i < len; i++) {\r\n                                var dataItem = series.dataItems[i];\r\n                                if (key) {\r\n                                    if (dataItem.get(key) === startCategory) {\r\n                                        startDataItem = dataItem;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (openKey) {\r\n                                    if (dataItem.get(openKey) === startCategory) {\r\n                                        startDataItem = dataItem;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                            for (var i = series.dataItems.length - 1; i >= 0; i--) {\r\n                                var dataItem = series.dataItems[i];\r\n                                if (key) {\r\n                                    if (dataItem.get(key) === endCategory) {\r\n                                        endDataItem = dataItem;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (openKey) {\r\n                                    if (dataItem.get(openKey) === endCategory) {\r\n                                        endDataItem = dataItem;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                            var startIndex = 0;\r\n                            var endIndex = series.dataItems.length;\r\n                            if (startDataItem) {\r\n                                startIndex = series.dataItems.indexOf(startDataItem);\r\n                            }\r\n                            if (endDataItem) {\r\n                                endIndex = series.dataItems.indexOf(endDataItem) + 1;\r\n                            }\r\n                            series.setPrivate(\"startIndex\", startIndex);\r\n                            series.setPrivate(\"endIndex\", endIndex);\r\n                            var hasValue_1 = false;\r\n                            var _loop_1 = function (i) {\r\n                                var dataItem = series.dataItems[i];\r\n                                $array.each(series.__valueXShowFields, function (key) {\r\n                                    var value = dataItem.get(key);\r\n                                    if (value != null) {\r\n                                        hasValue_1 = true;\r\n                                    }\r\n                                });\r\n                                $array.each(series.__valueYShowFields, function (key) {\r\n                                    var value = dataItem.get(key);\r\n                                    if (value != null) {\r\n                                        hasValue_1 = true;\r\n                                    }\r\n                                });\r\n                                if (hasValue_1) {\r\n                                    return \"break\";\r\n                                }\r\n                            };\r\n                            for (var i = startIndex; i < endIndex; i++) {\r\n                                var state_1 = _loop_1(i);\r\n                                if (state_1 === \"break\")\r\n                                    break;\r\n                            }\r\n                            series.setPrivate(\"outOfSelection\", !hasValue_1);\r\n                        }\r\n                    }\r\n                    series._markDirtyAxes(); // must be outside\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(CategoryAxis.prototype, \"_prepareAxisItems\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var renderer = this.get(\"renderer\");\r\n            var len = this.dataItems.length;\r\n            this._bullets = {};\r\n            var startIndex = this.startIndex();\r\n            if (startIndex > 0) {\r\n                startIndex--;\r\n            }\r\n            var endIndex = this.endIndex();\r\n            if (endIndex < len) {\r\n                endIndex++;\r\n            }\r\n            var maxCount = renderer.axisLength() / Math.max(renderer.get(\"minGridDistance\"), 1 / Number.MAX_SAFE_INTEGER);\r\n            var frequency = Math.max(1, Math.min(len, Math.ceil((endIndex - startIndex) / maxCount)));\r\n            startIndex = Math.floor(startIndex / frequency) * frequency;\r\n            this._frequency = frequency;\r\n            for (var j = 0; j < len; j++) {\r\n                this.dataItems[j].hide();\r\n            }\r\n            var f = this.dataItems[startIndex].get(\"index\", 0);\r\n            for (var i = startIndex; i < endIndex; i = i + frequency) {\r\n                var dataItem = this.dataItems[i];\r\n                this._createAssets(dataItem, []);\r\n                if (dataItem.isHidden()) {\r\n                    dataItem.show();\r\n                }\r\n                this._prepareDataItem(dataItem, f, frequency);\r\n                f++;\r\n            }\r\n            this._updateGhost();\r\n        }\r\n    });\r\n    Object.defineProperty(CategoryAxis.prototype, \"_prepareDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, fillIndex, count) {\r\n            var renderer = this.get(\"renderer\");\r\n            var categoryLocation = dataItem.get(\"categoryLocation\", 0);\r\n            var endCategoryLocation = dataItem.get(\"endCategoryLocation\", 1);\r\n            var index = dataItem.get(\"index\");\r\n            if (!$type.isNumber(index)) {\r\n                index = this.categoryToIndex(dataItem.get(\"category\"));\r\n            }\r\n            var position = this.indexToPosition(index, categoryLocation);\r\n            var endCategory = dataItem.get(\"endCategory\");\r\n            var endIndex;\r\n            if (endCategory) {\r\n                endIndex = this.categoryToIndex(endCategory);\r\n                if (!$type.isNumber(endIndex)) {\r\n                    endIndex = index;\r\n                }\r\n            }\r\n            else {\r\n                endIndex = index;\r\n            }\r\n            var endPosition = this.indexToPosition(endIndex, endCategoryLocation);\r\n            var fillEndIndex;\r\n            var fillEndPosition;\r\n            if (dataItem.get(\"isRange\")) {\r\n                fillEndIndex = endIndex;\r\n            }\r\n            else {\r\n                fillEndIndex = index + this._frequency - 1;\r\n            }\r\n            fillEndPosition = this.indexToPosition(fillEndIndex, endCategoryLocation);\r\n            renderer.updateLabel(dataItem.get(\"label\"), position, endPosition, count);\r\n            renderer.updateGrid(dataItem.get(\"grid\"), position, endPosition);\r\n            renderer.updateTick(dataItem.get(\"tick\"), position, endPosition, count);\r\n            renderer.updateFill(dataItem.get(\"axisFill\"), position, fillEndPosition);\r\n            this._processBullet(dataItem);\r\n            renderer.updateBullet(dataItem.get(\"bullet\"), position, endPosition);\r\n            var fillRule = this.get(\"fillRule\");\r\n            if (fillRule) {\r\n                fillRule(dataItem, fillIndex);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CategoryAxis.prototype, \"startIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var len = this.dataItems.length;\r\n            return Math.min(Math.max(this.getPrivate(\"startIndex\", 0), 0), len - 1);\r\n        }\r\n    });\r\n    Object.defineProperty(CategoryAxis.prototype, \"endIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var len = this.dataItems.length;\r\n            return Math.max(1, Math.min(this.getPrivate(\"endIndex\", len), len));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"baseValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"basePosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific category index.\r\n     *\r\n     * @param   value  Index\r\n     * @return         X coordinate\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"getX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var axisDataItem = this._itemMap[value];\r\n            if (axisDataItem) {\r\n                return this._settings.renderer.positionToCoordinate(this.indexToPosition(axisDataItem.get(\"index\", 0)));\r\n            }\r\n            return NaN;\r\n        }\r\n    });\r\n    /**\r\n     * Returns Y coordinate in pixels corresponding to specific category index.\r\n     *\r\n     * @param   value  Index\r\n     * @return         Y coordinate\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"getY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var axisDataItem = this._itemMap[value];\r\n            if (axisDataItem) {\r\n                return this._settings.renderer.positionToCoordinate(this.indexToPosition(axisDataItem.get(\"index\", 0)));\r\n            }\r\n            return NaN;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"getDataItemPositionX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, cellLocation, _axisLocation) {\r\n            var category = dataItem.get(field);\r\n            var axisDataItem = this._itemMap[category];\r\n            if (axisDataItem) {\r\n                return this.indexToPosition(axisDataItem.get(\"index\", 0), cellLocation);\r\n            }\r\n            return NaN;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"getDataItemCoordinateX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, cellLocation, _axisLocation) {\r\n            return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, cellLocation, _axisLocation));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"getDataItemPositionY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, cellLocation, _axisLocation) {\r\n            var category = dataItem.get(field);\r\n            var axisDataItem = this._itemMap[category];\r\n            if (axisDataItem) {\r\n                return this.indexToPosition(axisDataItem.get(\"index\", 0), cellLocation);\r\n            }\r\n            return NaN;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"getDataItemCoordinateY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, cellLocation, _axisLocation) {\r\n            return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, cellLocation, _axisLocation));\r\n        }\r\n    });\r\n    /**\r\n     * Converts category index to a relative position.\r\n     *\r\n     * `location` indicates relative position within category: 0 - start, 1 - end.\r\n     *\r\n     * If not set, will use middle (0.5) of the category.\r\n     *\r\n     * @param   index     Index\r\n     * @param   location  Location\r\n     * @return            Index\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"indexToPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, location) {\r\n            if (!$type.isNumber(location)) {\r\n                location = 0.5;\r\n            }\r\n            var len = this.dataItems.length;\r\n            var startLocation = this.get(\"startLocation\", 0);\r\n            var endLocation = this.get(\"endLocation\", 1);\r\n            len -= startLocation;\r\n            len -= (1 - endLocation);\r\n            var position = (index + location - startLocation) / len;\r\n            var dataItem = this.dataItems[index];\r\n            if (dataItem) {\r\n                position += dataItem.get(\"deltaPosition\", 0);\r\n            }\r\n            return position;\r\n        }\r\n    });\r\n    /**\r\n     * Returns an index of a category.\r\n     *\r\n     * @param   category  Category to look up\r\n     * @return            Index\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"categoryToIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (category) {\r\n            var dataItem = this._itemMap[category];\r\n            if (dataItem) {\r\n                return dataItem.get(\"index\");\r\n            }\r\n            return NaN;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"dataItemToPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            return this.indexToPosition(dataItem.get(\"index\"));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"roundAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position, location) {\r\n            position += (0.5 - location) / this.dataItems.length;\r\n            return this.indexToPosition(this.axisPositionToIndex(position), location);\r\n        }\r\n    });\r\n    /**\r\n     * Returns an index of the category that corresponds to specific pixel\r\n     * position within axis.\r\n     *\r\n     * @param position  Position (px)\r\n     * @return Category index\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"axisPositionToIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var len = this.dataItems.length;\r\n            return $math.fitToRange(Math.floor(position * len), 0, len - 1); //$math.fitToRange(Math.floor((end - start) * len * position + len * start), 0, len - 1);\r\n        }\r\n    });\r\n    /**\r\n     * Returns text to be used in an axis tooltip for specific relative position.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Tooltip text\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"getTooltipText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            //@todo number formatter + tag\r\n            var dataItem = this.dataItems[this.axisPositionToIndex(position)];\r\n            if (dataItem) {\r\n                var label = dataItem.get(\"label\");\r\n                if (label) {\r\n                    return populateString(label, this.get(\"tooltipText\", \"\"));\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CategoryAxis.prototype, \"_updateTooltipText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip, position) {\r\n            tooltip._setDataItem(this.dataItems[this.axisPositionToIndex(position)]);\r\n            tooltip.label.text.markDirtyText();\r\n        }\r\n    });\r\n    /**\r\n     * Returns a data item from series that is closest to the `position`.\r\n     *\r\n     * @param   series    Series\r\n     * @param   position  Relative position\r\n     * @return            Data item\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"getSeriesItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series, position) {\r\n            if (this.dataItems.length > 0) {\r\n                var fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n                var index = this.axisPositionToIndex(position);\r\n                // try simple first\r\n                var seriesDataItem = series.dataItems[index];\r\n                var axisDataItem = this.dataItems[index];\r\n                var category = axisDataItem.get(\"category\");\r\n                if (seriesDataItem && axisDataItem) {\r\n                    if (seriesDataItem.get(fieldName) === category) {\r\n                        return seriesDataItem;\r\n                    }\r\n                }\r\n                // if not found, try looking\r\n                for (var i = 0, len = series.dataItems.length; i < len; i++) {\r\n                    var dataItem = series.dataItems[i];\r\n                    if (dataItem.get(fieldName) === category) {\r\n                        return dataItem;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Zooms the axis to specific `start` and `end` indexes.\r\n     *\r\n     * Optional `duration` specifies duration of zoom animation in milliseconds.\r\n     *\r\n     * @param  start     Start index\r\n     * @param  end       End index\r\n     * @param  duration  Duration in milliseconds\r\n     */\r\n    Object.defineProperty(CategoryAxis.prototype, \"zoomToIndexes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (start, end, duration) {\r\n            var len = this.dataItems.length;\r\n            this.zoom(start / len, end / len, duration);\r\n        }\r\n    });\r\n    Object.defineProperty(CategoryAxis.prototype, \"zoomToCategories\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (startCategory, endCategory, duration) {\r\n            this.zoomToIndexes(this.categoryToIndex(startCategory), this.categoryToIndex(endCategory) + 1, duration);\r\n        }\r\n    });\r\n    Object.defineProperty(CategoryAxis, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"CategoryAxis\"\r\n    });\r\n    Object.defineProperty(CategoryAxis, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Axis.classNames.concat([CategoryAxis.className])\r\n    });\r\n    return CategoryAxis;\r\n}(Axis));\r\nexport { CategoryAxis };\r\n//# sourceMappingURL=CategoryAxis.js.map","import { __extends } from \"tslib\";\r\nimport { Theme } from \"../../core/Theme\";\r\nimport { percent } from \"../../core/util/Percent\";\r\nimport { setColor } from \"../../themes/DefaultTheme\";\r\n/**\r\n * @ignore\r\n */\r\nvar RadarDefaultTheme = /** @class */ (function (_super) {\r\n    __extends(RadarDefaultTheme, _super);\r\n    function RadarDefaultTheme() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(RadarDefaultTheme.prototype, \"setupDefaultRules\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.setupDefaultRules.call(this);\r\n            var r = this.rule.bind(this);\r\n            var ic = this._root.interfaceColors;\r\n            /**\r\n             * ========================================================================\r\n             * charts/radar\r\n             * ========================================================================\r\n             */\r\n            r(\"RadarChart\").setAll({\r\n                radius: percent(80),\r\n                innerRadius: 0,\r\n                startAngle: -90,\r\n                endAngle: 270\r\n            });\r\n            r(\"RadarColumnSeries\").setAll({\r\n                clustered: true\r\n            });\r\n            r(\"Slice\", [\"radar\", \"column\", \"series\"]).setAll({\r\n                width: percent(80),\r\n                height: percent(80)\r\n            });\r\n            r(\"RadarLineSeries\").setAll({\r\n                connectEnds: true\r\n            });\r\n            r(\"SmoothedRadarLineSeries\").setAll({\r\n                tension: 0.5\r\n            });\r\n            r(\"AxisRendererRadial\").setAll({\r\n                minGridDistance: 40,\r\n                axisAngle: -90,\r\n                inversed: false,\r\n                cellStartLocation: 0,\r\n                cellEndLocation: 1\r\n            });\r\n            r(\"AxisRendererCircular\").setAll({\r\n                minGridDistance: 100,\r\n                inversed: false,\r\n                cellStartLocation: 0,\r\n                cellEndLocation: 1\r\n            });\r\n            r(\"RadialLabel\", [\"circular\"]).setAll({\r\n                textType: \"circular\",\r\n                paddingTop: 1,\r\n                paddingRight: 0,\r\n                paddingBottom: 1,\r\n                paddingLeft: 0,\r\n                centerX: 0,\r\n                centerY: 0,\r\n                radius: 8\r\n            });\r\n            r(\"AxisLabelRadial\", [\"category\"]).setAll({\r\n                text: \"{category}\",\r\n                populateText: true\r\n            });\r\n            r(\"RadialLabel\", [\"radial\"]).setAll({\r\n                textType: \"regular\",\r\n                centerX: 0,\r\n                textAlign: \"right\"\r\n            });\r\n            r(\"RadarChart\", [\"gauge\"]).setAll({\r\n                startAngle: 180,\r\n                endAngle: 360,\r\n                innerRadius: percent(90)\r\n            });\r\n            r(\"ClockHand\").setAll({\r\n                topWidth: 1,\r\n                bottomWidth: 10,\r\n                radius: percent(90),\r\n                pinRadius: 10\r\n            });\r\n            {\r\n                var rule = r(\"Graphics\", [\"clock\", \"hand\"]);\r\n                rule.setAll({\r\n                    fillOpacity: 1\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n            }\r\n            {\r\n                var rule = r(\"Graphics\", [\"clock\", \"pin\"]);\r\n                rule.setAll({\r\n                    fillOpacity: 1\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n            }\r\n        }\r\n    });\r\n    return RadarDefaultTheme;\r\n}(Theme));\r\nexport { RadarDefaultTheme };\r\n//# sourceMappingURL=RadarDefaultTheme.js.map","import { __extends, __read } from \"tslib\";\r\nimport { RadarDefaultTheme } from \"./RadarDefaultTheme\";\r\nimport { XYChart } from \"../xy/XYChart\";\r\nimport { Percent, p50, percent } from \"../../core/util/Percent\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Graphics } from \"../../core/render/Graphics\";\r\nimport { arc } from \"d3-shape\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as $math from \"../../core/util/Math\";\r\n/**\r\n * Radar chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/radar-chart/} for more info\r\n * @important\r\n */\r\nvar RadarChart = /** @class */ (function (_super) {\r\n    __extends(RadarChart, _super);\r\n    function RadarChart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * [[Container]] where radar-related elements go.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"radarContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.plotContainer.children.push(Container.new(_this._root, { x: p50, y: p50 }))\r\n        });\r\n        Object.defineProperty(_this, \"_arcGenerator\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: arc()\r\n        });\r\n        Object.defineProperty(_this, \"_maxRadius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(RadarChart.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._defaultThemes.push(RadarDefaultTheme.new(this._root));\r\n            _super.prototype._afterNew.call(this);\r\n            var radarContainer = this.radarContainer;\r\n            var gridContainer = this.gridContainer;\r\n            var topGridContainer = this.topGridContainer;\r\n            var seriesContainer = this.seriesContainer;\r\n            var bulletsContainer = this.bulletsContainer;\r\n            radarContainer.children.pushAll([gridContainer, seriesContainer, topGridContainer, bulletsContainer]);\r\n            seriesContainer.set(\"mask\", Graphics.new(this._root, {}));\r\n            gridContainer.set(\"mask\", Graphics.new(this._root, {}));\r\n            this._disposers.push(this.plotContainer.events.on(\"boundschanged\", function () {\r\n                _this._updateRadius();\r\n            }));\r\n        }\r\n    });\r\n    Object.defineProperty(RadarChart.prototype, \"_maskGrid\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(RadarChart.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._prepareChildren.call(this);\r\n            if (this._sizeDirty || this.isDirty(\"radius\") || this.isDirty(\"innerRadius\") || this.isDirty(\"startAngle\") || this.isDirty(\"endAngle\")) {\r\n                var chartContainer = this.chartContainer;\r\n                var w = chartContainer.innerWidth();\r\n                var h = chartContainer.innerHeight();\r\n                var startAngle = this.get(\"startAngle\", 0);\r\n                var endAngle = this.get(\"endAngle\", 0);\r\n                var innerRadius = this.get(\"innerRadius\");\r\n                var bounds = $math.getArcBounds(0, 0, startAngle, endAngle, 1);\r\n                var wr = w / (bounds.right - bounds.left);\r\n                var hr = h / (bounds.bottom - bounds.top);\r\n                var innerBounds = { left: 0, right: 0, top: 0, bottom: 0 };\r\n                if (innerRadius instanceof Percent) {\r\n                    var value = innerRadius.value;\r\n                    var mr = Math.min(wr, hr);\r\n                    value = Math.max(mr * value, mr - Math.min(h, w)) / mr;\r\n                    innerBounds = $math.getArcBounds(0, 0, startAngle, endAngle, value);\r\n                    this.setPrivateRaw(\"irModifyer\", value / innerRadius.value);\r\n                }\r\n                bounds = $math.mergeBounds([bounds, innerBounds]);\r\n                this._maxRadius = Math.max(0, Math.min(wr, hr));\r\n                var radius = $utils.relativeToValue(this.get(\"radius\", 0), this._maxRadius);\r\n                this.radarContainer.setAll({\r\n                    dy: -radius * (bounds.bottom + bounds.top) / 2, dx: -radius * (bounds.right + bounds.left) / 2\r\n                });\r\n                this._updateRadius();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(RadarChart.prototype, \"_addCursor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (cursor) {\r\n            this.radarContainer.children.push(cursor);\r\n        }\r\n    });\r\n    // do not delete\r\n    Object.defineProperty(RadarChart.prototype, \"_updateRadius\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var radius = $utils.relativeToValue(this.get(\"radius\", percent(80)), this._maxRadius);\r\n            this.setPrivateRaw(\"radius\", radius);\r\n            var innerRadius = $utils.relativeToValue(this.get(\"innerRadius\", 0), radius);\r\n            if (innerRadius < 0) {\r\n                innerRadius = radius + innerRadius;\r\n            }\r\n            this.setPrivateRaw(\"innerRadius\", innerRadius);\r\n            this.xAxes.each(function (axis) {\r\n                var renderer = axis.get(\"renderer\");\r\n                renderer.updateLayout();\r\n            });\r\n            this.yAxes.each(function (axis) {\r\n                var renderer = axis.get(\"renderer\");\r\n                renderer.updateLayout();\r\n            });\r\n            this._updateMask(this.seriesContainer, innerRadius, radius);\r\n            this._updateMask(this.gridContainer, innerRadius, radius);\r\n            this.series.each(function (series) {\r\n                if (series.get(\"maskBullets\")) {\r\n                    _this._updateMask(series.bulletsContainer, innerRadius, radius);\r\n                }\r\n                else {\r\n                    series.bulletsContainer.remove(\"mask\");\r\n                }\r\n            });\r\n            var cursor = this.get(\"cursor\");\r\n            if (cursor) {\r\n                cursor.updateLayout();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(RadarChart.prototype, \"_updateMask\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (container, innerRadius, radius) {\r\n            var _this = this;\r\n            var mask = container.get(\"mask\");\r\n            if (mask) {\r\n                mask.set(\"draw\", function (display) {\r\n                    _this._arcGenerator.context(display);\r\n                    _this._arcGenerator({ innerRadius: innerRadius, outerRadius: radius, startAngle: (_this.get(\"startAngle\", 0) + 90) * $math.RADIANS, endAngle: (_this.get(\"endAngle\", 0) + 90) * $math.RADIANS });\r\n                });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(RadarChart.prototype, \"processAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axis) {\r\n            this.radarContainer.children.push(axis);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(RadarChart.prototype, \"inPlot\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point, radius, innerRadius) {\r\n            var _a;\r\n            var r = Math.hypot(point.x, point.y);\r\n            var angle = $math.normalizeAngle(Math.atan2(point.y, point.x) * $math.DEGREES);\r\n            var startAngle = $math.normalizeAngle(this.get(\"startAngle\", 0));\r\n            var endAngle = $math.normalizeAngle(this.get(\"endAngle\", 0));\r\n            var inArc = false;\r\n            if (startAngle < endAngle) {\r\n                if (startAngle < angle && angle < endAngle) {\r\n                    inArc = true;\r\n                }\r\n            }\r\n            if (startAngle > endAngle) {\r\n                if (angle > startAngle) {\r\n                    inArc = true;\r\n                }\r\n                if (angle < endAngle) {\r\n                    inArc = true;\r\n                }\r\n            }\r\n            if (startAngle == endAngle) {\r\n                inArc = true;\r\n            }\r\n            if (!inArc) {\r\n                return false;\r\n            }\r\n            if (radius == null) {\r\n                radius = this.getPrivate(\"radius\", 0);\r\n            }\r\n            if (innerRadius == null) {\r\n                innerRadius = this.getPrivate(\"innerRadius\", 0);\r\n            }\r\n            if (innerRadius > radius) {\r\n                _a = __read([radius, innerRadius], 2), innerRadius = _a[0], radius = _a[1];\r\n            }\r\n            if (r <= radius + .5 && r >= innerRadius - .5) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    Object.defineProperty(RadarChart.prototype, \"_tooltipToLocal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return this.radarContainer._display.toLocal(point);\r\n        }\r\n    });\r\n    Object.defineProperty(RadarChart.prototype, \"_handlePinch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(RadarChart, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"RadarChart\"\r\n    });\r\n    Object.defineProperty(RadarChart, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: XYChart.classNames.concat([RadarChart.className])\r\n    });\r\n    return RadarChart;\r\n}(XYChart));\r\nexport { RadarChart };\r\n//# sourceMappingURL=RadarChart.js.map","import { __extends } from \"tslib\";\r\nimport { RadialLabel } from \"../../../core/render/RadialLabel\";\r\n/**\r\n * Draws a label on a circular axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Labels} for more info\r\n */\r\nvar AxisLabelRadial = /** @class */ (function (_super) {\r\n    __extends(AxisLabelRadial, _super);\r\n    function AxisLabelRadial() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_tickPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AxisLabelRadial, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisLabelRadial\"\r\n    });\r\n    Object.defineProperty(AxisLabelRadial, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: RadialLabel.classNames.concat([AxisLabelRadial.className])\r\n    });\r\n    return AxisLabelRadial;\r\n}(RadialLabel));\r\nexport { AxisLabelRadial };\r\n//# sourceMappingURL=AxisLabelRadial.js.map","import { __extends, __read } from \"tslib\";\r\nimport { Slice } from \"../../core/render/Slice\";\r\nimport { AxisRenderer } from \"../xy/axes/AxisRenderer\";\r\nimport { AxisLabelRadial } from \"../xy/axes/AxisLabelRadial\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { ListTemplate } from \"../../core/util/List\";\r\nimport { Template } from \"../../core/util/Template\";\r\nimport { arc } from \"d3-shape\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as $math from \"../../core/util/Math\";\r\n/**\r\n * Renderer for circular axes.\r\n */\r\nvar AxisRendererCircular = /** @class */ (function (_super) {\r\n    __extends(AxisRendererCircular, _super);\r\n    function AxisRendererCircular() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * A list of labels in the axis.\r\n         *\r\n         * `labels.template` can be used to configure labels.\r\n         *\r\n         * @default new ListTemplate<AxisLabelRadial>\r\n         */\r\n        Object.defineProperty(_this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return AxisLabelRadial._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.labels.template.get(\"themeTags\", []), _this.get(\"themeTags\", []))\r\n            }, [_this.labels.template]); })\r\n        });\r\n        /**\r\n         * A list of fills in the axis.\r\n         *\r\n         * `axisFills.template` can be used to configure axis fills.\r\n         *\r\n         * @default new ListTemplate<Slice>\r\n         */\r\n        Object.defineProperty(_this, \"axisFills\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Slice._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.axisFills.template.get(\"themeTags\", [\"fill\"]), _this.get(\"themeTags\", []))\r\n            }, [_this.axisFills.template]); })\r\n        });\r\n        Object.defineProperty(_this, \"_fillGenerator\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: arc()\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"circular\"]);\r\n            _super.prototype._afterNew.call(this);\r\n            this.setPrivateRaw(\"letter\", \"X\");\r\n            this.setRaw(\"position\", \"absolute\");\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this.isDirty(\"radius\") || this.isDirty(\"innerRadius\") || this.isDirty(\"startAngle\") || this.isDirty(\"endAngle\")) {\r\n                this.updateLayout();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"updateLayout\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                var radius = chart.getPrivate(\"radius\", 0);\r\n                var r_1 = $utils.relativeToValue(this.get(\"radius\", p100), radius);\r\n                if (r_1 < 0) {\r\n                    r_1 = radius + r_1;\r\n                }\r\n                this.setPrivate(\"radius\", r_1);\r\n                var ir = $utils.relativeToValue(this.get(\"innerRadius\", chart.getPrivate(\"innerRadius\", 0)), radius) * chart.getPrivate(\"irModifyer\", 1);\r\n                if (ir < 0) {\r\n                    ir = r_1 + ir;\r\n                }\r\n                this.setPrivate(\"innerRadius\", ir);\r\n                var startAngle_1 = this.get(\"startAngle\", chart.get(\"startAngle\", -90));\r\n                var endAngle_1 = this.get(\"endAngle\", chart.get(\"endAngle\", 270));\r\n                this.setPrivate(\"startAngle\", startAngle_1);\r\n                this.setPrivate(\"endAngle\", endAngle_1);\r\n                this.set(\"draw\", function (display) {\r\n                    var _a;\r\n                    var p0 = _this.positionToPoint(0);\r\n                    display.moveTo(p0.x, p0.y);\r\n                    if (startAngle_1 > endAngle_1) {\r\n                        _a = __read([endAngle_1, startAngle_1], 2), startAngle_1 = _a[0], endAngle_1 = _a[1];\r\n                    }\r\n                    display.arc(0, 0, r_1, startAngle_1 * $math.RADIANS, endAngle_1 * $math.RADIANS);\r\n                });\r\n                this.axis.markDirtySize();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"updateGrid\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (grid, position, endPosition) {\r\n            if (grid) {\r\n                if (position == null) {\r\n                    position = 0;\r\n                }\r\n                var location_1 = grid.get(\"location\", 0.5);\r\n                if (endPosition != null && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_1;\r\n                }\r\n                var radius_1 = this.getPrivate(\"radius\", 0);\r\n                var innerRadius_1 = this.getPrivate(\"innerRadius\", 0);\r\n                var angle_1 = this.positionToAngle(position);\r\n                this.toggleVisibility(grid, position, 0, 1);\r\n                if (radius_1 != null) {\r\n                    grid.set(\"draw\", function (display) {\r\n                        display.moveTo(innerRadius_1 * $math.cos(angle_1), innerRadius_1 * $math.sin(angle_1));\r\n                        display.lineTo(radius_1 * $math.cos(angle_1), radius_1 * $math.sin(angle_1));\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Converts relative position to angle.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Angle\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"positionToAngle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var axis = this.axis;\r\n            var startAngle = this.getPrivate(\"startAngle\", 0);\r\n            var endAngle = this.getPrivate(\"endAngle\", 360);\r\n            var start = axis.get(\"start\", 0);\r\n            var end = axis.get(\"end\", 1);\r\n            var arc = (endAngle - startAngle) / (end - start);\r\n            var angle;\r\n            if (this.get(\"inversed\")) {\r\n                angle = startAngle + (end - position) * arc;\r\n            }\r\n            else {\r\n                angle = startAngle + (position - start) * arc;\r\n            }\r\n            return angle;\r\n        }\r\n    });\r\n    // do not delete\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"_handleOpposite\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    /**\r\n     * Converts relative position to an X/Y coordinate.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Point\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"positionToPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var radius = this.getPrivate(\"radius\", 0);\r\n            var angle = this.positionToAngle(position);\r\n            return { x: radius * $math.cos(angle), y: radius * $math.sin(angle) };\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"updateLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (label, position, endPosition, count) {\r\n            if (label) {\r\n                if (position == null) {\r\n                    position = 0;\r\n                }\r\n                var location_2 = 0.5;\r\n                if (count != null && count > 1) {\r\n                    location_2 = label.get(\"multiLocation\", location_2);\r\n                }\r\n                else {\r\n                    location_2 = label.get(\"location\", location_2);\r\n                }\r\n                if (endPosition != null && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_2;\r\n                }\r\n                var radius = this.getPrivate(\"radius\", 0);\r\n                var innerRadius = this.getPrivate(\"innerRadius\", 0);\r\n                var angle = this.positionToAngle(position);\r\n                label.setPrivate(\"radius\", radius);\r\n                label.setPrivate(\"innerRadius\", innerRadius);\r\n                label.set(\"labelAngle\", angle);\r\n                this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"fillDrawMethod\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill, startAngle, endAngle) {\r\n            var _this = this;\r\n            fill.set(\"draw\", function (display) {\r\n                if (startAngle == null) {\r\n                    startAngle = _this.getPrivate(\"startAngle\", 0);\r\n                }\r\n                if (endAngle == null) {\r\n                    endAngle = _this.getPrivate(\"endAngle\", 0);\r\n                }\r\n                var y0 = _this.getPrivate(\"innerRadius\", 0);\r\n                var y1 = _this.getPrivate(\"radius\", 0);\r\n                _this._fillGenerator.context(display);\r\n                _this._fillGenerator({ innerRadius: y0, outerRadius: y1, startAngle: (startAngle + 90) * $math.RADIANS, endAngle: (endAngle + 90) * $math.RADIANS });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"updateTick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tick, position, endPosition, count) {\r\n            if (tick) {\r\n                if (position == null) {\r\n                    position = 0;\r\n                }\r\n                var location_3 = 0.5;\r\n                if (count != null && count > 1) {\r\n                    location_3 = tick.get(\"multiLocation\", location_3);\r\n                }\r\n                else {\r\n                    location_3 = tick.get(\"location\", location_3);\r\n                }\r\n                if (endPosition != null && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_3;\r\n                }\r\n                var length_1 = tick.get(\"length\", 0);\r\n                var inside = tick.get(\"inside\");\r\n                if (inside) {\r\n                    length_1 *= -1;\r\n                }\r\n                var radius_2 = this.getPrivate(\"radius\", 0);\r\n                var angle_2 = this.positionToAngle(position);\r\n                this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\r\n                if (radius_2 != null) {\r\n                    tick.set(\"draw\", function (display) {\r\n                        display.moveTo(radius_2 * $math.cos(angle_2), radius_2 * $math.sin(angle_2));\r\n                        radius_2 += length_1;\r\n                        display.lineTo(radius_2 * $math.cos(angle_2), radius_2 * $math.sin(angle_2));\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"updateBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bullet, position, endPosition) {\r\n            if (bullet) {\r\n                var sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    if (position == null) {\r\n                        position = 0;\r\n                    }\r\n                    var location_4 = bullet.get(\"location\", 0.5);\r\n                    if (endPosition != null && endPosition != position) {\r\n                        position = position + (endPosition - position) * location_4;\r\n                    }\r\n                    var radius = this.getPrivate(\"radius\", 0);\r\n                    var angle = this.positionToAngle(position);\r\n                    this.toggleVisibility(sprite, position, 0, 1);\r\n                    sprite.setAll({ rotation: angle, x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"updateFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill, position, endPosition) {\r\n            if (fill) {\r\n                if (position == null) {\r\n                    position = 0;\r\n                }\r\n                if (endPosition == null) {\r\n                    endPosition = 1;\r\n                }\r\n                var startAngle = this.fitAngle(this.positionToAngle(position));\r\n                var endAngle = this.fitAngle(this.positionToAngle(endPosition));\r\n                fill.setAll({ startAngle: startAngle, arc: endAngle - startAngle });\r\n                fill._setSoft(\"innerRadius\", this.getPrivate(\"innerRadius\"));\r\n                fill._setSoft(\"radius\", this.getPrivate(\"radius\"));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"fitAngle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (angle) {\r\n            var startAngle = this.getPrivate(\"startAngle\", 0);\r\n            var endAngle = this.getPrivate(\"endAngle\", 0);\r\n            var minAngle = Math.min(startAngle, endAngle);\r\n            var maxAngle = Math.max(startAngle, endAngle);\r\n            if (angle < minAngle) {\r\n                angle = minAngle;\r\n            }\r\n            if (angle > maxAngle) {\r\n                angle = maxAngle;\r\n            }\r\n            return angle;\r\n        }\r\n    });\r\n    /**\r\n     * Returns axis length in pixels.\r\n     *\r\n     * @return Length\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"axisLength\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return Math.abs(this.getPrivate(\"radius\", 0) * Math.PI * 2 * (this.getPrivate(\"endAngle\", 360) - this.getPrivate(\"startAngle\", 0)) / 360);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"positionTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip, position) {\r\n            var radius = this.getPrivate(\"radius\", 0);\r\n            var angle = this.positionToAngle(position);\r\n            //return tooltip.set(\"pointTo\", this.axis._display.toGlobal({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) }));\r\n            this._positionTooltip(tooltip, { x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"updateTooltipBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_tooltip) {\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererCircular, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisRendererCircular\"\r\n    });\r\n    Object.defineProperty(AxisRendererCircular, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: AxisRenderer.classNames.concat([AxisRendererCircular.className])\r\n    });\r\n    return AxisRendererCircular;\r\n}(AxisRenderer));\r\nexport { AxisRendererCircular };\r\n//# sourceMappingURL=AxisRendererCircular.js.map","import { __extends, __read } from \"tslib\";\r\nimport { AxisRenderer } from \"../xy/axes/AxisRenderer\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { AxisLabelRadial } from \"../xy/axes/AxisLabelRadial\";\r\nimport { arc } from \"d3-shape\";\r\nimport { ListTemplate } from \"../../core/util/List\";\r\nimport { Template } from \"../../core/util/Template\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $math from \"../../core/util/Math\";\r\n/**\r\n * Renderer for radial axes.\r\n */\r\nvar AxisRendererRadial = /** @class */ (function (_super) {\r\n    __extends(AxisRendererRadial, _super);\r\n    function AxisRendererRadial() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_fillGenerator\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: arc()\r\n        });\r\n        /**\r\n         * A [[TemplateList]] with all the labels attached to the axis.\r\n         *\r\n         * `labels.template` can be used to configure appearance of the labels.\r\n         *\r\n         * @default new ListTemplate<AxisLabelRadial>\r\n         */\r\n        Object.defineProperty(_this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return AxisLabelRadial._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.labels.template.get(\"themeTags\", []), _this.get(\"themeTags\", []))\r\n            }, [_this.labels.template]); })\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"radial\"]);\r\n            _super.prototype._afterNew.call(this);\r\n            this.setPrivate(\"letter\", \"Y\");\r\n            this.setRaw(\"position\", \"absolute\");\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this.isDirty(\"radius\") || this.isDirty(\"innerRadius\") || this.isDirty(\"startAngle\") || this.isDirty(\"endAngle\")) {\r\n                this.updateLayout();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"processAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.processAxis.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"updateLayout\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                var radius = chart.getPrivate(\"radius\", 0);\r\n                var r_1 = $utils.relativeToValue(this.get(\"radius\", p100), radius);\r\n                var ir_1 = $utils.relativeToValue(this.get(\"innerRadius\", chart.getPrivate(\"innerRadius\", 0)), radius) * chart.getPrivate(\"irModifyer\", 1);\r\n                if (ir_1 < 0) {\r\n                    ir_1 = r_1 + ir_1;\r\n                }\r\n                this.setPrivate(\"radius\", r_1);\r\n                this.setPrivate(\"innerRadius\", ir_1);\r\n                var startAngle = this.get(\"startAngle\", chart.get(\"startAngle\", -90));\r\n                var endAngle = this.get(\"endAngle\", chart.get(\"endAngle\", 270));\r\n                this.setPrivate(\"startAngle\", startAngle);\r\n                this.setPrivate(\"endAngle\", endAngle);\r\n                var axisAngle_1 = this.get(\"axisAngle\", 0);\r\n                this.set(\"draw\", function (display) {\r\n                    display.moveTo(ir_1 * $math.cos(axisAngle_1), ir_1 * $math.sin(axisAngle_1));\r\n                    display.lineTo(r_1 * $math.cos(axisAngle_1), r_1 * $math.sin(axisAngle_1));\r\n                });\r\n                this.axis.markDirtySize();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"updateGrid\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (grid, position, endPosition) {\r\n            var _this = this;\r\n            if (grid) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_1 = grid.get(\"location\", 0.5);\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_1;\r\n                }\r\n                var radius_1 = this.positionToCoordinate(position) + this.getPrivate(\"innerRadius\", 0);\r\n                this.toggleVisibility(grid, position, 0, 1);\r\n                if ($type.isNumber(radius_1)) {\r\n                    grid.set(\"draw\", function (display) {\r\n                        var startAngle = _this.getPrivate(\"startAngle\", 0) * $math.RADIANS;\r\n                        var endAngle = _this.getPrivate(\"endAngle\", 0) * $math.RADIANS;\r\n                        display.arc(0, 0, Math.max(0, radius_1), Math.min(startAngle, endAngle), Math.max(startAngle, endAngle));\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    // do not delete\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"_handleOpposite\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    /**\r\n     * Converts relative position to X/Y point.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Point\r\n     */\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"positionToPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var innerRadius = this.getPrivate(\"innerRadius\", 0);\r\n            var radius = this.positionToCoordinate(position) + innerRadius;\r\n            var axisAngle = this.get(\"axisAngle\", 0);\r\n            return { x: radius * $math.cos(axisAngle), y: radius * $math.sin(axisAngle) };\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"updateLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (label, position, endPosition, count) {\r\n            if (label) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_2 = 0.5;\r\n                if ($type.isNumber(count) && count > 1) {\r\n                    location_2 = label.get(\"multiLocation\", location_2);\r\n                }\r\n                else {\r\n                    location_2 = label.get(\"location\", location_2);\r\n                }\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_2;\r\n                }\r\n                var point = this.positionToPoint(position);\r\n                var radius = Math.hypot(point.x, point.y);\r\n                label.setPrivate(\"radius\", radius);\r\n                label.setPrivate(\"innerRadius\", radius);\r\n                label.set(\"labelAngle\", this.get(\"axisAngle\"));\r\n                this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"fillDrawMethod\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill, y0, y1) {\r\n            var _this = this;\r\n            fill.set(\"draw\", function (display) {\r\n                var _a;\r\n                y0 = Math.max(0, y0);\r\n                y1 = Math.max(0, y1);\r\n                _this._fillGenerator.context(display);\r\n                var startAngle = (_this.getPrivate(\"startAngle\", 0) + 90) * $math.RADIANS;\r\n                var endAngle = (_this.getPrivate(\"endAngle\", 0) + 90) * $math.RADIANS;\r\n                if (endAngle < startAngle) {\r\n                    _a = __read([endAngle, startAngle], 2), startAngle = _a[0], endAngle = _a[1];\r\n                }\r\n                _this._fillGenerator({ innerRadius: y0, outerRadius: y1, startAngle: startAngle, endAngle: endAngle });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"updateTick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tick, position, endPosition, count) {\r\n            if (tick) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_3 = 0.5;\r\n                if ($type.isNumber(count) && count > 1) {\r\n                    location_3 = tick.get(\"multiLocation\", location_3);\r\n                }\r\n                else {\r\n                    location_3 = tick.get(\"location\", location_3);\r\n                }\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_3;\r\n                }\r\n                var point = this.positionToPoint(position);\r\n                tick.set(\"x\", point.x);\r\n                tick.set(\"y\", point.y);\r\n                var length_1 = tick.get(\"length\", 0);\r\n                var inside = tick.get(\"inside\");\r\n                if (inside) {\r\n                    length_1 *= -1;\r\n                }\r\n                var axisAngle_2 = this.get(\"axisAngle\", 0) + 90;\r\n                tick.set(\"draw\", function (display) {\r\n                    display.moveTo(0, 0);\r\n                    display.lineTo(length_1 * $math.cos(axisAngle_2), length_1 * $math.sin(axisAngle_2));\r\n                });\r\n                this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"updateBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bullet, position, endPosition) {\r\n            if (bullet) {\r\n                var sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    if (!$type.isNumber(position)) {\r\n                        position = 0;\r\n                    }\r\n                    var location_4 = bullet.get(\"location\", 0.5);\r\n                    if ($type.isNumber(endPosition) && endPosition != position) {\r\n                        position = position + (endPosition - position) * location_4;\r\n                    }\r\n                    var point = this.positionToPoint(position);\r\n                    sprite.setAll({ x: point.x, y: point.y });\r\n                    this.toggleVisibility(sprite, position, 0, 1);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"updateFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill, position, endPosition) {\r\n            if (fill) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                if (!$type.isNumber(endPosition)) {\r\n                    endPosition = 1;\r\n                }\r\n                var innerRadius = this.getPrivate(\"innerRadius\", 0);\r\n                var y0 = this.positionToCoordinate(position) + innerRadius;\r\n                var y1 = this.positionToCoordinate(endPosition) + innerRadius;\r\n                this.fillDrawMethod(fill, y0, y1);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns axis length in pixels.\r\n     *\r\n     * @return Length\r\n     */\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"axisLength\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.getPrivate(\"radius\", 0) - this.getPrivate(\"innerRadius\", 0);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"updateTooltipBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_tooltip) {\r\n        }\r\n    });\r\n    /**\r\n     * Converts relative position to pixels.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Pixels\r\n     */\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"positionToCoordinate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            if (this._inversed) {\r\n                position = Math.min(this._end, position);\r\n                return (this._end - position) * this._axisLength;\r\n            }\r\n            else {\r\n                position = Math.max(this._start, position);\r\n                return (position - this._start) * this._axisLength;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"positionTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip, position) {\r\n            var radius = this.getPrivate(\"innerRadius\", 0) + this.positionToCoordinate(position);\r\n            var angle = this.get(\"axisAngle\", 0);\r\n            //return tooltip.set(\"pointTo\", this.axis._display.toGlobal({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) }));\r\n            this._positionTooltip(tooltip, { x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererRadial, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisRendererRadial\"\r\n    });\r\n    Object.defineProperty(AxisRendererRadial, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: AxisRenderer.classNames.concat([AxisRendererRadial.className])\r\n    });\r\n    return AxisRendererRadial;\r\n}(AxisRenderer));\r\nexport { AxisRendererRadial };\r\n//# sourceMappingURL=AxisRendererRadial.js.map","import { __extends, __read } from \"tslib\";\r\nimport { BaseColumnSeries } from \"../xy/series/BaseColumnSeries\";\r\nimport { Slice } from \"../../core/render/Slice\";\r\nimport { Graphics } from \"../../core/render/Graphics\";\r\nimport { Template } from \"../../core/util/Template\";\r\nimport { ListTemplate } from \"../../core/util/List\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * A column series for use in a [[RadarChart]].\r\n *\r\n * @important\r\n */\r\nvar RadarColumnSeries = /** @class */ (function (_super) {\r\n    __extends(RadarColumnSeries, _super);\r\n    function RadarColumnSeries() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * A [[TemplateList]] of all columns in series.\r\n         *\r\n         * `columns.template` can be used to set default settings for all columns,\r\n         * or to change on existing ones.\r\n         *\r\n         * @default new ListTemplate<Slice>\r\n         */\r\n        Object.defineProperty(_this, \"columns\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Slice._new(_this._root, {\r\n                position: \"absolute\",\r\n                themeTags: $utils.mergeTags(_this.columns.template.get(\"themeTags\", []), [\"radar\", \"series\", \"column\"])\r\n            }, [_this.columns.template]); })\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(RadarColumnSeries.prototype, \"makeColumn\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, listTemplate) {\r\n            var column = this.mainContainer.children.push(listTemplate.make());\r\n            column._setDataItem(dataItem);\r\n            listTemplate.push(column);\r\n            return column;\r\n        }\r\n    });\r\n    Object.defineProperty(RadarColumnSeries.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterNew.call(this);\r\n            this.set(\"maskContent\", false);\r\n            this.bulletsContainer.set(\"maskContent\", false);\r\n            this.bulletsContainer.set(\"mask\", Graphics.new(this._root, {}));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(RadarColumnSeries.prototype, \"getPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (positionX, positionY) {\r\n            var yAxis = this.get(\"yAxis\");\r\n            var xAxis = this.get(\"xAxis\");\r\n            var rendererY = xAxis.get(\"renderer\");\r\n            var radius = yAxis.get(\"renderer\").positionToCoordinate(positionY) + rendererY.getPrivate(\"innerRadius\", 0);\r\n            var rendererX = xAxis.get(\"renderer\");\r\n            var angle = rendererX.positionToAngle(positionX);\r\n            return { x: radius * $math.cos(angle), y: radius * $math.sin(angle) };\r\n        }\r\n    });\r\n    Object.defineProperty(RadarColumnSeries.prototype, \"_updateSeriesGraphics\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, graphics, l, r, t, b) {\r\n            var _a;\r\n            graphics.setPrivate(\"visible\", true);\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var rendererX = xAxis.get(\"renderer\");\r\n            var rendererY = yAxis.get(\"renderer\");\r\n            var axisInnerRadius = rendererY.getPrivate(\"innerRadius\", 0);\r\n            var startAngle = rendererX.fitAngle(rendererX.positionToAngle(l));\r\n            var endAngle = rendererX.fitAngle(rendererX.positionToAngle(r));\r\n            var innerRadius = rendererY.positionToCoordinate(b) + axisInnerRadius;\r\n            var radius = rendererY.positionToCoordinate(t) + axisInnerRadius;\r\n            var slice = graphics;\r\n            dataItem.setRaw(\"startAngle\", startAngle);\r\n            dataItem.setRaw(\"endAngle\", endAngle);\r\n            dataItem.setRaw(\"innerRadius\", innerRadius);\r\n            dataItem.setRaw(\"radius\", radius);\r\n            var axisStartAngle = 0;\r\n            var axisEndAngle = 360;\r\n            if (yAxis == this.get(\"baseAxis\")) {\r\n                axisStartAngle = rendererY.getPrivate(\"startAngle\", 0);\r\n                axisEndAngle = rendererY.getPrivate(\"endAngle\", 360);\r\n            }\r\n            else {\r\n                axisStartAngle = rendererX.getPrivate(\"startAngle\", 0);\r\n                axisEndAngle = rendererX.getPrivate(\"endAngle\", 360);\r\n            }\r\n            if (axisStartAngle > axisEndAngle) {\r\n                _a = __read([axisEndAngle, axisStartAngle], 2), axisStartAngle = _a[0], axisEndAngle = _a[1];\r\n            }\r\n            if ((endAngle <= axisStartAngle) || (startAngle >= axisEndAngle) || (radius <= axisInnerRadius && innerRadius <= axisInnerRadius)) {\r\n                slice.setPrivate(\"visible\", false);\r\n            }\r\n            slice.setAll({ innerRadius: innerRadius, radius: radius, startAngle: startAngle, arc: endAngle - startAngle });\r\n        }\r\n    });\r\n    Object.defineProperty(RadarColumnSeries.prototype, \"_shouldInclude\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var xAxis = this.get(\"xAxis\");\r\n            if (position < xAxis.get(\"start\") || position > xAxis.get(\"end\")) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n    Object.defineProperty(RadarColumnSeries.prototype, \"_shouldShowBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (positionX, _positionY) {\r\n            var xAxis = this.get(\"xAxis\");\r\n            if (positionX < xAxis.get(\"start\") || positionX > xAxis.get(\"end\")) {\r\n                return false;\r\n            }\r\n            return this._showBullets;\r\n        }\r\n    });\r\n    Object.defineProperty(RadarColumnSeries.prototype, \"_positionBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bullet) {\r\n            var sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                var dataItem = sprite.dataItem;\r\n                var locationX = bullet.get(\"locationX\", dataItem.get(\"locationX\", 0.5));\r\n                var locationY = bullet.get(\"locationY\", dataItem.get(\"locationY\", 0.5));\r\n                var series = dataItem.component;\r\n                var xAxis = series.get(\"xAxis\");\r\n                var yAxis = series.get(\"yAxis\");\r\n                var positionX = xAxis.getDataItemPositionX(dataItem, series._xField, locationX, series.get(\"vcx\", 1));\r\n                var positionY = yAxis.getDataItemPositionY(dataItem, series._yField, locationY, series.get(\"vcy\", 1));\r\n                var startAngle = dataItem.get(\"startAngle\", 0);\r\n                var endAngle = dataItem.get(\"endAngle\", 0);\r\n                var radius = dataItem.get(\"radius\", 0);\r\n                var innerRadius = dataItem.get(\"innerRadius\", 0);\r\n                if (series._shouldShowBullet(positionX, positionY)) {\r\n                    sprite.setPrivate(\"visible\", true);\r\n                    var angle = startAngle + (endAngle - startAngle) * locationX;\r\n                    var r = innerRadius + (radius - innerRadius) * locationY;\r\n                    sprite.set(\"x\", $math.cos(angle) * r);\r\n                    sprite.set(\"y\", $math.sin(angle) * r);\r\n                }\r\n                else {\r\n                    sprite.setPrivate(\"visible\", false);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(RadarColumnSeries.prototype, \"_handleMaskBullets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(RadarColumnSeries.prototype, \"_processAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axisRange) {\r\n            var _this = this;\r\n            _super.prototype._processAxisRange.call(this, axisRange);\r\n            axisRange.columns = new ListTemplate(Template.new({}), function () { return Slice._new(_this._root, {\r\n                position: \"absolute\",\r\n                themeTags: $utils.mergeTags(axisRange.columns.template.get(\"themeTags\", []), [\"radar\", \"series\", \"column\"]),\r\n            }, [_this.columns.template, axisRange.columns.template]); });\r\n        }\r\n    });\r\n    Object.defineProperty(RadarColumnSeries, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"RadarColumnSeries\"\r\n    });\r\n    Object.defineProperty(RadarColumnSeries, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: BaseColumnSeries.classNames.concat([RadarColumnSeries.className])\r\n    });\r\n    return RadarColumnSeries;\r\n}(BaseColumnSeries));\r\nexport { RadarColumnSeries };\r\n//# sourceMappingURL=RadarColumnSeries.js.map","<template>\n  <div class=\"myChart gauge\" ref=\"chartdiv\" :style=\"containerSize\"></div>\n</template>\n\n<script>\nimport * as am5 from '@amcharts/amcharts5';\nimport * as am5xy from \"@amcharts/amcharts5/xy\";\nimport * as am5radar from \"@amcharts/amcharts5/radar\";\nimport am5themes_Animated from '@amcharts/amcharts5/themes/Animated';\n\nexport default {\n  name: 'ChartView',\n  data() {\n    return {}\n  },\n  props: {\n    containerSize: {\n      type: Object,\n      required: true\n    }\n  },\n  mounted() {\n    let root = am5.Root.new(this.$refs.chartdiv);\n\n    root.setThemes([am5themes_Animated.new(root)]);\n\n\n    let chart = root.container.children.push(\n      am5radar.RadarChart.new(root, {\n        panX: false,\n        panY: false,\n        wheelX: 'panX',\n        wheelY: 'zoomX',\n        radius: am5.percent(70),\n        innerRadius: am5.percent(40),\n        startAngle: -90,\n        endAngle: 270,\n      })\n    );\n\n    let data = [\n      {\n        category: 'Alpha',\n        value: 80,\n        full: 100,\n        columnSettings: {\n          fill: chart.get('colors').getIndex(0)\n        }\n      },\n      {\n        category: 'Bravo',\n        value: 60,\n        full: 100,\n        columnSettings: {\n          fill: chart.get('colors').getIndex(1)\n        }\n      },\n      {\n        category: 'Charlie',\n        value: 70,\n        full: 100,\n        columnSettings: {\n          fill: chart.get('colors').getIndex(2)\n        }\n      },\n    ];\n\n    let xRenderer = am5radar.AxisRendererCircular.new(root, {});\n\n    xRenderer.labels.template.setAll({\n      radius: 10\n    });\n\n    xRenderer.grid.template.setAll({\n      forceHidden: true\n    });\n\n    let xAxis = chart.xAxes.push(am5xy.ValueAxis.new(root, {\n      renderer: xRenderer,\n      min: 0,\n      max: 100,\n      strictMinMax: true,\n      numberFormat: \"#'%'\",\n      tooltip: am5.Tooltip.new(root, {})\n    }));\n\n    let yRenderer = am5radar.AxisRendererRadial.new(root, {\n      minGridDistance: 20\n    });\n\n    yRenderer.grid.template.setAll({\n      forceHidden: true\n    });\n\n    let yAxis = chart.yAxes.push(am5xy.CategoryAxis.new(root, {\n      categoryField: \"category\",\n      renderer: yRenderer\n    }));\n\n    yRenderer.labels.template.setAll({\n      centerX: am5.p100,\n      fontWeight: \"500\",\n      fontSize: 18,\n      templateField: \"columnSettings\",\n      // visible: false\n    });\n\n\n    yAxis.data.setAll(data);\n\n    let series1 = chart.series.push(am5radar.RadarColumnSeries.new(root, {\n      xAxis: xAxis,\n      yAxis: yAxis,\n      clustered: false,\n      valueXField: \"full\",\n      categoryYField: \"category\",\n      // fill: am5.color(0xffffff),\n      fill: root.interfaceColors.get(\"alternativeBackground\")\n      // legendLabelText: \"[{fill}]{category}{/}\",\n      // legendValueText: \"[bold {fill}]{value}[/]\",\n    }));\n\n    series1.columns.template.setAll({\n      width: am5.p100,\n      fillOpacity: 0.08,\n      strokeOpacity: 0,\n      cornerRadius: 20\n    });\n\n    series1.data.setAll(data);\n\n    let series2 = chart.series.push(am5radar.RadarColumnSeries.new(root, {\n      xAxis: xAxis,\n      yAxis: yAxis,\n      clustered: false,\n      valueXField: \"value\",\n      categoryYField: \"category\"\n    }));\n\n    series2.columns.template.setAll({\n      width: am5.p100,\n      strokeOpacity: 0,\n      tooltipText: \"[bold]{category}[/]: {valueX}%\",\n      cornerRadius: 20,\n      templateField: \"columnSettings\"\n    });\n\n    series2.data.setAll(data);\n\n    // Add legend\n    // let legend = chart.children.push(am5.Legend.new(root, {\n    //   centerY: am5.percent(50),\n    //   y: am5.percent(50),\n    //   layout: root.verticalLayout\n    // }));\n    //\n    // legend.data.setAll(series.dataItems)\n    //\n    // series.slices.template.setAll({\n    //   strokeOpacity: 0.5,\n    //   stroke: am5.color(0xffffff),\n    //   strokeWidth: 2,\n    //   // tooltipText: ''\n    // })\n    //\n    // series.slices.template.states.create('active', {\n    //   shiftRadius: 20,\n    //   stroke: am5.color(0xffffff),\n    //   strokeWidth: 5\n    // })\n    //\n    // series.labels.template.setAll({\n    //   // fill: am5.color(0xffffff),\n    //   text: \"{category}\",\n    //   radius: 10,\n    //   // inside: true,\n    //   // textType: 'circular'\n    // })\n    //\n    // series.labels.template.set(\"visible\", false)\n    // series.ticks.template.set(\"visible\", false)\n\n\n\n\n\n    series1.appear(1000);\n    series2.appear(1000);\n    chart.appear(1000, 100);\n\n    this.root = root;\n\n  },\n  beforeDestroy() {\n    if (this.root) {\n      this.root.dispose();\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GaugeCharts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GaugeCharts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GaugeCharts.vue?vue&type=template&id=ceca67f4&\"\nimport script from \"./GaugeCharts.vue?vue&type=script&lang=js&\"\nexport * from \"./GaugeCharts.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"contents-view\">\n    <div class=\"chart-view\">\n      <XYCharts :container-size=\"container\" />\n    </div>\n    <div class=\"chart-view\">\n      <PieCharts  :container-size=\"container_s\" />\n    </div>\n    <div class=\"chart-view\">\n      <GaugeCharts  :container-size=\"container_s\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport XYCharts from \"./XYCharts\";\nimport PieCharts from \"./PieCharts\";\nimport GaugeCharts from \"./GaugeCharts\";\n\nexport default {\n  name: 'ChartsView',\n  components: {\n    XYCharts,\n    PieCharts,\n    GaugeCharts\n  },\n  data () {\n    return {\n      container: {\n        width: '1024px',\n        height: '500px'\n      },\n      container_s: {\n        width: '600px',\n        height: '500px'\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container-view {\n  height: 100%;\n}\n.chart-view {\n  width: 1024px;\n  height: 500px;\n\n  margin-bottom: 30px;\n  &> div {\n    background-color: #f2f2f2;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartsView.vue?vue&type=template&id=5ada7728&scoped=true&\"\nimport script from \"./ChartsView.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartsView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChartsView.vue?vue&type=style&index=0&id=5ada7728&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ada7728\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartsView.vue?vue&type=style&index=0&id=5ada7728&lang=scss&scoped=true&\""],"sourceRoot":""}