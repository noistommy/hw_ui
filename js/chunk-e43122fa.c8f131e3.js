(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e43122fa"],{5347:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"game-board-body"},[l("div",{ref:"gBoard",style:e.cellStyle,attrs:{id:"game-board",tabindex:"1"},on:{click:e.addTile,keydown:function(t){return t.preventDefault(),e.controller.apply(null,arguments)}}},[e._l(e.cells,(function(e){return l("div",{key:"cell_"+e.id,staticClass:"cell",attrs:{id:["cell_"+e.id]}})})),e._l(e.tiles,(function(t){return l("div",{key:"tile_"+t.id,staticClass:"tile",style:{"--x":t.x,"--y":t.y,"--bg-lightness":100-20*Math.log2(t.tile.value)+"%"},attrs:{id:["tile_"+t.id]}},[e._v(" "+e._s(t.tile.value)+" ")])}))],2)])},n=[];function r(e){return o(e)||c(e)||a(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"===typeof e)return u(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?u(e,t):void 0}}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}var d={name:"G2048",data:function(){return{start:!1,cells:[],tiles:[],gridSize:4,cellSize:10}},computed:{cellGap:function(){return this.cellSize/10},cellStyle:function(){return{"--grid-size":this.gridSize,"--cell-size":"".concat(this.cellSize,"vmin"),"--cell-gap":"".concat(this.cellGap,"vmin")}},emptyCells:function(){return this.cells.filter((function(e){return null==e.tile}))}},created:function(){this.cells=this.createCell()},mounted:function(){this.$refs.gBoard.focus()},methods:{setTileValue:function(){return Math.random()>.2?2:4},createCell:function(){var e=this,t=new Array(this.gridSize*this.gridSize).fill();return t.forEach((function(l,i){var n={x:i%e.gridSize,y:Math.floor(i/e.gridSize),id:i,tile:null};t[i]=n})),t},selectCell:function(e){console.log(e)},getRandomCell:function(){var e=Math.floor(Math.random()*this.emptyCells.length);return this.emptyCells[e]},addTile:function(){var e=this.getRandomCell();e.tile={value:this.setTileValue()},this.tiles.push(e),this.cells[e.id]=e},changeTile:function(){},controller:function(e){var t=e.key,l=[];switch(t){case" ":if(this.start)return;this.start=!0,this.addTile(),this.addTile();break;case"Escape":this.cells=this.createCell(),this.tiles=[],this.start=!1;break;case"ArrowUp":l=this.cellByColumn(),this.slideTile(l);break;case"ArrowLeft":l=this.cellByRow(),this.slideTile(l);break;case"ArrowRight":l=this.cellByRow().map((function(e){return r(e).reverse()})),this.slideTile(l);break;case"ArrowDown":l=this.cellByColumn().map((function(e){return r(e).reverse()})),this.slideTile(l);break}},cellByColumn:function(){return this.cells.reduce((function(e,t){return e[t.x]=e[t.x]||[],e[t.x][t.y]=t,e}),[])},cellByRow:function(){return this.cells.reduce((function(e,t){return e[t.y]=e[t.y]||[],e[t.y][t.x]=t,e}),[])},slideTile:function(e){var t=this;e.forEach((function(e){for(var l=1;l<e.length;l++)if(null!==e[l].tile){for(var i=null,n=l-1;n>=0;n--){if(null!=e[n].tile&&e[n].tile.value!==e[l].tile.value)break;i=n,console.log("laseCell",n)}if(null!==i){var r=t.findTileIndex(e[l].id),s=t.findTileIndex(e[i].id);null==e[i].tile?(e[i].tile=e[l].tile,t.tiles[r]=e[i]):(e[i].tile.value+=e[l].tile.value,t.tiles[r]=e[i],t.tiles.splice(s,1)),e[l].tile=null}}})),this.addTile()},findTileIndex:function(e){return this.tiles.findIndex((function(t){return t.id===e}))}}},f=d,h=(l("90b5"),l("2877")),y=Object(h["a"])(f,i,n,!1,null,"28c7dded",null);t["default"]=y.exports},"90b5":function(e,t,l){"use strict";l("cdbf")},cdbf:function(e,t,l){}}]);
//# sourceMappingURL=chunk-e43122fa.c8f131e3.js.map